{"type":"getPostByPath","data":{"title":"算法的手记","date":"2023-06-24T05:14:51.000Z","description":"算法相关学习笔记","categories":[],"tags":[{"name":"算法","_id":"cljiv9xc80022ue1379kv6c8o"}],"content":"<meta name=\"referrer\" content=\"no-referrer\">\n<h2 id=\"ACM题解注意\">ACM题解注意</h2>\n<h3 id=\"输入输出\">输入输出</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"type\">String</span> <span class=\"variable\">str</span> <span class=\"operator\">=</span> scanner.nextLine();   整行读入</span><br><span class=\"line\"> String[] s = str.split(<span class=\"string\">&quot; &quot;</span>);    将读入的行按“ ”分割</span><br><span class=\"line\"> Integer.parseInt(c);   将字符串c  转为  整数</span><br><span class=\"line\"> System.out.println(String.join(<span class=\"string\">&quot; &quot;</span>,s1));    在s1中加上空格</span><br><span class=\"line\"></span><br><span class=\"line\">Q:</span><br><span class=\"line\"></span><br><span class=\"line\">输入数据有多组, 每行表示一组输入数据。</span><br><span class=\"line\">每行不定有n个整数，空格隔开。(<span class=\"number\">1</span> &lt;= n &lt;= <span class=\"number\">100</span>)。</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"number\">4</span> <span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">A:</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Scanner;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestMain</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Scanner</span> <span class=\"variable\">scanner</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\">        </span><br><span class=\"line\">            <span class=\"keyword\">while</span> (scanner.hasNext()) &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;</span><br><span class=\"line\">                <span class=\"type\">String</span> <span class=\"variable\">num</span> <span class=\"operator\">=</span> scanner.nextLine();  <span class=\"comment\">//Line</span></span><br><span class=\"line\">                String[] s = num.split(<span class=\"string\">&quot; &quot;</span>);</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(String c:s)&#123;</span><br><span class=\"line\">                    sum += Integer.parseInt(c);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                System.out.println(sum);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Q:</span><br><span class=\"line\">输入有两行，第一行n</span><br><span class=\"line\">第二行是n个字符串，字符串之间用空格隔开</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">5</span></span><br><span class=\"line\">c d a bb e</span><br><span class=\"line\"></span><br><span class=\"line\">a bb c d e</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">A:</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Arrays;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Scanner;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestMain</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Scanner</span> <span class=\"variable\">scanner</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">a</span> <span class=\"operator\">=</span> scanner.nextInt();</span><br><span class=\"line\">        String s[] = <span class=\"keyword\">new</span> <span class=\"title class_\">String</span>[a];</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; a; i++) &#123;</span><br><span class=\"line\">                <span class=\"type\">String</span>  <span class=\"variable\">num</span> <span class=\"operator\">=</span> scanner.next();</span><br><span class=\"line\">                 s[i] = num;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            Arrays.sort(s);</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (String c : s) &#123;</span><br><span class=\"line\">                System.out.print(c+<span class=\"string\">&quot; &quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Q:</span><br><span class=\"line\">多个测试用例，每个测试用例一行。</span><br><span class=\"line\">每行通过空格隔开，有n个字符，n＜<span class=\"number\">100</span></span><br><span class=\"line\">    </span><br><span class=\"line\">a c bb</span><br><span class=\"line\">f dddd</span><br><span class=\"line\">nowcoder</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">a bb c</span><br><span class=\"line\">dddd f</span><br><span class=\"line\">nowcoder</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">A:</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Main</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Scanner</span> <span class=\"variable\">scanner</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(scanner.hasNext()) &#123;</span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">str</span> <span class=\"operator\">=</span> scanner.nextLine();</span><br><span class=\"line\">            String[] s = str.split(<span class=\"string\">&quot; &quot;</span>);</span><br><span class=\"line\">            Arrays.sort(s);</span><br><span class=\"line\">            System.out.println(String.join(<span class=\"string\">&quot; &quot;</span>,s));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Q: 两数之和     输入有多组测试用例，每组空格隔开两个整数</span><br><span class=\"line\"><span class=\"number\">0</span>&lt;a,</span><br><span class=\"line\">b&lt;<span class=\"number\">2</span>×<span class=\"number\">10</span>的<span class=\"number\">10</span>次方</span><br><span class=\"line\">     </span><br><span class=\"line\">A:</span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Scanner</span> <span class=\"variable\">scanner</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(scanner.hasNext()) &#123;</span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">str</span> <span class=\"operator\">=</span> scanner.nextLine();</span><br><span class=\"line\">            String[] s = str.split(<span class=\"string\">&quot; &quot;</span>);</span><br><span class=\"line\">            <span class=\"type\">int</span> n= s.length;</span><br><span class=\"line\">            <span class=\"type\">Long</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0L</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;n; i++) &#123;</span><br><span class=\"line\">                sum += Long.parseLong(s[i]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            System.out.println(sum);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//res   转为   String数组</span></span><br><span class=\"line\">String[] strings = res.toArray(<span class=\"keyword\">new</span> <span class=\"title class_\">String</span>[res.size()]);</span><br></pre></td></tr></table></figure>\n<h3 id=\"树\">树</h3>\n<h4 id=\"创建节点\">创建节点</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//先创建HeroNode结点</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">HeroNode</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> no;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> HeroNode left;.<span class=\"comment\">//默认null</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> HeroNode right;<span class=\"comment\">//默认null</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">HeroNode</span><span class=\"params\">(<span class=\"type\">int</span> no,String name)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.no=no;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.name=name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getNo</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> no;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setNo</span><span class=\"params\">(<span class=\"type\">int</span> no)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.no = no;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getName</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setName</span><span class=\"params\">(String name)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> HeroNode <span class=\"title function_\">getLeft</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> left;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setLeft</span><span class=\"params\">(HeroNode left)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.left=left;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> HeroNode getRightO&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> right;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setRight</span><span class=\"params\">(HeroNode right)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.right right;</span><br><span class=\"line\">    </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;HeroNode [no=&quot;</span>no <span class=\"string\">&quot;name=&quot;</span>name <span class=\"string\">&quot;]&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//前序遍历</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">preOrder</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"built_in\">this</span>);<span class=\"comment\">//先输出父结点</span></span><br><span class=\"line\">        <span class=\"comment\">//递归向左子树前序遍历</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.left !<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.left.preOrder();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//递归向右子树前序遍历</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.right !=<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.right.preOrderO;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//中序遍历</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">infixOrder</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//递归向左子树中序遍历</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.left !<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.left.infixOrder();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//输出父结点</span></span><br><span class=\"line\">        System.out.println(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">        <span class=\"comment\">//递归向右子树中序遍历</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.right !<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.right.infixOrderO;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"comment\">//后序遍历</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">postOrder</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.left !<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.left.postOrderO);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.right !<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.right.postOrderO;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.out.println(<span class=\"built_in\">this</span>);<span class=\"comment\">//先输出父结点</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"建树：\">建树：</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//定义一颗二叉树</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">BinaryTree</span>&#123;\t</span><br><span class=\"line\">    <span class=\"keyword\">private</span> HeroNode root;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setRoot</span><span class=\"params\">(HeroNode root)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.root=root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">//前序遍历</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">preOrder</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.root !=<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.root.preOrder();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;二叉树为空，无法遍历&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">//中序遍历</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">infixOrder</span><span class=\"params\">()</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.root !=<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.root.infixOrder();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;二叉树为空，无法遍历&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">//后序遍历</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">postOrder</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.root !=<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.root.postOrderO;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;二叉树为空，无法遍历&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"使用树\">使用树</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[]args)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//先需要创建一颗二叉树</span></span><br><span class=\"line\">    BinaryTree binaryTree <span class=\"keyword\">new</span> <span class=\"title class_\">BinaryTree</span>();</span><br><span class=\"line\">    <span class=\"comment\">//创建需要的结点</span></span><br><span class=\"line\">    HeroNode root=<span class=\"keyword\">new</span> <span class=\"title class_\">HeroNode</span>(<span class=\"number\">1</span>,<span class=\"string\">&quot;宋江&quot;</span>);</span><br><span class=\"line\">    HeroNode node2=<span class=\"keyword\">new</span> <span class=\"title class_\">HeroNode</span>(<span class=\"number\">2</span>,<span class=\"string\">&quot;吴用&quot;</span>);</span><br><span class=\"line\">    HeroNode node<span class=\"number\">.3</span>=<span class=\"keyword\">new</span> <span class=\"title class_\">HeroNode</span>(<span class=\"number\">3</span>,<span class=\"string\">&quot;卢俊义&quot;</span>);</span><br><span class=\"line\">    HeroNode node4=<span class=\"keyword\">new</span> <span class=\"title class_\">HeroNode</span>(<span class=\"number\">4</span>,<span class=\"string\">&quot;林冲&quot;</span>);</span><br><span class=\"line\">\tHeroNode node5=<span class=\"keyword\">new</span> <span class=\"title class_\">HeroNode</span>(<span class=\"number\">5</span>,<span class=\"string\">&quot;关胜&quot;</span>)；</span><br><span class=\"line\">\t<span class=\"comment\">//我们先手动创建该二叉树，后面我们学习递归的方式创建二叉树</span></span><br><span class=\"line\">    root.setLeft(node2);</span><br><span class=\"line\">    root.setRight(node3);</span><br><span class=\"line\">    node3.setRight(node4);</span><br><span class=\"line\">    node3.setLeft(node5);</span><br><span class=\"line\">    binary Tree.setRoot(root);</span><br><span class=\"line\"><span class=\"comment\">//测试</span></span><br><span class=\"line\">    System.out.printlne(<span class=\"string\">&quot;前序遍历&quot;</span>);<span class=\"comment\">//1,2,3,5,4</span></span><br><span class=\"line\">    binaryTree.preOrder();</span><br><span class=\"line\"><span class=\"comment\">//测试</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;中序遍历&quot;</span>);</span><br><span class=\"line\">    binaryTree.infixOrder();<span class=\"comment\">//2,1,5,3,4</span></span><br><span class=\"line\"><span class=\"comment\">//测试</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;后序遍历&quot;</span>);</span><br><span class=\"line\">    binaryTree.postOrder();<span class=\"comment\">//2,5,4,3,1</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"力扣解题时注意\">力扣解题时注意</h2>\n<h2 id=\"数学\">数学</h2>\n<h4 id=\"质数\">质数</h4>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"type\">boolean</span> <span class=\"title function_\">isPrim</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123; <span class=\"comment\">/* 质数判断 */</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (x == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">2</span>; i &lt;= Math.sqrt(x); i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (x % i == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h4 id=\"回文数\">回文数</h4>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isPalindrome</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(x&lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">tmp</span> <span class=\"operator\">=</span> x;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">y</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span>(tmp&gt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">last_num</span> <span class=\"operator\">=</span> tmp%<span class=\"number\">10</span>;</span><br><span class=\"line\">      tmp = tmp/<span class=\"number\">10</span>;</span><br><span class=\"line\">      y= y * <span class=\"number\">10</span> + last_num;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> y == x;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h2 id=\"二叉树\">二叉树</h2>\n<h3 id=\"递归-三步分析法\">&lt;递归&gt;三步分析法</h3>\n<h5 id=\"确定递归函数的参数和返回值：\"><strong>确定递归函数的参数和返回值：</strong></h5>\n<p>确定哪些参数是递归的过程中需要处理的，那么就在递归函数里加上这个参数， 并且还要明确每次递归的返回值是什么进而确定递归函数的返回类型。</p>\n<blockquote>\n<p>二叉树的参数一般都是   ==根节点  +   数组== （存放遍历的元素）</p>\n</blockquote>\n<h5 id=\"确定终止条件：\"><strong>确定终止条件：</strong></h5>\n<p>写完了递归算法, 运行的时候，经常会遇到栈溢出的错误，就是没写终止条件或者终止条件写的不对，操作系统也是用一个栈的结构来保存每一层递归的信息，如果递归没有终止，操作系统的内存栈必然就会溢出。</p>\n<h5 id=\"确定单层递归的逻辑：\"><strong>确定单层递归的逻辑：</strong></h5>\n<p>确定每一层递归需要处理的信息。在这里也就会重复调用自己来实现递归的过程。</p>\n<h3 id=\"纲领：\">纲领：</h3>\n<p>两种思维：&lt;都是递归&gt;</p>\n<ul>\n<li>遍历—— 回溯   使用 <strong>traverse函数</strong> 的遍历递归      traverse + 外部变量</li>\n<li>分解问题——dp/分治   使用<strong>非traverse函数</strong> 递归       函数 + 返回值</li>\n</ul>\n<p>二叉树<strong>遍历框架</strong>都是 递归 的</p>\n<p>三个特殊时间点</p>\n<blockquote>\n<p>前序位置的代码在==刚刚进入==一个二叉树节点的时候执行</p>\n<blockquote>\n<p><strong>前序位置的代码 只能 从函数参数中获取父节点传递来的数据</strong></p>\n</blockquote>\n<p>后序位置的代码在==将要离开==一个二叉树节点的时候执行</p>\n<blockquote>\n<p><strong>后序位置的代码  不仅  可以获取参数数据，还可以  获取到子树通过函数返回值传递回来的数据</strong></p>\n</blockquote>\n<p>中序位置的代码在一个二叉树节点左子树都遍历完，==即将开始==遍历右子树的时候执行</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">104</span> 最大深度和</span><br><span class=\"line\"><span class=\"comment\">// 递归，分解子问题最为简单 </span></span><br><span class=\"line\">    </span><br><span class=\"line\">----子问题    <span class=\"number\">1</span>、因为需要 左右函数的递归值，所以要在递归时进行变量赋值 (不一定有)  （此处有） <span class=\"type\">int</span> XX= XXmethod();</span><br><span class=\"line\">\t\t\t <span class=\"number\">2</span>、所有利用子问题求解的函数经过多次递归最终会得到答案，所以直接就都视为  已经得出答案的函数，这样在调动用的时候就不用想太多</span><br><span class=\"line\">    <span class=\"comment\">//求深度所以结果加1</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">144</span> 前序遍历</span><br><span class=\"line\"><span class=\"comment\">// traverse 函数不会有问题，在前序遍历的位置上有add操作</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">543</span> 直径</span><br><span class=\"line\">    <span class=\"comment\">// 利用104求深度的函数，104结果未+1时，所求的就是所谓的直径，所以在这时候直接求和进行对比替换</span></span><br><span class=\"line\"></span><br><span class=\"line\"> ----子问题    <span class=\"number\">1</span>、因为需要 左右函数的递归值，所以要在递归时进行变量赋值 (不一定有)  （此处有） <span class=\"type\">int</span> XX= XXmethod();</span><br><span class=\"line\">\t\t\t <span class=\"number\">2</span>、所有利用子问题求解的函数经过多次递归最终会得到答案，所以直接就都视为  已经得出答案的函数，这样在调动用的时候就不用想太多</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">// 分解子问题的时候要进行比较，</span></span><br><span class=\"line\">    也就是说</span><br><span class=\"line\">    \t要求直径必先求深度，因为就单边而言 直径的距离是小于深度的</span><br><span class=\"line\">    此处就是在求深度的时候加上了两行代码</span><br><span class=\"line\">    \t<span class=\"comment\">// 求直径</span></span><br><span class=\"line\">    \t<span class=\"type\">int</span> <span class=\"variable\">lfsum</span> <span class=\"operator\">=</span>  leftdepth+rightdepth;</span><br><span class=\"line\">        <span class=\"comment\">// 计算左右之和最大值并进行替换结果值</span></span><br><span class=\"line\">        maxdis = Math.max(lfsum,maxdis);</span><br><span class=\"line\">\t\t其中leftdepth 和 rightdepth的大小就是由调用自己的深度而来</span><br><span class=\"line\">         但是这个+<span class=\"number\">1</span>才是深度，此处没有在最终结果中 +<span class=\"number\">1</span> ，所以就是直径，直径之和  和  maxdis 比较得到结果，随后递归即可 </span><br></pre></td></tr></table></figure>\n<h3 id=\"思路：\">思路：</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t<span class=\"number\">226</span> 反转二叉树  </span><br><span class=\"line\">----子问题    <span class=\"number\">1</span>、因为需要 左右函数的递归值，所以要在递归时进行变量赋值   (不一定有)  （此处有）</span><br><span class=\"line\">\t\t\t <span class=\"number\">2</span>、所有利用子问题求解的函数经过多次递归最终会得到答案，所以直接就都视为  已经得出答案的函数，这样在调动用的时候就不用想太多   </span><br><span class=\"line\">   \t<span class=\"comment\">//这里也是，子问题视为已经将所有子树进好了反转，现在需要对 root 进行翻转就可以了，所以就是</span></span><br><span class=\"line\">        root.right = leftnode;  </span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\"><span class=\"comment\">// 但是这里调换显然是要用到左右子树 调换的 结果 才能进行左右子树调换，所以也要对递归函数进行赋值才能调用    需要  利用子问题的返回值</span></span><br><span class=\"line\">   </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"number\">116</span> 填充节点的右侧指针 </span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"comment\">//该判空就判空，改为 三叉树 </span></span><br><span class=\"line\">        <span class=\"comment\">// 使用next进行连接</span></span><br><span class=\"line\">        <span class=\"comment\">// 直接就是一个遍历，traverse </span></span><br><span class=\"line\"></span><br><span class=\"line\">       </span><br><span class=\"line\">       </span><br><span class=\"line\">   </span><br><span class=\"line\">   <span class=\"number\">114</span> 二叉树展开为链表</span><br><span class=\"line\">----子问题    <span class=\"number\">1</span>、因为需要 左右函数的递归值，所以要在递归时进行变量赋值 (不一定有)  【不可赋值】</span><br><span class=\"line\">\t\t\t <span class=\"number\">2</span>、所有利用子问题求解的函数经过多次递归最终会得到答案，所以直接就都视为  已经得出答案的函数，这样在调动用的时候就不用想太多   </span><br><span class=\"line\">       在这里的给定函数 <span class=\"keyword\">void</span>  <span class=\"title function_\">flatten</span><span class=\"params\">()</span>&#123;&#125;  就是经过拉直之后得到的结果，所以皆可以直接将其视为最终结果，</span><br><span class=\"line\">       在root.left   root.right  之后就可以直接对 根节点 进行模拟合并操作，其对于所有的其他节点一样适用，但是函数返回值是  <span class=\"keyword\">void</span> 所以不可以赋值   只能另外 赋值给临时变量，值为对 root.left，root.right 之后就可以直接在   root.left，root.right   进行操作了</span><br><span class=\"line\">       </span><br><span class=\"line\">       </span><br><span class=\"line\">       </span><br><span class=\"line\">     </span><br><span class=\"line\">       注意：子问题和源问题的思路 目标 是一样的 ，甚至结果也只是缩小化原问题的结果</span><br><span class=\"line\">        \t\t<span class=\"comment\">// 所以可以直接对得到子问题的结果进行操作，交换，重排序等等</span></span><br><span class=\"line\">      \t<span class=\"comment\">// 就像是这里，子问题的结果 是将 左右子树的 结果拉成一条链， 原问题是将所有节点拉成一条链</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// 所以当然就直接对两个子结果及操作就可以了，左边移动过去，右边的结果接到左边最后的位置</span></span><br><span class=\"line\">        <span class=\"comment\">// 别忘了要对树的 左边置 null </span></span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>\n<h3 id=\"构造问题\">构造问题</h3>\n<p><strong>构造整棵树 = 根节点 + 构造左子树 + 构造右子树</strong>。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"number\">654</span> 由数组构造最大二叉树</span><br><span class=\"line\">----子问题    <span class=\"number\">1</span>、因为需要 左右函数的递归值，所以要在递归时进行变量赋值 (不一定有)  【赋值】</span><br><span class=\"line\">\t\t\t <span class=\"number\">2</span>、所有利用子问题求解的函数经过多次递归最终会得到答案，所以直接就都视为  已经得出答案的函数，这样在调动用的时候就不用想太多  </span><br><span class=\"line\">     </span><br><span class=\"line\"> 思考<span class=\"number\">1</span>--自己构建函数需要的参数？   已知的只有数组   那就是  nums 数组的起始坐标</span><br><span class=\"line\">\t如此一来，就可以不断地递归从而缩小数组的大小，就能够构建出值</span><br><span class=\"line\">   给定函数：TreeNode constructMaximumBinaryTree  ，所以设置的函数也是 TreeNode 返回值类型的</span><br><span class=\"line\">     <span class=\"comment\">//找到根节点    </span></span><br><span class=\"line\">     此处就是maxVal 辅助变量  Integer.MIN_VALUE,对数组循环比较得到根节点值，并由此值 构建出树。</span><br><span class=\"line\">思考<span class=\"number\">2</span>---   <span class=\"comment\">//构造左子树，右子树   // 显然是两个遍历。  重点就是 填参数-----起始坐标 就是取得最大值时遍历的数组下标  所以还需要对数组下标 设置对应变量   进行返回</span></span><br><span class=\"line\">思考<span class=\"number\">1</span>-    显然方法要有返回值的，这里的返回值就是 TreeNode 型的 ，而且再结果返回的还是 root&lt;自定义的树的变量&gt;   所以便利的时候返回值就设置为  .left   .right </span><br><span class=\"line\">    </span><br><span class=\"line\">  </span><br><span class=\"line\">     -- 下面三题考虑 子问题的 思路与这里近乎一致只是在细节上有优化   【下面三个全赋值】</span><br><span class=\"line\">     优化一： HashMap&lt;Integer, Integer&gt; inmap = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">             <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; inorder.length; i++) &#123;</span><br><span class=\"line\">                        inmap.put(inorder[i], i);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">\t\t\t\t双数组， hashMap 便于取下标值 （所以put的时候  k:数组的值， v:下标）</span><br><span class=\"line\">      区别：上面的是找max    下面的是努力找根节点。</span><br><span class=\"line\">                    </span><br><span class=\"line\">      下面流程都是近乎一致的：</span><br><span class=\"line\">                    <span class=\"comment\">// 这里找根节点的值和位置   注意这两个操作 是要在两个数组中进行的</span></span><br><span class=\"line\">        --注意 <span class=\"number\">889</span>  这里是有些区别，这里的根节点值很好确定，所以并不能由此获得位置，需要再在先序遍历中找到左边的第一个节点，根左右  ，第一个就是根，在后序中，左右根，根恰好就是分隔点，所以应该找 preorder 里面的左子树的根，然后去 postorder 中找位置， 反之，从postorder 找值 preorder 中找位置  是无法得到左子树准备的数量的</span><br><span class=\"line\">                    <span class=\"comment\">// 左子树长度</span></span><br><span class=\"line\">                    <span class=\"comment\">// new 一棵树 root（根据根节点的值）</span></span><br><span class=\"line\">                    <span class=\"comment\">// 递归      --  也要赋值的</span></span><br><span class=\"line\">                    <span class=\"comment\">//return       root</span></span><br><span class=\"line\">                    </span><br><span class=\"line\">            除此之外就是细节问题，递归时索引的值，左子树长度  需要格外注意 </span><br><span class=\"line\"><span class=\"number\">105</span> 通过前序和中序遍历结果构造二叉树</span><br><span class=\"line\"></span><br><span class=\"line\">     </span><br><span class=\"line\">        </span><br><span class=\"line\"><span class=\"number\">106</span> 通过后序和中序遍历结果构造二叉树</span><br><span class=\"line\"></span><br><span class=\"line\">   </span><br><span class=\"line\"><span class=\"number\">889</span> 通过后序和前序遍历结果构造二叉树（**）</span><br><span class=\"line\">    </span><br><span class=\"line\">     </span><br><span class=\"line\">     </span><br></pre></td></tr></table></figure>\n<h3 id=\"BST\">BST</h3>\n<p>二叉搜索树「中序遍历有序」</p>\n<p>BST 相关的问题</p>\n<p>​\t要么利用 BST 左小右大的特性提升算法效率</p>\n<p>​\t要么利用中序遍历的特性满足题目的要求</p>\n<ul>\n<li>\n<p>如果当前节点会对下面的子节点有整体影响，可以通过辅助函数增长参数列表，借助参数传递信息。</p>\n</li>\n<li>\n<p>通过使用辅助函数，增加函数参数列表，在参数中携带额外信息，将这种约束传递给子树的所有节点，这也是二叉树算法的一个小技巧吧。</p>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  利用中序排序的特点， 有序的 ，所以大部分代码应该写在中序位置上的</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">230</span> 「 二叉搜索树中第 K 小的元素」 -- 显然是要排序的 </span><br><span class=\"line\">      </span><br><span class=\"line\"> traverser函数 ，在中序位置上进行检索就OK了  </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">538</span>   <span class=\"number\">1038</span>  BST 转化累加树</span><br><span class=\"line\">    </span><br><span class=\"line\">traverser函数 ，对逆序的序列进行加值赋值操作   还是在中序位置上进行操作 就OK了  </span><br><span class=\"line\"></span><br><span class=\"line\">  </span><br><span class=\"line\">      </span><br><span class=\"line\">      </span><br><span class=\"line\">      </span><br><span class=\"line\">BST 框架</span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">BST</span><span class=\"params\">(TreeNode root, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (root.val == target)</span><br><span class=\"line\">        <span class=\"comment\">// 找到目标，做点什么</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (root.val &lt; target) </span><br><span class=\"line\">        BST(root.right, target);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (root.val &gt; target)</span><br><span class=\"line\">        BST(root.left, target);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">     </span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"number\">700</span>   搜索子树</span><br><span class=\"line\"> ---子问题：  <span class=\"number\">1</span>、因为需要 左右函数的递归值，所以要在递归时进行变量赋值 (不一定有)  【赋值】</span><br><span class=\"line\">\t\t\t <span class=\"number\">2</span>、所有利用子问题求解的函数经过多次递归最终会得到答案，所以直接就都视为  已经得出答案的函数，这样在调动用的时候就不用想太多  </span><br><span class=\"line\">    返回值： TreeNode   ，要赋值  利用bst 模版  直接将分类的搜索遍历结果<span class=\"comment\">/**视为最终结果 */</span>返回（也可以赋值，返回赋值的值）</span><br><span class=\"line\">    </span><br><span class=\"line\">      </span><br><span class=\"line\"><span class=\"number\">701</span>  插入操作。</span><br><span class=\"line\">      同理 </span><br><span class=\"line\"> ---子问题：  <span class=\"number\">1</span>、因为需要 左右函数的递归值，所以要在递归时进行变量赋值 (不一定有)  【赋值】</span><br><span class=\"line\">\t\t\t <span class=\"number\">2</span>、所有利用子问题求解的函数经过多次递归最终会得到答案，所以直接就都视为  已经得出答案的函数，这样在调动用的时候就不用想太多  </span><br><span class=\"line\">    返回值： TreeNode   ，要赋值  利用bst 模版、</span><br><span class=\"line\">    但是这是不能直接返回，此时的左右子树只是一棵树的一部分，要得到最终完好的树，还是需要进行赋值给 root.left  root.right 的，最后 <span class=\"keyword\">return</span> root  这样就能直接得到一棵插好元素的树了</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">450</span> 删除</span><br><span class=\"line\"> ---子问题：  <span class=\"number\">1</span>、因为需要 左右函数的递归值，所以要在递归时进行变量赋值 (不一定有)  【赋值】</span><br><span class=\"line\">\t\t\t <span class=\"number\">2</span>、所有利用子问题求解的函数经过多次递归最终会得到答案，所以直接就都视为  已经得出答案的函数，这样在调动用的时候就不用想太多  </span><br><span class=\"line\">    返回值： TreeNode   ，要赋值  还是要利用bst 模版</span><br><span class=\"line\">      同样：但是这是不能直接返回，此时的左右子树只是一棵树的一部分，要得到最终完好的树，还是需要进行赋值给 root.left  root.right 的，最后 <span class=\"keyword\">return</span> root  这样就能直接得到一棵 删完 元素的树了</span><br><span class=\"line\">      但是区别是：</span><br><span class=\"line\">      与搜索插入不同的是：这里的删除是要分类讨论的，root.val == val 时分三种情况讨论，其中讨论的时候还是会进行调用的   ---- 可以细品</span><br><span class=\"line\">      </span><br><span class=\"line\">      另外还调用了 最小值得函数（非递归） </span><br><span class=\"line\">      </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">98</span> 判定</span><br><span class=\"line\">      通过 <span class=\"number\">450</span> 给予的启发  直接定义最大 最小函数，由此获得左子树的最根节点，右子树的最左根节点  随后对给定函数进行判定 </span><br><span class=\"line\">    \t判定条件就是左非空就要左小根  右非空就要右大根《这里的左右根节点的值 就是通过上述函数 .val 获得的》 否则<span class=\"literal\">false</span>;   = 也是<span class=\"literal\">false</span></span><br><span class=\"line\">      <span class=\"type\">boolean</span> 可以赋值也可以直接返回。</span><br><span class=\"line\">      </span><br><span class=\"line\">    </span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>\n<h2 id=\"链表\">链表</h2>\n<p>1、<strong>子问题（后面这部分链表）和原问题（整条链表）的结构完全相同，这就是所谓的递归性质</strong></p>\n<p>2、<strong>递归函数都有个 base case</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">206</span>     反转链表</span><br><span class=\"line\">    </span><br><span class=\"line\">    就用<span class=\"keyword\">while</span>循环写</span><br><span class=\"line\">    ListNode pre,cur,nxt;</span><br><span class=\"line\">          pre = <span class=\"literal\">null</span>;</span><br><span class=\"line\">          cur = nxt = head;</span><br><span class=\"line\">             <span class=\"keyword\">while</span>(cur!= <span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">                 nxt = cur.next;</span><br><span class=\"line\">                 cur.next = pre;</span><br><span class=\"line\">                  pre = cur;</span><br><span class=\"line\">                  cur = nxt;              </span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> pre ;</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">92</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">//206 92  递归的区别：  1 basecase  前者：if (head == null || head.next == null) &#123;return head;&#125;  </span></span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"comment\">//后者：base case 变为 n == 1，反转一个元素，就是它本身，同时要记录后驱节点。</span></span><br><span class=\"line\">    \t\t\t\t<span class=\"comment\">//2、前者不要链接未反转的点， 直接把 head.next 设置为 null</span></span><br><span class=\"line\">    \t\t\t\t<span class=\"comment\">//   后者需要  要记录后驱 successor（第 n + 1 个节点），反转之后将 head 连接上。</span></span><br><span class=\"line\"><span class=\"number\">1</span>、当  left =<span class=\"number\">1</span> 时要分开讨论。</span><br><span class=\"line\">    <span class=\"keyword\">while</span> 循环</span><br><span class=\"line\">   ListNode <span class=\"title function_\">reverse</span><span class=\"params\">(ListNode head, <span class=\"type\">int</span> right)</span>&#123;   <span class=\"comment\">// 这里给的是第几个接点</span></span><br><span class=\"line\">        ListNode pre,cur,b,nxt;</span><br><span class=\"line\">        b=cur = nxt= head;</span><br><span class=\"line\">        pre = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"comment\">//得到第right个节点的位置</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span> ;i&lt;right;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(b == <span class=\"literal\">null</span>) <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">            b = b.next;</span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        <span class=\"keyword\">while</span>(cur != b)&#123;</span><br><span class=\"line\">            nxt = cur.next;</span><br><span class=\"line\">            cur.next = pre;</span><br><span class=\"line\">            pre = cur;</span><br><span class=\"line\">            cur = nxt;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 头指针指向尾部</span></span><br><span class=\"line\">        head.next = b;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pre;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">2</span>、 left != <span class=\"number\">1</span> 时就进行递归</span><br><span class=\"line\">  \t\t<span class=\"comment\">// 开始递归</span></span><br><span class=\"line\">       a.next = reverseBetween(head.next,left-<span class=\"number\">1</span>,right-<span class=\"number\">1</span>);   </span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 这里的a.next 就是将 进行将指针进行翻转遍历的</span></span><br><span class=\"line\"><span class=\"number\">25</span></span><br><span class=\"line\">    每 k 个节点一组进行翻转</span><br><span class=\"line\">                </span><br><span class=\"line\">    <span class=\"number\">1</span>、找到对应的节点</span><br><span class=\"line\">                 ListNode a,  b;  </span><br><span class=\"line\">          a =b = head;</span><br><span class=\"line\">          <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span> ;i&lt;k;i++)&#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span>( b == <span class=\"literal\">null</span>)  <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">              b=b.next;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">\t<span class=\"number\">2</span>、还是调用 <span class=\"keyword\">while</span>  循环进行遍历 此时遍历得到对应的节点，下进行稍微改动</span><br><span class=\"line\">         ListNode <span class=\"title function_\">reverse</span><span class=\"params\">(ListNode head,ListNode node)</span> &#123;</span><br><span class=\"line\">            ListNode pre=node,nxt=head,cur=head;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(cur != node)&#123;</span><br><span class=\"line\">                nxt = cur.next;</span><br><span class=\"line\">                cur.next = pre;</span><br><span class=\"line\">                pre = cur;</span><br><span class=\"line\">                cur = nxt;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> pre;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  \t<span class=\"number\">3</span>、  </span><br><span class=\"line\">         <span class=\"type\">ListNode</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> reverse(a,b);  <span class=\"comment\">// 先反转从头开始的前面几个节点</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">//再进行下面的递归,每次递归就又是上一次的b为头，开始新的一轮递归 并将a.next (head的下一个 指向新的反转链表的指针)</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//此处的 a.next 很关键。a此时是将 头结点指向下一个要反转的头节点</span></span><br><span class=\"line\">         a.next = reverseKGroup(b, k); </span><br><span class=\"line\"> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//其实这里的1 2 两步骤  和上一问的while 循环其实是一样的  ，可以随意替换</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">234</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//首先先找到中点，然后将中间点开始将后面的字符串进行翻转最后进行比较、</span></span><br><span class=\"line\">    找中间节点      双指针</span><br><span class=\"line\">    反转：   <span class=\"keyword\">while</span> 循环</span><br><span class=\"line\">    比较    指针向中间移动</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n<h2 id=\"数组\">数组</h2>\n<h2 id=\"字符串\">字符串</h2>\n<h4 id=\"回文串\">回文串</h4>\n<blockquote>\n<p>==中心扩展法：==</p>\n<p>实质的思路和动态规划的思路类似。</p>\n<ul>\n<li>比如对一个字符串<code> ababa</code>，选择最中间的 <code>a </code>作为<code>中心点</code>，往两边扩散，</li>\n<li>第一次扩散发现 left 指向的是 b，right 指向的也是 b，所以是回文串，继续扩散，同理 ababa 也是回文串。</li>\n</ul>\n<p>这个是确定了一个中心点后的寻找的路径，然后我们<code>只要寻找到所有的中心点，问题就解决了</code>。</p>\n<ul>\n<li>中心点一共有多少个呢？</li>\n<li>看起来像是和字符串长度相等，但你会发现，如果是这样，上面的例子永远也搜不到 abab，\n<ul>\n<li>想象一下单个字符的哪个中心点扩展可以得到这个子串？似乎不可能。</li>\n</ul>\n</li>\n<li>所以中心点不能只有单个字符构成，还要包括两个字符，\n<ul>\n<li>比如上面这个子串 abab，就可以有中心点 ba 扩展一次得到，所以最终的中心点由<code> 2 * len - 1</code> 个，分别是 <code>len 个单字符</code>和 <code>len - 1 个双字符</code>。</li>\n</ul>\n</li>\n</ul>\n<p>如果上面看不太懂的话，还可以看看下面几个问题：</p>\n<ul>\n<li>\n<p>为什么有 2 * len - 1 个中心点？</p>\n</li>\n<li>\n<p>aba 有5个中心点，分别是 a、b、c、ab、ba</p>\n</li>\n<li>\n<p>abba 有7个中心点，分别是 a、b、b、a、ab、bb、ba</p>\n</li>\n<li>\n<p>什么是中心点？</p>\n</li>\n<li>\n<p>中心点即 left 指针和 right 指针初始化指向的地方，可能是一个也可能是两个</p>\n</li>\n<li>\n<p>为什么不可能是三个或者更多？<br>\n因为 3 个可以由 1 个扩展一次得到，4 个可以由 2 个扩展一次得到</p>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">//5  最长回文子串</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;String res= <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> String <span class=\"title function_\">longestPalindrome</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class=\"line\">         String oddString= substr(s,i,i);</span><br><span class=\"line\">         <span class=\"type\">String</span> <span class=\"variable\">evenString</span> <span class=\"operator\">=</span> substr(s,i,i+<span class=\"number\">1</span>);</span><br><span class=\"line\">         res = res.length()&lt;oddString.length() ? oddString:res;</span><br><span class=\"line\">         res = res.length()&lt;evenString.length()? evenString:res;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">     <span class=\"keyword\">return</span>  res;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//      回文串        左边中点   右边中点</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> String <span class=\"title function_\">substr</span><span class=\"params\">(String s, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(i&gt;=<span class=\"number\">0</span> &amp;&amp; j&lt;s.length() &amp;&amp; s.charAt(i)==s.charAt(j))&#123;</span><br><span class=\"line\">          i--;</span><br><span class=\"line\">          j++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//因为上面已经 ++  -- 过了</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> s.substring(i+<span class=\"number\">1</span>,j);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// 647 回文子串   </span></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">countSubstrings</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class=\"line\">          count += substr(s,i,i);</span><br><span class=\"line\">          count += substr(s,i,i+<span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">              <span class=\"comment\">//      回文串      左边中点  右边中点</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"title function_\">substr</span><span class=\"params\">(String s, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span> &#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> res= <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(i&gt;=<span class=\"number\">0</span> &amp;&amp; j&lt;s.length() &amp;&amp; s.charAt(i)==s.charAt(j))&#123;</span><br><span class=\"line\">         <span class=\"comment\">// System.out.println(s.substring(i,j+1));</span></span><br><span class=\"line\">          i--;</span><br><span class=\"line\">          j++;</span><br><span class=\"line\">          res++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>推荐还是中心扩散法</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;DP 的写法</span><br><span class=\"line\">&gt;<span class=\"comment\">//5</span></span><br><span class=\"line\">&gt;<span class=\"comment\">//动态规划</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> String <span class=\"title function_\">longestPalindrome</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">      <span class=\"comment\">//特殊情况  ,空串  就返回空</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (s == <span class=\"literal\">null</span> || length == <span class=\"number\">0</span>)</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (length == <span class=\"number\">1</span>)</span><br><span class=\"line\">          <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">      <span class=\"comment\">//定义下列变量，分别表示开始位置 结束位置 的变量 以及 最大长度。</span></span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">begin</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>, end = <span class=\"number\">0</span>,subLen = <span class=\"number\">1</span>;</span><br><span class=\"line\">      <span class=\"comment\">//定义动态二维数组</span></span><br><span class=\"line\">      <span class=\"type\">boolean</span> [][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[length][length];</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">//动态规划的数组是从列开始填写表格的</span></span><br><span class=\"line\">         <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> s.length()-<span class=\"number\">1</span>; i &gt;=<span class=\"number\">0</span> ; i--) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> i; j &lt; s.length(); j++) &#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span> (s.charAt(i)==s.charAt(j)  &amp;&amp; (j-i &lt;= <span class=\"number\">2</span> || dp[i+<span class=\"number\">1</span>][j-<span class=\"number\">1</span>]))&#123;</span><br><span class=\"line\">                 dp[i][j] = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">                 <span class=\"keyword\">if</span>(j-i+<span class=\"number\">1</span>&gt; subLen)&#123;</span><br><span class=\"line\">                  subLen = j-i+<span class=\"number\">1</span>;</span><br><span class=\"line\">                  begin = i;</span><br><span class=\"line\">                 &#125;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//返回子串的，开始位置以及结束位置</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> s.substring(begin,begin+subLen);</span><br><span class=\"line\">  &#125;    </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// 647   </span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">countSubstrings</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"comment\">//dp[][]</span></span><br><span class=\"line\">      <span class=\"type\">boolean</span> dp[][] = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[s.length()][s.length()];</span><br><span class=\"line\">      <span class=\"comment\">//递推公式s[i] ==s[j] ①j-i=0  ②j-i=1 ③dp[i+1][j-1]    VS  s[i] !=s[j]</span></span><br><span class=\"line\">      <span class=\"comment\">//初始化dp[][]</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class=\"line\">          dp[i][i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//遍历顺序</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> s.length()-<span class=\"number\">1</span>; i &gt;=<span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> i; j &lt; s.length(); j++) &#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span>(s.charAt(j) == s.charAt(i) &amp;&amp; (j-i&lt;<span class=\"number\">2</span> || dp[i+<span class=\"number\">1</span>][j-<span class=\"number\">1</span>]))&#123;      <span class=\"comment\">// j-i&lt;2 必须要写在前面</span></span><br><span class=\"line\">                      res++;</span><br><span class=\"line\">                      dp[i][j] = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">      <span class=\"comment\">//打印dp数组</span></span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h4 id=\"一般串\">一般串</h4>\n<blockquote>\n<p>43 : 给定两个以字符串形式表示的非负整数 <code>num1</code> 和 <code>num2</code>，返回 <code>num1</code> 和 <code>num2</code> 的乘积，它们的乘积也表示为字符串形式。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> String <span class=\"title function_\">multiply</span><span class=\"params\">(String num1, String num2)</span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(<span class=\"string\">&quot;0&quot;</span>.equals(num1) || <span class=\"string\">&quot;0&quot;</span>.equals(num2)) <span class=\"keyword\">return</span> <span class=\"string\">&quot;0&quot;</span>;</span><br><span class=\"line\">  <span class=\"comment\">//结果集的接收</span></span><br><span class=\"line\">  <span class=\"type\">int</span> res[]=<span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[num1.length()+num2.length()];</span><br><span class=\"line\">  <span class=\"comment\">//从最低位开始相乘， -&#x27;0&#x27;是 Char字符 转为数字的方式</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> num1.length()-<span class=\"number\">1</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">t1</span> <span class=\"operator\">=</span>  num1.charAt(i)-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> num2.length()-<span class=\"number\">1</span>;j&gt;=<span class=\"number\">0</span>;j--)&#123;</span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">t2</span> <span class=\"operator\">=</span> num2.charAt(j)-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">           <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> res[i+j+<span class=\"number\">1</span>]+t1*t2;</span><br><span class=\"line\">           <span class=\"comment\">// 低位是取余的结果</span></span><br><span class=\"line\">           res[i+j+<span class=\"number\">1</span>] = sum % <span class=\"number\">10</span>;</span><br><span class=\"line\">           <span class=\"comment\">// 高位进行 取模</span></span><br><span class=\"line\">          res[i+j] += sum / <span class=\"number\">10</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"type\">StringBuilder</span> <span class=\"variable\">stringBuilder</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>();</span><br><span class=\"line\">   <span class=\"comment\">// 去除前面几位的0</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;res.length;i++)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(i==<span class=\"number\">0</span> &amp;&amp; res[i] == <span class=\"number\">0</span>) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">      stringBuilder.append(res[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> stringBuilder.toString();</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h4 id=\"数字与串\">数字与串</h4>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"type\">String</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;8264&quot;</span>;</span><br><span class=\"line\">&gt;<span class=\"type\">int</span> <span class=\"variable\">number</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; s.size(); i++) &#123;</span><br><span class=\"line\">&gt;<span class=\"comment\">// 将字符转化成数字</span></span><br><span class=\"line\">&gt;number = <span class=\"number\">10</span> * number + (s[i] - <span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">&gt;print(number);</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;<span class=\"comment\">// 打印输出：</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 8</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 82</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 826</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 8264</span></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h2 id=\"双指针对链表\">双指针对链表:</h2>\n<h4 id=\"技巧\">技巧</h4>\n<p>技巧一</p>\n<ul>\n<li>\n<p>合并分解双指针</p>\n<ul>\n<li>\n<p>当你需要创造一条新链表的时候，可以使用虚拟头结点简化边界情况的处理、防止空指针的的情况</p>\n</li>\n<li>\n<p>让你把两条有序链表合并成一条新的有序链表（合并两个有序链表）、把一条链表分解成两条链表时(单链表分解)</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>技巧二：快慢指针</p>\n<ul>\n<li>\n<p>一条链表的间隔双指针（找到倒数第K个节点，删除第n个节点）</p>\n</li>\n<li>\n<p>n倍速快慢指针（中间节点 是否有换  是否是环  环的交点在哪   是否相交  ）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">23</span> 合并多个升序列表&lt;难题&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Definition for singly-linked list.</span></span><br><span class=\"line\"><span class=\"comment\"> * public class ListNode &#123;</span></span><br><span class=\"line\"><span class=\"comment\"> *     int val;</span></span><br><span class=\"line\"><span class=\"comment\"> *     ListNode next;</span></span><br><span class=\"line\"><span class=\"comment\"> *     ListNode() &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class=\"line\"><span class=\"comment\"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class=\"line\"><span class=\"comment\"> * &#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> ListNode <span class=\"title function_\">mergeKLists</span><span class=\"params\">(ListNode[] lists)</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">//难题：</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(lists.length == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"type\">ListNode</span>  <span class=\"variable\">list</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ListNode</span>(-<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"type\">ListNode</span> <span class=\"variable\">p</span> <span class=\"operator\">=</span> list;</span><br><span class=\"line\"></span><br><span class=\"line\">        PriorityQueue&lt;ListNode&gt; pq = <span class=\"keyword\">new</span> <span class=\"title class_\">PriorityQueue</span>&lt;&gt;(</span><br><span class=\"line\">            lists.length,</span><br><span class=\"line\">            (a,b)-&gt;(a.val-b.val)</span><br><span class=\"line\">        );</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(ListNode list1:lists)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(list1!=<span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">                pq.add(list1);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!pq.isEmpty())&#123;</span><br><span class=\"line\">            <span class=\"type\">ListNode</span> <span class=\"variable\">node</span> <span class=\"operator\">=</span> pq.poll();</span><br><span class=\"line\">            p.next = node;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node.next != <span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">                pq.add(node.next);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            p = p.next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"大致核心模块\">大致核心模块</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 定义双指针</span></span><br><span class=\"line\"><span class=\"type\">ListNode</span> <span class=\"variable\">fast</span> <span class=\"operator\">=</span> head;</span><br><span class=\"line\"><span class=\"type\">ListNode</span> <span class=\"variable\">slow</span> <span class=\"operator\">=</span> head;</span><br><span class=\"line\"><span class=\"comment\">// 一者</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(fast != <span class=\"literal\">null</span> &amp;&amp; fast.next != <span class=\"literal\">null</span> )&#123;</span><br><span class=\"line\">   fast = fast.next.next;</span><br><span class=\"line\">   slow = slow.next;</span><br><span class=\"line\">   ......</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 再者</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>( q!=<span class=\"literal\">null</span>)&#123;       <span class=\"comment\">//while(p1!= null &amp;&amp; p2 != null)</span></span><br><span class=\"line\">           <span class=\"keyword\">if</span>(q.val &lt; x)&#123;</span><br><span class=\"line\">               s.next = q;</span><br><span class=\"line\">               s= s.next;              </span><br><span class=\"line\">           &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">               b.next = q;</span><br><span class=\"line\">               b=b.next;</span><br><span class=\"line\">           &#125; </span><br><span class=\"line\">        ......</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"题解\">题解</h4>\n  <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 快慢指针 链表</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">141</span> 链表是否有环</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 返回值 boolean</span></span><br><span class=\"line\">    <span class=\"comment\">// 定义快慢指针,初始值为head; ---唯二的变量</span></span><br><span class=\"line\">    <span class=\"comment\">//  while(fast != null &amp;&amp; fast.next != null  &amp;&amp; fast.next.next != null)循环条件</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">142</span> 环的节点在哪</span><br><span class=\"line\">    <span class=\"comment\">// 返回值 ListNode</span></span><br><span class=\"line\">    <span class=\"comment\">// 定义快慢指针,初始值为head; ---唯二的变量</span></span><br><span class=\"line\">    <span class=\"comment\">//  while(fast != null &amp;&amp; fast.next != null  &amp;&amp; fast.next.next != null)循环条件1 </span></span><br><span class=\"line\">    <span class=\"comment\">// 单独判断一下 if(fast == null || fast.next == null) return null;</span></span><br><span class=\"line\">    <span class=\"comment\">// 慢指针从头开始，再一次  while(slow != fast) 循环</span></span><br><span class=\"line\"><span class=\"number\">876</span> 找中间点</span><br><span class=\"line\">    <span class=\"comment\">//// 返回值 ListNode</span></span><br><span class=\"line\">    <span class=\"comment\">// 定义快慢指针,初始值为head; ---唯二的变量</span></span><br><span class=\"line\">    <span class=\"comment\">//  while(fast != null &amp;&amp; fast.next != null)循环条件</span></span><br><span class=\"line\">    </span><br><span class=\"line\">---- 上面的 三题均是在 循环条件一 中进行  fast = fast.next.next;  slow = slow.next; 操作  其他操作是细致末节的变化</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">160</span> 两个链表相交的点</span><br><span class=\"line\">    <span class=\"comment\">// 两个链表，所以要有两个指针   ---唯二的变量</span></span><br><span class=\"line\">    <span class=\"comment\">// 两个链表长短不一，依次一次遍历，重合即为交点</span></span><br><span class=\"line\">    <span class=\"comment\">//循环条件 while(p1 != p2)</span></span><br><span class=\"line\">    </span><br><span class=\"line\">---  创建虚拟链表头结点</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">19</span> 删除倒数第n个节点</span><br><span class=\"line\">    <span class=\"comment\">//创建辅助链表,虚拟链表头结点demo （-1）     一个变量 </span></span><br><span class=\"line\">    <span class=\"comment\">//demo.next =head;</span></span><br><span class=\"line\">    <span class=\"comment\">//调用找第k个元素的方法找到第len-n+1个元素  传的参数就要是 定义的虚链表</span></span><br><span class=\"line\">    \t<span class=\"comment\">//定义快慢指针  ---唯二的变量</span></span><br><span class=\"line\">    \t<span class=\"comment\">//for(int i=1;i&lt;k;i++)   fast 先跑的间隔</span></span><br><span class=\"line\">    \t<span class=\"comment\">//循环条件 while(fast.next != null)</span></span><br><span class=\"line\"> \t<span class=\"comment\">// 删除找到节点的下一个节点</span></span><br><span class=\"line\">\t<span class=\"comment\">// demo 全程不参加工作，只有在创建的时候指向原链表，所以输出的返回值就是：demo.next</span></span><br><span class=\"line\">    </span><br><span class=\"line\">   </span><br><span class=\"line\"><span class=\"number\">86</span> 分隔链表</span><br><span class=\"line\">    <span class=\"comment\">// 一分为2   2个虚拟链表头结点  small  big   原链表还是用head   换做变量 p对原链表操作  进行获取      --- 3 变量 + 1 临时变量</span></span><br><span class=\"line\">    <span class=\"comment\">//虚拟节点不参与工作，所以对这两个表头结点再次进行创建对应的 操作节点 s b</span></span><br><span class=\"line\">    <span class=\"comment\">//循环条件中  while( q!=null)    q 置为head,表示让q对该链表进行循环获取      --  只比较当前值</span></span><br><span class=\"line\">    \t\t<span class=\"comment\">//中比较大小，小的进 s ，s继续后移    大的进 b   b继续后移    </span></span><br><span class=\"line\">    \t\t<span class=\"comment\">//重点:断开原链表中的每个节点的 next 指针,否则会成环\t</span></span><br><span class=\"line\">    \t\t\t<span class=\"comment\">// ----- 怎么断 --&gt;  临时变量存储p 当前值p.next      p置为 null      p进行赋值保证循环继续执行</span></span><br><span class=\"line\">   <span class=\"comment\">// big  就是\tb对应的结果集，但是big 为虚拟的，也就是说   big.next才是b   </span></span><br><span class=\"line\">   <span class=\"comment\">// s 是一直后移的 所以s.next = big.next   将 big.next 赋值给s</span></span><br><span class=\"line\">   <span class=\"comment\">//同理 返回的就是small.next</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">21</span> 合并链表</span><br><span class=\"line\">\t<span class=\"comment\">//二合一   两个原链表  list1 list2  一个新链表  list 但是都不能直接操作，所以  要2个虚拟链表头结点  small  big对老链表进行操作 以及一个 p 对新建的链表进行操作 </span></span><br><span class=\"line\">    \t\t<span class=\"comment\">// 3变量</span></span><br><span class=\"line\">    <span class=\"comment\">//while(big!= null &amp;&amp; small != null) 比较大小，  -- 只比较当前值</span></span><br><span class=\"line\">    \t\t\t<span class=\"comment\">//值小的 就进新链表，small 后移  /big后移      并将当前值存到 p的下一个值    比完大小  -------&gt; 特色：p持续后移  -- 否则值将被覆盖</span></span><br><span class=\"line\">    <span class=\"comment\">//比完必有一个且只有一个（只比较当前值） ，所以分开判断  逻辑都是，直接加到新链表，p.next = small /big;</span></span><br><span class=\"line\">    <span class=\"comment\">//同理 返回的就是list.next</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n<h2 id=\"双指针对数组\">双指针对数组</h2>\n<h4 id=\"题解-2\">题解</h4>\n  <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 快慢指针 数组</span></span><br><span class=\"line\"><span class=\"comment\">// 此处的数组全是原地操作，不能new 新的</span></span><br><span class=\"line\"><span class=\"number\">26</span> 数组原地去重   --不能<span class=\"keyword\">new</span> 一个新的数组            第一个值肯定是保留的  </span><br><span class=\"line\"><span class=\"comment\">//分析：已经排好序的，删除会涉及 索引的变化</span></span><br><span class=\"line\"><span class=\"comment\">// fast slow  两个指针，</span></span><br><span class=\"line\">    <span class=\"comment\">//特点：先++ 再赋值，fast 初始值= 1 /0 都可以</span></span><br><span class=\"line\">    \t\t<span class=\"comment\">// 因为此时slow是有值的，第一个值肯定是保留的</span></span><br><span class=\"line\">\t<span class=\"comment\">//while(fast&lt;nums.length)&#123;循环</span></span><br><span class=\"line\">            <span class=\"comment\">//if(nums[fast] != nums[slow])&#123; 原地操作的判定</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">83</span>  删除排序列表中重复元素                          第一个值肯定是保留的</span><br><span class=\"line\"><span class=\"comment\">//链表  值得比较 是  .val</span></span><br><span class=\"line\">    <span class=\"comment\">// fast slow  两个指针，</span></span><br><span class=\"line\">    <span class=\"comment\">//while(fast!= null)&#123;循环</span></span><br><span class=\"line\">          <span class=\"comment\">//if(fast.val != slow.val)&#123; 原地操作的判定</span></span><br><span class=\"line\">    <span class=\"comment\">// 先链接再后移指针</span></span><br><span class=\"line\">----------<span class=\"comment\">//重点: 断开与重复元素的链接</span></span><br><span class=\"line\">        <span class=\"comment\">//slow.next = null;</span></span><br><span class=\"line\"><span class=\"number\">27</span> 数组中的某些元素进行「原地删除」                第一个值不一定是保留的</span><br><span class=\"line\">    <span class=\"comment\">// fast slow  两个指针</span></span><br><span class=\"line\">    <span class=\"comment\">//while(fast&lt;nums.length)&#123;循环</span></span><br><span class=\"line\">            <span class=\"comment\">//if(nums[fast] != val )&#123; 原地操作的判定   -- 特定值val</span></span><br><span class=\"line\">   <span class=\"comment\">// 后++  先赋值    因为第一个值不一定是保留的   此时的slow是不一定有值的</span></span><br><span class=\"line\"><span class=\"number\">283</span> 移动<span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"comment\">// fast slow  两个指针</span></span><br><span class=\"line\">    <span class=\"comment\">//while(fast&lt;nums.length)&#123;循环</span></span><br><span class=\"line\">            <span class=\"comment\">//if(nums[fast] != 0 )&#123; 原地操作的判定   -- 特定值     0</span></span><br><span class=\"line\">   <span class=\"comment\">// 后++  先赋值    因为第一个值不一定是保留的   此时的slow是不一定有值的</span></span><br><span class=\"line\">   <span class=\"comment\">//后面的值全为0  就是要从 slow+1 （位置）/    -1（角标） 到 fast  角标【low,fast)全置为 0</span></span><br><span class=\"line\">         <span class=\"comment\">//if(fast&gt;slow)&#123;</span></span><br><span class=\"line\">            <span class=\"comment\">// for(int i=slow; i &lt;fast;i++)&#123;</span></span><br><span class=\"line\">            <span class=\"comment\">//    nums[i] =0;</span></span><br><span class=\"line\">            <span class=\"comment\">//&#125;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">// 左右指针 数组</span></span><br><span class=\"line\"><span class=\"number\">167</span> 两数和</span><br><span class=\"line\">   <span class=\"comment\">// left right 左右两指针，&gt; target 就right-- 否则++ 直到 else (不能丢)   return</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">344</span> 反转数组</span><br><span class=\"line\">    <span class=\"comment\">//left right 左右两指针  经由辅助变量（设立辅助变量）进行交换   随后指针++  -- </span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"number\">5</span> 最长回文串</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 递归</span></span><br><span class=\"line\">    <span class=\"comment\">// 递归函数：</span></span><br><span class=\"line\">    <span class=\"comment\">//  中间向两边扩展   ++    --</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">Palindrome</span><span class=\"params\">(String s, <span class=\"type\">int</span> start,<span class=\"type\">int</span> end)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(start&gt; -<span class=\"number\">1</span> &amp;&amp; end&lt;s.length()</span><br><span class=\"line\">                &amp;&amp; s.charAt(start)==s.charAt(end))&#123;</span><br><span class=\"line\">            start--;</span><br><span class=\"line\">            end++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 返回子串</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> s.substring(start+<span class=\"number\">1</span>,end);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">//调用递归</span></span><br><span class=\"line\">\t <span class=\"keyword\">public</span> String <span class=\"title function_\">longestPalindrome</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">        <span class=\"type\">String</span> <span class=\"variable\">nowStr</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;length;i++)&#123;</span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">odd</span> <span class=\"operator\">=</span>  Palindrome(s,i,i);</span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">even</span> <span class=\"operator\">=</span>  Palindrome(s,i,i+<span class=\"number\">1</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">//这里断点调试之后发现  要判定  不然会出现bug ,否则会使nowStr 的较大的值被替换成为新的小值 </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nowStr.length()&lt; even.length()  || nowStr.length()&lt; odd.length() )</span><br><span class=\"line\">            nowStr = even.length() &gt; odd.length()?even:odd;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nowStr;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"原地处理数组大致模版\">原地处理数组大致模版</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span>(fast&lt;nums.length)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(nums[fast] != nums[slow])&#123;</span><br><span class=\"line\">               <span class=\"comment\">//先++ 再赋值，因为此时slow是有值的，第一个值肯定是保留的</span></span><br><span class=\"line\">                slow++;        <span class=\"comment\">//①</span></span><br><span class=\"line\">               nums[slow] = nums[fast];      <span class=\"comment\">//②</span></span><br><span class=\"line\">               </span><br><span class=\"line\">               <span class=\"comment\">// 第一个值如果是要保留的，那么顺序就是①②</span></span><br><span class=\"line\">               <span class=\"comment\">// 第一个值如果是不一定保留的，那么顺序就是②①</span></span><br><span class=\"line\">               </span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           fast++;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"dp\">dp</h2>\n<p>子问题：</p>\n<p>最优子结构：</p>\n<p>​\t<strong>要符合「最优子结构」，子问题间必须互相独立</strong></p>\n<p>​\t\t\t你只需要把子问题的答案加一，求个最小值，就是原问题的答案。</p>\n<p>状态转移方程：</p>\n<p>​\t<strong>确定 base case</strong></p>\n<p>​\t<strong>确定「状态」，也就是原问题和子问题中会变化的</strong>    ==变量==</p>\n<p>​\t<strong>确定「选择」，也就是导致「状态」产生变化的行为</strong>    所谓的选择就是目前可以选的变量的范围  取值;</p>\n<p>​\t<strong>明确 <code>dp</code> 函数(自顶向下)/数组(自底向上)的定义</strong></p>\n<p>​\t\t\t\t一般来说函数的==参数==就是状态转移中会变化的量，也就是上面说到的==「状态」==</p>\n<blockquote>\n<p>==注：==</p>\n<p>子串一定是连续的，而子序列不一定是连续的</p>\n</blockquote>\n<h3 id=\"动态规划解法\">动态规划解法</h3>\n<p>动态规划的核心设计思想是<strong>数学归纳法</strong>。</p>\n<p>可以假设 <code>dp[0...i-1]</code> 都已经被算出来了，然后问自己：怎么通过这些结果算出 <code>dp[i]</code></p>\n<p>思考状态转移方程的一个基本方法是数学归纳法，即明确 <code>dp</code> 函数或数组的定义，然后使用这个定义，从已知的「状态」中推导出未知的「状态」。</p>\n<p>动态规划的状态转移关系：</p>\n<p>1、明确 <code>dp</code> 数组的定义。</p>\n<p>2、根据 <code>dp</code> 数组的定义，运用数学归纳法的思想，假设 <code>dp[0...i-1]</code> 都已知，想办法求出 <code>dp[i]</code>，一旦这一步完成，整个题目基本就解决了</p>\n<p>但如果无法完成这一步，很可能就是 <code>dp</code> 数组的定义不够恰当，需要重新定义 <code>dp</code> 数组的含义；或者可能是 <code>dp</code> 数组存储的信息还不够，不足以推出下一步的答案，需要把 <code>dp</code> 数组扩大成二维数组甚至三维数组。</p>\n<blockquote>\n<p>1、到底什么才叫「最优子结构」，和动态规划什么关系</p>\n<p>​\t\t\t\t可以从子问题的最优结果推出更大规模问题的最优结果  之前的子问题就是最优子结构</p>\n<p>​\t\t\t\t最优子结构并不是动态规划独有的一种性质，能求最值的问题大部分都具有这个性质；<strong>但反过来，最优子结构性质作为动态规划问题的必要条件，一定是让你求最值的</strong>，以后碰到那种恶心人的最值题，思路往动态规划想就对了，这就是套路</p>\n<p>​\t\t\t\t动态规划不就是从最简单的 base case 往后推导吗，可以想象成一个链式反应，以小博大。但只有符合最优子结构的问题，才有发生这种链式反应的性质</p>\n<p>​\t\t\t\t找最优子结构的过程，其实就是证明状态转移方程正确性的过程，方程符合最优子结构就可以写暴力解了，写出暴力解就可以看出有没有重叠子问题了，有则优化，无则 OK。这也是套路，经常刷题的读者应该能体会。</p>\n</blockquote>\n<blockquote>\n<p>2、如何判断一个问题是动态规划问题，即如何看出是否存在重叠子问题</p>\n<p>​\t\t\t\t<strong>首先，最简单粗暴的方式就是画图，把递归树画出来，看看有没有重复的节点</strong>。</p>\n<p>​\t\t\t\t\t实际的动态规划问题比较复杂，比如二维甚至三维的动态规划，当然也可以画递归树，但不免有些复杂</p>\n<p>​\t\t\t\t<strong>可以通过递归框架直接判断是否存在重叠子问题</strong>。</p>\n<p>​\t\t\t\t\t从状态 <code>(i, j)</code> 转移到 <code>(i+2, j+2)</code>，有几种路径？从状态 <code>(i, j)</code> 转移到 <code>(i-1, j-1)</code>，有几种路径？</p>\n</blockquote>\n<blockquote>\n<p>3、为什么经常看到将 <code>dp</code> 数组的大小设置为 <code>n + 1</code> 而不是 <code>n</code></p>\n<p>为什么迭代解法中的 <code>dp</code> 数组初始化大小要设置为 <code>int[m+1][n+1]</code>？</p>\n<p>为什么 <code>s1[0..i]</code> 和 <code>s2[0..j]</code> 的最小编辑距离要存储在 <code>dp[i+1][j+1]</code> 中，有一位索引偏移？</p>\n<p>再看 <code>dp</code> 数组，你当然也可以定义 <code>dp[i][j]</code> 存储 <code>s1[0..i]</code> 和 <code>s2[0..j]</code> 的编辑距离，但问题是 base case 怎么搞？索引怎么能是 -1 呢？</p>\n</blockquote>\n<blockquote>\n<p>4、为什么动态规划遍历 <code>dp</code> 数组的方式五花八门，有的正着遍历，有的倒着遍历，有的斜着遍历</p>\n<p><strong>1、遍历的过程中，所需的状态必须是已经计算出来的</strong>。</p>\n<p><strong>2、遍历结束后，存储结果的那个位置必须已经被计算出来</strong>。</p>\n<p>​\t主要就是看 base case 和最终结果的存储位置，保证遍历过程中使用的数据都是计算完毕的就行，有时候确实存在多种方法可以得到正确答案，可根据个人口味自行选择。</p>\n</blockquote>\n<blockquote>\n<p>5、 BASE CASE 和备忘录的初始值怎么定？</p>\n<p>base case 的返回值    <strong>起始条件决定的</strong></p>\n<p>备忘录的初始值          <strong>由题目给出的数据范围决定的</strong></p>\n<p>索引越界情况的返回值</p>\n<p>5.1、对于不合法的索引，返回值应该如何确定</p>\n<p>​\t\t<strong>根据我们状态转移方程的逻辑确定</strong>。对于索引越界的 <code>dp</code> 函数，应该返回一个不可能被取到的值。</p>\n<p>5.2、base case 为什么是 <code>i == 0</code>？</p>\n<p>​\t\t<strong>根据 <code>dp</code> 函数的定义所决定的</strong>。</p>\n<p>5.3、备忘录 <code>memo</code> 的初始值为什么是 66666？其他值行不行？</p>\n<p>​\t\t<strong>题目给出的数据范围决定的</strong>。<code>memo</code>的初始值一定得是特殊值，和合法的答案区间有所区分</p>\n<p>注：</p>\n<p>​\t\t<strong>不要忽视题目给定的其他信息</strong></p>\n</blockquote>\n<h3 id=\"动态规划解题组合拳\">动态规划解题组合拳</h3>\n<p><strong>就算 <code>dp</code> 函数/数组的定义相同，如果你使用不同的「视角」进行穷举，效率也不见得是相同的</strong>。</p>\n<p>两种完全不同但都是正确的状态转移逻辑，不过两种逻辑在代码实现上有效率的差异</p>\n<h5 id=\"总结：\">总结：</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span>、basecase            </span><br><span class=\"line\"> \t\t起始条件决定，也是由dp[i]的定义决定      要是使用备忘录：则其初始条件就由题目范围决定 </span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"number\">2</span>、状态—变量</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">3</span>、选择—变量发生变化的行为 可能是变量的取值范围</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">4</span>、dp[i] / dp[m][n]  的定义/含义    dp 参数就是状态—变量</span><br><span class=\"line\"></span><br><span class=\"line\"> 解题思路： </span><br><span class=\"line\"></span><br><span class=\"line\"> 数学归纳法：</span><br><span class=\"line\"> \t\t\t\t\t<span class=\"number\">1</span>、dp[i] 的定义/含义</span><br><span class=\"line\">\t\t\t\t\t<span class=\"number\">2</span>、假设dp[<span class=\"number\">0</span>…i-<span class=\"number\">1</span>] 已知，求dp[i]     从已知推未知</span><br><span class=\"line\"></span><br><span class=\"line\"> 是否具有重叠子问题：</span><br><span class=\"line\">                   <span class=\"number\">1</span>、画递归数的图</span><br><span class=\"line\">                   <span class=\"number\">2</span>、抽象出 递归框架 进行判断\t\t\t\t</span><br><span class=\"line\"></span><br><span class=\"line\"> 解题注意点：</span><br><span class=\"line\"></span><br><span class=\"line\">               dp[]    数组大小是 n+<span class=\"number\">1</span>\t\t\tdp[][]设置为： [m+<span class=\"number\">1</span>][n+<span class=\"number\">1</span>]\t\t</span><br></pre></td></tr></table></figure>\n<h3 id=\"五步走：\">五步走：</h3>\n<h6 id=\"1、确定dp数组（dp-table）以及下标的含义\">1、确定dp数组（dp table）以及下标的含义</h6>\n<h6 id=\"2、确定递推公式【其在前的原因：-⼀些情况是递推公式决定了dp数组要如何初始化】\">2、确定递推公式【其在前的原因： ⼀些情况是递推公式决定了<strong>dp</strong>数组要如何初始化】</h6>\n<h6 id=\"3、dp数组如何初始化\">3、dp数组如何初始化</h6>\n<h6 id=\"4、确定遍历顺序\">4、确定遍历顺序</h6>\n<h6 id=\"5、举例推导dp数组\">5、举例推导dp数组</h6>\n<h3 id=\"基础问题\">基础问题</h3>\n<blockquote>\n<h6 id=\"爬楼梯的消费最少\">爬楼梯的消费最少</h6>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;  dp[i] = Math.min(dp[i-<span class=\"number\">1</span>]+cost[i-<span class=\"number\">1</span>],dp[i-<span class=\"number\">2</span>]+cost[i-<span class=\"number\">2</span>]);</span><br></pre></td></tr></table></figure>\n</blockquote>\n<blockquote>\n<h6 id=\"不同路径\">不同路径</h6>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = dp[i-<span class=\"number\">1</span>][j]+ dp[i][j-<span class=\"number\">1</span>];</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"不同路径II\">不同路径II</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">if</span>(obstacleGrid[i][j] == <span class=\"number\">1</span>)  <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">&gt;dp[i][j] = dp[i-<span class=\"number\">1</span>][j] + dp[i][j-<span class=\"number\">1</span>];  </span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"困难问题\">困难问题</h6>\n<blockquote>\n<h6 id=\"不同的搜索二叉树\">不同的搜索二叉树</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;找规律</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// 以 j 为头节点的，左子树有 j-1 个节点   右子树有 i-j 个节点</span></span><br><span class=\"line\">&gt;dp[i] += dp[j-<span class=\"number\">1</span>]*dp[i-j];</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"整数拆分\">整数拆分</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">// 拆 i, i-j,循环拆  </span></span><br><span class=\"line\">&gt;dp[i] = max(j*(i-j),j*dp[i-j],dp[i]);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h3 id=\"背包问题总结大全\">背包问题总结大全</h3>\n<ul>\n<li>\n<p>基础题</p>\n</li>\n<li>\n<p>背包</p>\n<p>01  背包：</p>\n</li>\n</ul>\n<blockquote>\n<p>二维数组：</p>\n<ul>\n<li>dp数组含义：</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">即dp[i][j] 表⽰从下标为[<span class=\"number\">0</span>-i]的物品⾥任意取，放进容量为j的背包，价值总和最⼤是多少</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>要时刻记着这个<strong>dp</strong>数组的含义，下⾯的⼀些步骤都围绕这<strong>dp</strong>数组的含义进⾏的，如果哪⾥看懵了，就来回顾⼀下i代表什么，j又代表什么。</p>\n</blockquote>\n<ul>\n<li>递推公式：</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i][j] = max(dp[i - <span class=\"number\">1</span>][j], dp[i - <span class=\"number\">1</span>][j - weight[i]] + value[i]);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t不放的时候\t\t\t放的时候</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>数组初始化</p>\n</li>\n<li>\n<p>遍历顺序</p>\n</li>\n</ul>\n<p>先遍历 物品还是先遍历背包重量都可以</p>\n<p><code>dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]);</code> 递归公式中可以看出<code>dp[i][j]</code>是靠</p>\n<p><code>dp[i-1][j]和dp[i - 1][j - weight[i]]</code>推导出来的。<code>dp[i-1][j]和dp[i - 1][j - weight[i]] </code>都在<code>dp[i][j]</code>的左上⾓⽅向</p>\n<ul>\n<li>动⼿推导⼀下dp数组</li>\n</ul>\n<p>自己推导 和 程序打印</p>\n<p>一维数组：</p>\n<blockquote>\n<p>滚动数组的由来，需要满⾜的条件是上⼀层可以重复利⽤，直接拷贝到当前层<br>\n其实可以发现如果把dp[i - 1]那⼀层拷贝到dp[i]上，表达式可以是：<br>\n<code>dp[i][j] =max(dp[i][j], dp[i][j - weight[i]] + value[i])</code>; i是物品，j是背包容量</p>\n</blockquote>\n<blockquote>\n<ul>\n<li>⼀维dp数组中，dp[j]表⽰：容量为j的背包，所背的物品价值可以最⼤为dp[j]。</li>\n<li><code>dp[j - weight[i]]</code>表⽰容量为j-weight[i]的背包所背的最⼤价值<br>\n<code>dp[j - weight[i]] + value[i]</code> 表⽰ 容量为 <code>j - 物品i重量</code> 的背包 + <code>物品i的价值</code></li>\n<li><code>dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);</code>相对于⼆维dp数组的写法，就是把<code>dp[i][j]</code>中<code>i</code>的维度去掉了</li>\n<li>dp[0] = 0，又因为 是 取价值最⼤的数   所以都初始为0就可以了</li>\n<li>倒序 遍历，就可以保证物品只放⼊⼀次呢  而且必须 先遍历物品嵌套遍历背包容量</li>\n<li>自己推导 和 程序打印</li>\n</ul>\n</blockquote>\n<p>分割等和子集   /  石头相撞   /</p>\n<p>价值  和重量都看做数组中   值的大小</p>\n</blockquote>\n<h4 id=\"01背包\">01背包</h4>\n<h6 id=\"1、确定dp数组（dp-table）以及下标的含义-2\">1、确定dp数组（dp table）以及下标的含义</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[j]  表示   总容量为 j的  背包  最大值为  dp[j];</span><br></pre></td></tr></table></figure>\n<h6 id=\"2、确定递推公式【其在前的原因：-⼀些情况是递推公式决定了dp数组要如何初始化】-2\">2、确定递推公式【其在前的原因： ⼀些情况是递推公式决定了dp数组要如何初始化】</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">绝大多数是：</span><br><span class=\"line\">    </span><br><span class=\"line\">dp[j] = Math.max(dp[j],dp[j-i的重量]+i的价值);</span><br><span class=\"line\">或者</span><br><span class=\"line\">dp[j] += dp[j-i的重量];</span><br></pre></td></tr></table></figure>\n<h6 id=\"3、dp数组如何初始化-2\">3、dp数组如何初始化</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>; ----dp[j] = Math.max(dp[j],dp[j-nums[i]]+nums[i]); </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">dp[<span class=\"number\">0</span>] = <span class=\"number\">1</span>; ----dp[j] += dp[j-nums[i]];</span><br></pre></td></tr></table></figure>\n<h6 id=\"4、确定遍历顺序-2\">4、确定遍历顺序</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span> ;i &lt; nums.length;i++ )&#123; <span class=\"comment\">//物品  顺序</span></span><br><span class=\"line\">     <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j（j表示当前背包剩余重量）= 背包容量;j&gt;= i的重量;j-- )&#123;  <span class=\"comment\">// 背包     倒序  保证物品只遍历一次</span></span><br><span class=\"line\">      </span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"5、举例推导dp数组-2\">5、举例推导dp数组</h6>\n<h6 id=\"6、总结：\">6、总结：</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">模版框架</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"type\">int</span> dp[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"comment\">/** 根据题意来设 */</span>];</span><br><span class=\"line\"> dp[<span class=\"number\">0</span>]=  <span class=\"number\">0</span>（max）  (或者是)  <span class=\"number\">1</span>（+=）;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;stones.length;i++)&#123;\t\t\t\t\t<span class=\"comment\">// 物品取值</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> target ;j&gt;=stones[i];j--)&#123;       <span class=\"comment\">//背包容量</span></span><br><span class=\"line\">                dp[j] = Math.max (dp[j],dp[j-stones[i]]+stones[i]);</span><br><span class=\"line\">            <span class=\"comment\">//或者</span></span><br><span class=\"line\">            \tdp[j] += dp[j-nums[i]];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> dp[target]  /sum-<span class=\"number\">2</span>*dp[target]/......</span><br><span class=\"line\"></span><br><span class=\"line\">剩下的就是根据 题目 进行 数据预处理 返回值变化等 的填充</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>说明：</p>\n<p><code>dp[j] = Math.max(dp[j],dp[j-stones[i]]+stones[i]);</code></p>\n<p><code> dp[j] += dp[j-nums[i]];</code></p>\n<p>​\ti  、 j 等变量  本质应该为</p>\n<p><code>dp[背包容量] = Math.max(dp[背包容量],dp[当前背包容量-物品[i]重量] + 物品[i]价值);</code></p>\n<p><code>dp[背包容量] += dp[背包容量-物品[i]重量];</code></p>\n</blockquote>\n<h4 id=\"完全背包\">完全背包</h4>\n<blockquote>\n<p>排列：   先背包   后物品    1,2    2,1   各算一种</p>\n<p>组合： \t先物品  后背包    1,2    2,1   只算一种</p>\n<p>求最少个数   两种遍历方式  都可以</p>\n</blockquote>\n<h6 id=\"1、确定dp数组（dp-table）以及下标的含义-3\">1、确定dp数组（dp table）以及下标的含义</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i]: 凑成⽬标正整数为i的排列个数为dp[i]</span><br><span class=\"line\">dp[j]: 凑⾜总额为j所需钱币的最少个数为dp[j]</span><br><span class=\"line\">dp[i]: 字符串长度为i的话，dp[i]为<span class=\"literal\">true</span>，表⽰可以拆分为⼀个或多个在字典中出现的单词。</span><br><span class=\"line\">    ...</span><br><span class=\"line\">一般就是题目问什么你设什么  类比数学归纳法</span><br></pre></td></tr></table></figure>\n<h6 id=\"2、确定递推公式【其在前的原因：-⼀些情况是递推公式决定了dp数组要如何初始化】-3\">2、确定递推公式【其在前的原因： ⼀些情况是递推公式决定了dp数组要如何初始化】</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">绝大多数是：</span><br><span class=\"line\">dp[j] = Math.min (dp[j],dp[j-nums[i]]+nums[i]);</span><br><span class=\"line\">或者</span><br><span class=\"line\">dp[j] += dp[j-nums[i]];</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==注：这里和01背包问题是一样的==</p>\n<p>说明：</p>\n<p><code>dp[j] = Math.min  (dp[j],dp[j-stones[i]]+stones[i]);</code>     min</p>\n<p><code> dp[j] += dp[j-nums[i]];</code></p>\n<p>​\ti  、 j 等变量  本质应该为</p>\n<p><code>dp[背包容量] = Math.min(dp[背包容量],dp[背包容量-物品[]] + 价值[])（求min 的时候价值很可能为1的）;</code>   min</p>\n<p><code>dp[背包容量] += dp[背包容量-物品[]];</code></p>\n</blockquote>\n<h6 id=\"3、dp数组如何初始化-3\">3、dp数组如何初始化</h6>\n<blockquote>\n<p>==注：这里和01背包问题是不太一样的==</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">这里求的是 min   需要给其他值置初值：   Arrays.fill(dp,amount+<span class=\"number\">1</span>);  </span><br><span class=\"line\">后</span><br><span class=\"line\">dp[<span class=\"number\">0</span>]赋值   dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;\t----dp[j] = Math.min  (dp[j],dp[j-nums[i]]+nums[i]);</span><br><span class=\"line\"></span><br><span class=\"line\">dp[<span class=\"number\">0</span>] = <span class=\"number\">1</span>; ----dp[j] += dp[j-nums[i]];</span><br></pre></td></tr></table></figure>\n<h6 id=\"4、确定遍历顺序-3\">4、确定遍历顺序</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">《组合》</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;coins.length;i++)&#123;    <span class=\"comment\">//物品</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=coins[i] ; j &lt;= amount;j++)&#123;      <span class=\"comment\">//背包    正序，物品可重复</span></span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">或者  《排列》</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= <span class=\"number\">0</span>;i&lt;=target;i++ )&#123;\t\t\t\t\t\t<span class=\"comment\">//背包</span></span><br><span class=\"line\">     <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  j=<span class=\"number\">0</span>;j &lt; nums.length;j++)&#123;             <span class=\"comment\">//物品</span></span><br><span class=\"line\">             <span class=\"keyword\">if</span>(i&gt;=nums[j])&#123; <span class=\"comment\">//等于 不能丢          //此时要多一个条件  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  原因在于：j-nums[i]&gt;0</span></span><br><span class=\"line\">             </span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==注==</p>\n<p>先物品后背包:   <code>组合</code></p>\n<p>​\t\t是一种组合 是没有固定顺序的 比如  1,2,1   1,1,2 视为一种方法</p>\n<p>​\t\t在这种便利条件下  1,2,1   1,1,2  只会出现一种情况</p>\n<p>先背包后物品:   <code>排列</code></p>\n<p>​\t\t是一种排列 是 有固定顺序的 比如  1,2,1   1,1,2 视为两种方法</p>\n<p>​\t\t在这种便利条件下  1,2,1   1,1,2  都会出现</p>\n<p>​\t\t注意<code>if(i&gt;=nums[j])</code>不能丢</p>\n</blockquote>\n<h6 id=\"5、举例推导dp数组-3\">5、举例推导dp数组</h6>\n<h6 id=\"6、总结：-2\">6、总结：</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">模版框架</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"type\">int</span> dp[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"comment\">/** 根据题意来设 */</span>];</span><br><span class=\"line\"> dp[<span class=\"number\">0</span>]=  <span class=\"number\">0</span>  (或者是)  <span class=\"number\">1</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;coins.length;i++)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=coins[i] ; j &lt;= amount;j++)&#123;</span><br><span class=\"line\">          dp[j] += dp[j-coins[i]];</span><br><span class=\"line\">          <span class=\"comment\">// 或者</span></span><br><span class=\"line\">       dp[j] = Math.min(dp[j],dp[j-coins[i]]+<span class=\"number\">1</span>);<span class=\"comment\">// 求最小值哪种遍历顺序都可以</span></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">或者</span><br><span class=\"line\">    \t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= <span class=\"number\">0</span>;i&lt;=target;i++ )&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span> ;j &lt; nums.length;j++)&#123;  </span><br><span class=\"line\"> <span class=\"comment\">//（也可能  for(int j = 1 ;j &lt;= 2;j++)&#123;//步数要从 1 开始）--当物品时值不是数组的时候</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i&gt;=nums[j])&#123;  <span class=\"comment\">//等于 不能丢</span></span><br><span class=\"line\">                    dp[i] += dp[i-nums[j]];</span><br><span class=\"line\">                    <span class=\"comment\">// 或者</span></span><br><span class=\"line\">         \t dp[j] = Math.min(dp[j],dp[j-coins[i]]+<span class=\"number\">1</span>);<span class=\"comment\">// 求最小值哪种遍历顺序都可以</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> dp[amount]   / <span class=\"keyword\">return</span>  dp[amount]== amount+<span class=\"number\">1</span> ? -<span class=\"number\">1</span>  :dp[amount]; ...</span><br><span class=\"line\">剩下的就是根据 题目 进行 数据预处理 返回值变化等 的填充</span><br><span class=\"line\">   </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">特例：值得推敲</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">给你一个字符串 s 和一个字符串列表 wordDict 作为字典。请你判断是否可以利用字典中出现的单词拼接出 s 。</span><br><span class=\"line\">    </span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">wordBreak</span><span class=\"params\">(String s, List&lt;String&gt; wordDict)</span> &#123;</span><br><span class=\"line\"><span class=\"comment\">//dp[i] : 字符串长度为i的话，dp[i]为true，表⽰可以拆分为⼀个或多个在字典中出现的单词。 </span></span><br><span class=\"line\"><span class=\"comment\">//s 是有 顺序的 所以就只能 先背包再物品  --- 排列</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">    <span class=\"type\">boolean</span> dp[] = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span> [n+<span class=\"number\">1</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = <span class=\"literal\">true</span>;<span class=\"comment\">//其实无意义</span></span><br><span class=\"line\"><span class=\"comment\">// i = 1 原因是字符串时非空的</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= <span class=\"number\">1</span>; i&lt;= n;i++)&#123;   <span class=\"comment\">//背包</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>; j&lt;i ;j++)&#123;  <span class=\"comment\">//其是在字符串里面截取的，所以要小于i</span></span><br><span class=\"line\">       <span class=\"comment\">//只要确定dp[j]是true,dp[j]前面j段距离是true </span></span><br><span class=\"line\">        <span class=\"comment\">//并且[j, i]这个区间的子串出现在字典里，那么dp[i]一定是true</span></span><br><span class=\"line\">      <span class=\"comment\">//每次构造字符串是到不了i的，因此dp[j]看成是到j-1的字符,所以写成s.substring(j,i)&lt;表示截取字符串j-i段&gt;,而不是s.substring(j+1,i) </span></span><br><span class=\"line\">     <span class=\"comment\">// 0              j      i</span></span><br><span class=\"line\">     <span class=\"comment\">// ----------------------------</span></span><br><span class=\"line\">         <span class=\"keyword\">if</span>(wordDict.contains(s.substring(j,i)) &amp;&amp; dp[j])&#123;</span><br><span class=\"line\">             dp[i] =  <span class=\"literal\">true</span>;</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[n];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"子序列问题：\">子序列问题：</h3>\n<blockquote>\n<ul>\n<li>\n<p>子数组、子序列这类问题，你就可以尝试定义 <code>dp[i]</code> 是以 <code>nums[i]</code> 为结尾的最大子数组和/最长递增子序列，因为这样定义更容易将 <code>dp[i+1]</code> 和 <code>dp[i]</code> 建立起联系，利用数学归纳法写出状态转移方程</p>\n</li>\n<li>\n<p><strong>对于两个字符串求子序列的问题，都是用两个指针<code>i</code>和<code>j</code>分别在两个字符串上移动，大概率是动态规划思路</strong>。</p>\n</li>\n<li>\n<p>子序列和最值几乎都是动态规划技巧</p>\n</li>\n</ul>\n</blockquote>\n<ul>\n<li>\n<p>思路一： 一维dp数组</p>\n<p>dp[i] 是一个以  nums[i]/array[i]  为结尾的最长递增子序列的长度（符合归纳法）</p>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span>  n= array.length;</span><br><span class=\"line\"><span class=\"type\">int</span> []dp =<span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n];</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>,i&lt;=n;i++)</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;=i;j++)</span><br><span class=\"line\">        dp[i] = max(dp[i],dp[j]+<span class=\"number\">1</span>) /  最值 &#123;dp......&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>思路二：二维数组</p>\n<p>两个字符串、数组    的子序列</p>\n<ul>\n<li>数组arr1 []  数组arr2[] 中需求的子序列(最值 子序列 )  的长度dp[i][j]  —  涉及两个子序列</li>\n<li>数组arr1 [] 需求的子序列(最值 子序列 ) 的长度dp[i][j]                       — 设计一个子序列</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span>arr1.length;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> arr2.length;</span><br><span class=\"line\"><span class=\"type\">int</span> [][]dp= <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m][n];</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>,i&lt;=m;i++)</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;=n;j++)</span><br><span class=\"line\">\t\t\tdp[i] = dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>]    /  最值 &#123;dp......&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>子序列是可以不连续的，也可以连续的，</li>\n</ul>\n<p>​\t\t连续的子序列之和前一个元素的状态相关，不连续的和前面0-i-1  的状态相关</p>\n<ul>\n<li>子串子数组是连续的</li>\n</ul>\n</blockquote>\n<h4 id=\"数组子序列中的一维dp（数组）\">数组子序列中的一维dp（数组）</h4>\n<h6 id=\"1、确定dp-的含义\">1、确定dp[]的含义</h6>\n<blockquote>\n<p>==问什么设什么== 但是 大多数情况之下要判断比较取dp[] 中的最大值</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;比如：</span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++)&#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\"><span class=\"keyword\">if</span> (dp[i + <span class=\"number\">1</span>] &gt; result) </span><br><span class=\"line\">      \tresult = dp[i + <span class=\"number\">1</span>];</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> result;</span><br></pre></td></tr></table></figure>\n<p>如：</p>\n<p>​\t<strong>dp[i]</strong>：表⽰以下标<strong>i</strong>为结尾的数组的  最长上升子序列长度为dp[i]  （问的是长度）</p>\n<p>​\t<strong>dp[i]</strong>：表⽰以下标<strong>i</strong>为结尾的数组的  连续递增的⼦序列长度为<strong>dp[i]</strong> （问的是长度）</p>\n<p>​\t<strong>dp[i]</strong>：表⽰以下标<strong>i</strong>为结尾的数组的   最⼤连续⼦序列和为<strong>dp[i]</strong>（问的是和）</p>\n</blockquote>\n<h6 id=\"2、选择-–状态转移方程\">2、选择  –状态转移方程</h6>\n<blockquote>\n<p>判断：是连续的子序列还是不连续的子序列</p>\n<p>​\t\t连续的子序列之和前一个元素的状态相关，不连续的和前面<code> 0~i-1</code> 的状态相关</p>\n<p>如:==不连续==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">if</span> (nums[i] &gt; nums[j]) &#123;</span><br><span class=\"line\">dp[i] = max(dp[i], dp[j] + <span class=\"number\">1</span>);   <span class=\"comment\">// 最长递增子序列</span></span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p>==连续==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i] = max(dp[i - <span class=\"number\">1</span>] + nums[i], nums[i]);   <span class=\"comment\">//与前一个元素  i-1 相关  最大子数组和</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//或者</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>(nums[i-<span class=\"number\">1</span>] &lt; nums[i])&#123;    <span class=\"comment\">//与前一个元素  i-1 相关    最长递增子数组</span></span><br><span class=\"line\"> dp[i]= dp[i-<span class=\"number\">1</span>]+<span class=\"number\">1</span>;</span><br><span class=\"line\">&gt;&#125;  </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"3、确定初始值\">3、确定初始值</h6>\n<blockquote>\n<p><code>Arrays.fill(dp,1);</code>     //递增序列</p>\n<p><code>dp[0]= nums[0]</code>  //子数组和</p>\n</blockquote>\n<h6 id=\"4、确定遍历顺序-4\">4、确定遍历顺序</h6>\n<blockquote>\n<p>一般都是  ：    前     -&gt;       后</p>\n</blockquote>\n<blockquote>\n<p>==不连续：==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">   <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; i; j++) &#123;<span class=\"comment\">//因为和前 i-1 个元素的状态相关,</span></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p>==连续：==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 和前一个元素有关，所以要考虑i的起始坐标</span></span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"5、打印dp数组\">5、打印dp数组</h6>\n<h4 id=\"二维dp中的-公共子序列-（两个-字符串-数组）\">二维dp中的 公共子序列 （两个  字符串/数组）</h4>\n<h6 id=\"dp-含义\">dp[][]含义</h6>\n<blockquote>\n<p>公共子序列问题中的<code>dp[i][j]</code>定义都是：</p>\n<p>​\t<code>以长度为[0, i - 1]的 字符串1/ 数组1 ，和长度为[0, j - 1]的 字符串2/数组2，</code></p>\n<p>​\t\t\t<code>的公共子序列长度为dp[i][j]</code></p>\n</blockquote>\n<h6 id=\"状态转移方程\">状态转移方程</h6>\n<blockquote>\n<p>数组会有连续和不连续的区别</p>\n<p>==数组和字符串在不连续的时候是一样的==</p>\n</blockquote>\n<blockquote>\n<p>==连续时==</p>\n<p>​\t\t<strong>只讨论当数组值相等的时候</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">if</span>(nums1[i-<span class=\"number\">1</span>] == nums2[j-<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\"> dp[i][j] = dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>]+<span class=\"number\">1</span>;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p>==不连续时==</p>\n<p>​\t\t<strong>数组值相等和不等的时候都要讨论</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">if</span>(text1.charAt(i-<span class=\"number\">1</span>) == text2.charAt(j-<span class=\"number\">1</span>))/ <span class=\"keyword\">if</span>(nums1[i-<span class=\"number\">1</span>] == nums2[j-<span class=\"number\">1</span>])</span><br><span class=\"line\">&gt;dp[i][j] =  dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>] +<span class=\"number\">1</span>;</span><br><span class=\"line\">&gt;<span class=\"keyword\">else</span> </span><br><span class=\"line\">&gt;dp[i][j] = Math.max(dp[i-<span class=\"number\">1</span>][j],dp[i][j-<span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"初始值\">初始值</h6>\n<blockquote>\n<p>dp表都是空的，维度是<code>  i+1，j+1</code>，</p>\n<p>第一列 和 第一行 都是全 0的，然后行列都是从 1  开始 判断 填写</p>\n</blockquote>\n<h6 id=\"遍历顺序\">遍历顺序</h6>\n<blockquote>\n<p>无论是数组还是字符串都是==一样的==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= <span class=\"number\">1</span>; i&lt;=nums1.length;i++) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span> ;j&lt;= nums2.length;j++)&#123;</span><br><span class=\"line\">         ...</span><br><span class=\"line\">       System.out.print(dp[i][j]);  <span class=\"comment\">//打印dp数组</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"打印dp数组\">打印dp数组</h6>\n<h4 id=\"二维dp中-对子序列操作（字符串）\">二维dp中  对子序列操作（字符串）</h4>\n<h6 id=\"1、dp-数组定义\">1、dp[][]数组定义</h6>\n<blockquote>\n<p><code>dp[i][j] 表⽰以下标i-1为结尾的字符串s，和以下标j-1为结尾的字符串t，相同⼦序列的长度 为dp[i][j]</code></p>\n<p><code>dp[i][j]表⽰以下标i-1为结尾的字符串word1，和以下标j-1为结尾的字符串word2，最近编辑距离为dp[i][j]</code></p>\n</blockquote>\n<h6 id=\"2、选择-状态转移方程\">2、选择:状态转移方程</h6>\n<blockquote>\n<p>同样的：分为相等和不相等两种情况；</p>\n<p>==相等== <code> if(s.charAt(i-1) == t.charAt(j-1))&#123;...&#125;</code></p>\n<p>**只允许操作（删除、 增加）一个字符串时 **   ==求个数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>] +<span class=\"number\">1</span>;  ---判断是否是子序列    求子序列个数</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;dp[i][j] = dp[i-<span class=\"number\">1</span>][j]+dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>]; --- s 的子序列中 t 出现的个数</span><br></pre></td></tr></table></figure>\n<p>**操作（删除、 增加）两个字符串时  **    ==求操作次数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>];  -- 最小操作个数不要加 <span class=\"number\">1</span> </span><br></pre></td></tr></table></figure>\n<p><strong>操作两个字符串（增、删、替换）</strong>==求操作次数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>];  -- 最小操作个数不要加 <span class=\"number\">1</span> </span><br></pre></td></tr></table></figure>\n<p>==不相等== <code>else</code></p>\n<p><strong>只允许操作（删除、添加）一个字符串时</strong>      ==求个数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = Math.max(dp[i][j-<span class=\"number\">1</span>],dp[i-<span class=\"number\">1</span>][j]);      --- 判断是否是子序列   求子序列个数</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;dp[i][j]=dp[i-<span class=\"number\">1</span>][j];       --- s 的子序列中 t 出现的个数</span><br></pre></td></tr></table></figure>\n<p><strong>操作（删除、 增加）两个字符串时</strong>       ==求操作次数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = min(dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">2</span>, min(dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]) + <span class=\"number\">1</span>)</span><br><span class=\"line\">&gt;&lt;=&gt;  dp[i][j] = Math.min(dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>])+ <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p><strong>操作两个字符串（增、删、替换）</strong>         ==求操作次数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = min(dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">1</span>, min(dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]) + <span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">//区别： 1、这里替换 是 +1 两个都不一样的时候，替换操作 +1;但是 删除 +2； 所以选择替换才是最少的操作次数</span></span><br><span class=\"line\">&gt;&lt;=&gt;  dp[i][j] = Math.min(dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>],dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]) + <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"comment\">//2、这里不能简化   而且因为 java 原因还要 写 一个 min（） 方法；</span></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"3、初始化\">3、初始化</h6>\n<blockquote>\n<p>根据题目设定，比如</p>\n<p>要是问 操作距离</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;=s1.length/s1.length();i++)&#123;</span><br><span class=\"line\">dp[i][<span class=\"number\">0</span>] = i;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;j&lt;= s2.length/s2.length();j++)&#123;</span><br><span class=\"line\">dp[<span class=\"number\">0</span>][j] = j;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;或者</span><br><span class=\"line\">&gt;dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br></pre></td></tr></table></figure>\n<p>要是问 有包含多少子序列</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;=s1.length();i++)&#123;    <span class=\"comment\">//子序列所在的列/行  一行全为 1</span></span><br><span class=\"line\">&gt;dp[i][<span class=\"number\">0</span>]=<span class=\"number\">1</span>;</span><br><span class=\"line\">&gt;&#125;    <span class=\"comment\">//因为空集是所有字符串子集, 所以我们第一行都是 1</span></span><br></pre></td></tr></table></figure>\n<p>否则一般还是设为 全0</p>\n</blockquote>\n<h6 id=\"4、遍历顺序\">4、遍历顺序</h6>\n<blockquote>\n<p>一般都是：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=s1.length /s1.length() ;i++)&#123;</span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=s2.length / s2.length();j++)&#123;</span><br><span class=\"line\"> &#125;          </span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p>也可以由递推公式进行  画图 判断</p>\n</blockquote>\n<h6 id=\"5、打印数组\">5、打印数组</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i&lt;=s1.length /s1.length(); i++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i&lt;=s2.length /s2.length(); j++) &#123;</span><br><span class=\"line\">              System.out.print(dp[i][j]);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">           System.out.println();</span><br><span class=\"line\">      &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"二维dp中-回文串（字符串）\">二维dp中 回文串（字符串）</h4>\n<h6 id=\"1、dp-数组的定义\">1、dp[][]数组的定义</h6>\n<blockquote>\n<p><code>dp[i][j]：字符串s在[i, j]范围内最长的回⽂⼦序列的长度为dp[i][j]</code></p>\n<p>此时的区间是<code>i，j</code> 不再是两个字符串时候的<code>i-1  j-1</code>了</p>\n</blockquote>\n<h6 id=\"2、选择-状态转移方程-2\">2、选择:状态转移方程</h6>\n<blockquote>\n<p>==相等==<code>if(s.charAt(i) == s.charAt(j))</code>        ==此处是 i 和 j 了 ，不再是  i-1，j-1  了==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = dp[i+<span class=\"number\">1</span>][j-<span class=\"number\">1</span>]+<span class=\"number\">2</span>;</span><br></pre></td></tr></table></figure>\n<p>==不相等==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] =Math.max(dp[i+<span class=\"number\">1</span>][j],dp[i][j-<span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"3、初始化-2\">3、初始化</h6>\n<blockquote>\n<p>看题目，不过一般来说回文串的<code>对角线都是  1 </code></p>\n<p>即：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">j</span> <span class=\"operator\">=</span><span class=\"number\">0</span> ;j&lt;n;j++)&#123;</span><br><span class=\"line\"> \tdp[j][j] =<span class=\"number\">1</span>;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"4、遍历顺序-2\">4、遍历顺序</h6>\n<blockquote>\n<p>集体看题目和自己推导</p>\n<p>一般为： 自下向上    自左向右</p>\n<p>如：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=s.length()-<span class=\"number\">2</span>;i&gt;= <span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\"> <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j= i+<span class=\"number\">1</span> ;j&lt;n;j++)&#123;</span><br><span class=\"line\">    ......        </span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"5、打印dp数组-2\">5、打印dp数组</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">516.</span> 最长回文子序列</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">        <span class=\"type\">int</span> [][]dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [n+<span class=\"number\">1</span>][n+<span class=\"number\">1</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i &lt; n;i++)&#123;</span><br><span class=\"line\">             dp[i][i] =<span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n-<span class=\"number\">2</span>;i&gt;= <span class=\"number\">0</span>;i--)&#123;                        ----对角线已经初始化  n-<span class=\"number\">2</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i+<span class=\"number\">1</span>;j&lt;n;j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(s.charAt(i) == s.charAt(j))&#123;</span><br><span class=\"line\">                    dp[i][j] = dp[i+<span class=\"number\">1</span>][j-<span class=\"number\">1</span>]+<span class=\"number\">2</span>;</span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                    dp[i][j] =Math.max(dp[i+<span class=\"number\">1</span>][j],dp[i][j-<span class=\"number\">1</span>]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//想要得到的就是一个 字符串  起止 坐标</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">0</span>][n-<span class=\"number\">1</span>];      </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">1312.</span> 让字符串成为回文串的最少插入次数--------类似 编辑距离的操作</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//间接  总长度 减去 最长回文子串</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">        <span class=\"type\">int</span> dp[][] = <span class=\"keyword\">new</span>  <span class=\"title class_\">int</span> [n+<span class=\"number\">1</span>][n+<span class=\"number\">1</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">            <span class=\"comment\">//间接</span></span><br><span class=\"line\">            <span class=\"comment\">//dp[i][i] =  1;</span></span><br><span class=\"line\">            <span class=\"comment\">//直接</span></span><br><span class=\"line\">            dp[i][i] = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"><span class=\"comment\">//间接</span></span><br><span class=\"line\"><span class=\"comment\">//for(int i = n-2;i &gt;= 0;i--)&#123;                      对角线已经初始化   n-2</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> n-<span class=\"number\">1</span>;i &gt;= <span class=\"number\">0</span>;i--)&#123;             ----对角线未初始化   n-<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> i+<span class=\"number\">1</span>;j &lt; n;j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(s.charAt(i) == s.charAt(j))&#123;</span><br><span class=\"line\">                    <span class=\"comment\">//间接</span></span><br><span class=\"line\">                   <span class=\"comment\">//dp[i][j] = dp[i+1][j-1]+2;</span></span><br><span class=\"line\">                   <span class=\"comment\">//直接</span></span><br><span class=\"line\">                   dp[i][j]= dp[i+<span class=\"number\">1</span>][j-<span class=\"number\">1</span>];</span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span></span><br><span class=\"line\">                &#123;    <span class=\"comment\">//间接</span></span><br><span class=\"line\">                    <span class=\"comment\">//dp[i][j]  = Math.max(dp[i][j-1],dp[i+1][j]);</span></span><br><span class=\"line\">                    <span class=\"comment\">//直接</span></span><br><span class=\"line\">                    dp[i][j]  = Math.min(dp[i][j-<span class=\"number\">1</span>],dp[i+<span class=\"number\">1</span>][j])+<span class=\"number\">1</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//System.out.println(dp[0][n-1]);</span></span><br><span class=\"line\">         <span class=\"comment\">//间接</span></span><br><span class=\"line\">        <span class=\"comment\">//return n- dp[0][n-1];</span></span><br><span class=\"line\">        <span class=\"comment\">//直接</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span>  dp[<span class=\"number\">0</span>][n-<span class=\"number\">1</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">647.</span> 回⽂⼦串</span><br><span class=\"line\"></span><br><span class=\"line\">dp[i][j]：表⽰区间范围[i,j] （注意是左闭右闭）的⼦串是否是回⽂⼦串，如果是dp[i][j]为<span class=\"literal\">true</span>，否则为<span class=\"literal\">false</span></span><br><span class=\"line\">    </span><br><span class=\"line\">  <span class=\"type\">boolean</span> dp[][] = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span> [s.length()+<span class=\"number\">1</span>][s.length()+<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span>  <span class=\"variable\">n</span> <span class=\"operator\">=</span> s.length()</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span>n-<span class=\"number\">1</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;                    --对角线未初始化   n-<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> i;j &lt; n;j++)&#123;          \t--对角线未初始化   所以从对角线开始</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(s.charAt(i) == s.charAt(j))&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(i==j || (j-i)==<span class=\"number\">1</span>)&#123;   <span class=\"comment\">//左右相邻 或者 指向的是同一个字符的时候</span></span><br><span class=\"line\">                        dp[i][j] = <span class=\"literal\">true</span>;     </span><br><span class=\"line\">                        res++;</span><br><span class=\"line\">                   &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (dp[i+<span class=\"number\">1</span>][j-<span class=\"number\">1</span>] == <span class=\"literal\">true</span>)&#123;</span><br><span class=\"line\">                        res++;</span><br><span class=\"line\">                        dp[i][j] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                System.out.print(dp[i][j]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            System.out.println();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"打家劫舍问题\">打家劫舍问题</h3>\n<h5 id=\"I\">I</h5>\n<h6 id=\"1、dp数组定义：考虑下标i-包括i-以内的房屋，最多可以偷窃的⾦额为dp-i\">1、dp数组定义：<code>考虑下标i(包括i)以内的房屋，最多可以偷窃的⾦额为dp[i]</code></h6>\n<h6 id=\"2、选择：状态转移方程\">2、选择：状态转移方程</h6>\n<blockquote>\n<p>偷 不偷</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i] = max(dp[i - <span class=\"number\">2</span>] + nums[i], dp[i - <span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n<h6 id=\"3、初始值\">3、初始值</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[<span class=\"number\">0</span>] = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\"><span class=\"keyword\">if</span>(nums.length &gt;<span class=\"number\">1</span>)    dp[<span class=\"number\">1</span>]=Math.max(nums[<span class=\"number\">0</span>],nums[<span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n<h6 id=\"4、-遍历顺序\">4、 遍历顺序</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">2</span> ;i &lt; nums.length ;i++)&#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"5、打印dp数组-3\">5、打印dp数组</h6>\n<h5 id=\"II\">II</h5>\n<blockquote>\n<p>==将  环  拆开==</p>\n<p>与 I 雷同，区别是</p>\n<p>学到了一个java内置函数</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"type\">int</span> [] rob1 = Arrays.copyOfRange(nums, <span class=\"number\">0</span>, nums.length - <span class=\"number\">1</span>);</span><br><span class=\"line\">&gt;<span class=\"type\">int</span> [] rob2 = Arrays.copyOfRange(nums, <span class=\"number\">1</span>, nums.length);</span><br><span class=\"line\">&gt;<span class=\"comment\">// 将0 ~ nums.length-1 的 你们是数组的值赋值给 rob     -- 将环拆开的方法</span></span><br></pre></td></tr></table></figure>\n<p>还有就是在主函数中调用I中函数之前要 排除特例</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">if</span>(nums.length == <span class=\"number\">1</span>)  <span class=\"keyword\">return</span> nums[<span class=\"number\">0</span>];</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h5 id=\"III\">III</h5>\n<blockquote>\n<p>对于树的话，⾸先就要想到遍历⽅式，前中后序（深度优先搜索）还是层序遍历（⼴度优先搜索）</p>\n<p><strong>偏重在递归和树的遍历上</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">rob</span><span class=\"params\">(TreeNode root)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"type\">int</span> robtreeres[] = robtree(root);</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">return</span> Math.max(robtreeres[<span class=\"number\">0</span>],robtreeres[<span class=\"number\">1</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span>[] robtree(TreeNode root) &#123;</span><br><span class=\"line\">&gt;<span class=\"comment\">//对于以r.left为根的树，计算抢劫根节点(r.left)与不抢劫根节点可获得最大金额. </span></span><br><span class=\"line\">&gt;<span class=\"comment\">//left[0]则为不抢r.left可获得的最大金额,</span></span><br><span class=\"line\">&gt;<span class=\"comment\">//left[1]则为抢劫r.left可获得的最大金额 </span></span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>(root  == <span class=\"literal\">null</span>)    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [<span class=\"number\">2</span>];</span><br><span class=\"line\">&gt;<span class=\"comment\">//递归遍历</span></span><br><span class=\"line\">&gt;<span class=\"type\">int</span> leftdp [] =robtree(root.left);</span><br><span class=\"line\">&gt;<span class=\"comment\">//right[] 分析同理</span></span><br><span class=\"line\">&gt;<span class=\"type\">int</span> rightdp [] =robtree(root.right) ;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"type\">int</span> <span class=\"variable\">val1</span> <span class=\"operator\">=</span>  root.val+leftdp[<span class=\"number\">1</span>]+rightdp[<span class=\"number\">1</span>];  <span class=\"comment\">//父节点偷，子节点只能不偷   1 表示不偷   0 表示偷</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//父节点不偷，子节点既能偷也能不偷</span></span><br><span class=\"line\">&gt;<span class=\"type\">int</span> <span class=\"variable\">val2</span> <span class=\"operator\">=</span> Math.max(leftdp[<span class=\"number\">0</span>] ,leftdp[<span class=\"number\">1</span>])+ Math.max(rightdp[<span class=\"number\">0</span>],rightdp[<span class=\"number\">1</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;val1,val2&#125;;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h3 id=\"树形dp\">树形dp</h3>\n<h4 id=\"ACM形式全方位学习\">ACM形式全方位学习</h4>\n<h5 id=\"介绍\">介绍</h5>\n<p>树形dp的主要实现形式是<code>𝑑𝑓𝑠</code>，在<code>𝑑𝑓𝑠</code>中<code>𝑑𝑝</code>主要的实现形式是<code>𝑑𝑝[𝑖][𝑗][0/1]</code></p>\n<p><code>𝑖</code>是以<code>𝑖</code>为<code>根</code>的子树，<code>𝑗</code>是表示在以<code>𝑖为根的子树</code>中选择<code>𝑗个子节点</code>，0表示这个节点<code>不选</code>，1表示选择这个<code>节点</code>。有的时候<code>𝑗</code>或<code>0/1</code>这<code>一维可以压掉</code></p>\n<h5 id=\"核心dp方程\">核心dp方程</h5>\n<blockquote>\n<h5 id=\"选择节点类\">选择节点类</h5>\n<p>​\t  <code>dp[i][0] = dp[j][1]</code></p>\n<p>​     <code>dp[i][1]=max/min(dp[j][0],dp[j][1])</code></p>\n<h5 id=\"树形背包类\">树形背包类</h5>\n<p>​     <code>𝑑𝑝[𝑣][𝑘]=𝑑𝑝[𝑢][𝑘]+𝑣𝑎𝑙</code></p>\n<p>​    <code>𝑑𝑝[𝑢][𝑘]=𝑚𝑎𝑥(𝑑𝑝[𝑢][𝑘],𝑑𝑝[𝑣][𝑘−1])</code></p>\n</blockquote>\n<h5 id=\"ACM输入格式\">ACM输入格式</h5>\n<img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202304131133326.png\" alt=\"image-20230413113306286\" style=\"zoom:25%;\">\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">// mian 中 进行 dfs  以及输入输出</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"type\">Scanner</span> <span class=\"variable\">scanner</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span>(System.in);</span><br><span class=\"line\">  <span class=\"comment\">//第一段数字</span></span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> scanner.nextInt();</span><br><span class=\"line\">  <span class=\"comment\">//第二段数字</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;= n;i++)&#123;</span><br><span class=\"line\">      value[i]= scanner.nextInt();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 邻接表  的预处理</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;= n;i++)&#123;</span><br><span class=\"line\">      tree[i] = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 第三段数字</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;= n -<span class=\"number\">1</span>;i++)&#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">child</span> <span class=\"operator\">=</span> scanner.nextInt();</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">father</span> <span class=\"operator\">=</span> scanner.nextInt();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 将节点 father 的一个子节点 child 加入到 son[k] 中</span></span><br><span class=\"line\">      tree[father].add(child);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 标志位1 就不能是子节点了</span></span><br><span class=\"line\">      not_root[child] = <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//        for (int i = 0; i &lt;= n; i++) &#123;</span></span><br><span class=\"line\">&gt;<span class=\"comment\">//            System.out.println(tree[i]);</span></span><br><span class=\"line\">&gt;<span class=\"comment\">//        &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">root</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(not_root[i] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">          root = i;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  dfs(root);</span><br><span class=\"line\">  System.out.println(Math.max(dp[root][<span class=\"number\">0</span>],dp[root][<span class=\"number\">1</span>]));</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">///////////////////////</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//说明： </span></span><br><span class=\"line\">&gt;ArrayList的存储结构</span><br><span class=\"line\">&gt;<span class=\"comment\">// 执行：</span></span><br><span class=\"line\">&gt;List&lt;Integer&gt;[] tree = <span class=\"keyword\">new</span> <span class=\"title class_\">List</span>[n + <span class=\"number\">1</span>];</span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">&gt;tree[i] = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//实际的add操作就是执行了：</span></span><br><span class=\"line\">&gt;tree[<span class=\"number\">3</span>].add(<span class=\"number\">1</span>);</span><br><span class=\"line\">&gt;tree[<span class=\"number\">3</span>].add(<span class=\"number\">2</span>);</span><br><span class=\"line\">&gt;tree[<span class=\"number\">4</span>].add(<span class=\"number\">6</span>);</span><br><span class=\"line\">&gt;tree[<span class=\"number\">4</span>].add(<span class=\"number\">7</span>);</span><br><span class=\"line\">&gt;tree[<span class=\"number\">5</span>].add(<span class=\"number\">4</span>);</span><br><span class=\"line\">&gt;tree[<span class=\"number\">5</span>].add(<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">&gt;System.out.println(<span class=\"string\">&quot;tree[&quot;</span>+i+<span class=\"string\">&quot;]&quot;</span>+tree[i]);</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//即可得到各个节点对应的子节点。</span></span><br><span class=\"line\">&gt;tree[<span class=\"number\">0</span>]<span class=\"literal\">null</span></span><br><span class=\"line\">&gt;tree[<span class=\"number\">1</span>][]</span><br><span class=\"line\">&gt;tree[<span class=\"number\">2</span>][]</span><br><span class=\"line\">&gt;tree[<span class=\"number\">3</span>][<span class=\"number\">1</span>, <span class=\"number\">2</span>]</span><br><span class=\"line\">&gt;tree[<span class=\"number\">4</span>][<span class=\"number\">6</span>, <span class=\"number\">7</span>]</span><br><span class=\"line\">&gt;tree[<span class=\"number\">5</span>][<span class=\"number\">4</span>, <span class=\"number\">3</span>]</span><br><span class=\"line\">&gt;tree[<span class=\"number\">6</span>][]</span><br><span class=\"line\">&gt;tree[<span class=\"number\">7</span>][]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">// 数据定义</span></span><br><span class=\"line\"><span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">int</span> <span class=\"variable\">MAX_Length</span> <span class=\"operator\">=</span> <span class=\"number\">6005</span>;（<span class=\"number\">6005</span>看题目要求而来）</span><br><span class=\"line\">&gt;<span class=\"keyword\">static</span> <span class=\"type\">int</span> value[]= <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[MAX_Length];</span><br><span class=\"line\">&gt;<span class=\"keyword\">static</span> <span class=\"type\">int</span> dp[][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[MAX_Length][<span class=\"number\">2</span>];</span><br><span class=\"line\">&gt;<span class=\"comment\">// 判断是否为根</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">static</span> <span class=\"type\">int</span> not_root[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[MAX_Length];</span><br><span class=\"line\">&gt;<span class=\"comment\">// 使用 邻接表 进行存储 父子节点 这要是 List</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">static</span> List&lt;Integer&gt;[] tree = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>[MAX_Length];</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">// 进行dp  要注意的是  先找到 子节点在 数组数组链表中的位置</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> &#123;</span><br><span class=\"line\">  dp[root][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">  dp[root][<span class=\"number\">1</span>] = value[root];</span><br><span class=\"line\">  <span class=\"comment\">//找子树</span></span><br><span class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; tree[root].size(); i++) &#123;</span><br><span class=\"line\">         <span class=\"comment\">//因为dp函数是要进行寻找到子节点的</span></span><br><span class=\"line\">         <span class=\"type\">int</span> <span class=\"variable\">son</span> <span class=\"operator\">=</span> tree[root].get(i);</span><br><span class=\"line\">         dfs(son);</span><br><span class=\"line\">         <span class=\"comment\">// 父亲去 孩子就不能去</span></span><br><span class=\"line\">         dp[root][<span class=\"number\">1</span>] += dp[son][<span class=\"number\">0</span>];</span><br><span class=\"line\">         <span class=\"comment\">// 父亲不去，孩子就能去，但是去不去是取 最大值的</span></span><br><span class=\"line\">         dp[root][<span class=\"number\">0</span>] += Math.max(dp[son][<span class=\"number\">0</span>],dp[son][<span class=\"number\">1</span>]);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h3 id=\"股票问题\">股票问题</h3>\n<blockquote>\n<p>==选择：==<br>\n买入、卖出、无操作</p>\n<p>==状态==</p>\n<p>​\t\t第一个是天数，第二个是允许交易的最大次数，第三个是当前的持有状态（用 1 表示持有，0 表示没有持有）</p>\n</blockquote>\n<blockquote>\n<p>基本的==状态转移方程==：</p>\n<p>n 为天数，大 K 为交易数的上限，0 和 1 代表是否持有股票。</p>\n<p><code>dp[i][k][0] = max(dp[i-1][k][0]      ,     dp[i-1][k][1] + prices[i])</code></p>\n<p>​\t\t一直保持没有持有股票的状态，买的次数还是k       今天刚刚卖掉，但是前一天还是持有股票的状态,但是买的次数还是k</p>\n<p><code>dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])</code></p>\n<p>​\t\t一直保持持有股票的状态，买的次数还是k          今天刚刚买了，但是之前一直没有持有股票的状态,买的次数是k-1</p>\n<p><strong>ps:状态 <code>k</code> 的定义并不是「已进行的交易次数」，而是「最大购买交易的上限」</strong></p>\n</blockquote>\n<blockquote>\n<p>==初始化==</p>\n<p><code>dp[-1][...][0] = dp[...][0][0] = 0 </code>       没有股票  所以价值肯定是 0</p>\n<p><code>dp[-1][...][1] = dp[...][0][1] = -infinity</code>      购买次数 为 0  或者天数为 &lt;0  此时还有票 显然非法</p>\n</blockquote>\n<blockquote>\n<p>具体题目：</p>\n<ul>\n<li>k 为固定值 即：指定的购买次数  &lt;<code>dp[i-1][0][0] = 0</code>&gt;</li>\n</ul>\n<p>​\t\t此时方程为：</p>\n<p>​\t\t\t\t<code>dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) </code></p>\n<p>​\t\t\t\t<code>dp[i][1] = max(dp[i-1][1], -prices[i])</code></p>\n<p>​\t\t\t\t特殊处理</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">if</span> (i - <span class=\"number\">1</span> &lt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">dp[i][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据状态转移方程可得：</span></span><br><span class=\"line\"><span class=\"comment\">//   dp[i][0] </span></span><br><span class=\"line\"><span class=\"comment\">// = max(dp[-1][0], dp[-1][1] + prices[i])</span></span><br><span class=\"line\"><span class=\"comment\">// = max(0, -infinity + prices[i]) = 0</span></span><br><span class=\"line\"></span><br><span class=\"line\">dp[i][<span class=\"number\">1</span>] = -prices[i];</span><br><span class=\"line\"><span class=\"comment\">// 根据状态转移方程可得：</span></span><br><span class=\"line\"><span class=\"comment\">//   dp[i][1] </span></span><br><span class=\"line\"><span class=\"comment\">// = max(dp[-1][1], dp[-1][0] - prices[i])</span></span><br><span class=\"line\"><span class=\"comment\">// = max(-infinity, 0 - prices[i]) </span></span><br><span class=\"line\"><span class=\"comment\">// = -prices[i]</span></span><br><span class=\"line\"><span class=\"keyword\">continue</span>;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// 按五部曲来</span></span><br><span class=\"line\">&gt;或者直接进行初始化，在<span class=\"keyword\">for</span> 循环之外</span><br><span class=\"line\">  dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">  dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">&gt;<span class=\"comment\">//随后 for循环内就不要进行判断了</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>k为 无穷大</li>\n</ul>\n<p>​\t\t此时方程为：</p>\n<p>​\t\t\t\t<code>dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) </code></p>\n<p>​\t\t\t\t<code>dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])</code></p>\n<p>​\t\t特殊处理和上面一样</p>\n<ul>\n<li>k 为  无穷大 且 含有手续费</li>\n</ul>\n<p>​\t此时方程为：</p>\n<p>​\t\t\t\t<code>dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) </code></p>\n<p>​\t\t\t\t<code>dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i]-fee)</code></p>\n<p>​\t特殊处理和上面类似 <code>dp[i][1] = -prices[i]-fee;</code>  /或者=&gt;(单独初始化)/<code>dp[0][1] = -prices[0]-fee;</code></p>\n<ul>\n<li>k 为  无穷大 且 存在==冷冻期==（初始化的特例）</li>\n</ul>\n<p>​\t\t此时方程为：</p>\n<p>​\t\t\t\t<code>dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) </code></p>\n<p>​\t\t\t\t<code>dp[i][1] = max(dp[i-1][1], dp[i-2][0]-prices[i])</code></p>\n<p>​\t\t特殊处理：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// base case 1</span></span><br><span class=\"line\">dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> 循环中</span><br><span class=\"line\">             <span class=\"keyword\">if</span> (i - <span class=\"number\">2</span> &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// base case 2</span></span><br><span class=\"line\">                dp[i][<span class=\"number\">0</span>] = Math.max(dp[i-<span class=\"number\">1</span>][<span class=\"number\">0</span>], dp[i-<span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">                <span class=\"comment\">// i - 2 小于 0 时根据状态转移方程推出对应 base case</span></span><br><span class=\"line\">                dp[i][<span class=\"number\">1</span>] = Math.max(dp[i-<span class=\"number\">1</span>][<span class=\"number\">1</span>], -prices[i]);</span><br><span class=\"line\">                <span class=\"comment\">//   dp[i][1] </span></span><br><span class=\"line\">                <span class=\"comment\">// = max(dp[i-1][1], dp[-1][0] - prices[i])</span></span><br><span class=\"line\">                <span class=\"comment\">// = max(dp[i-1][1], 0 - prices[i])</span></span><br><span class=\"line\">                <span class=\"comment\">// = max(dp[i-1][1], -prices[i])</span></span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        \t&#125;</span><br><span class=\"line\"><span class=\"comment\">// 写在for 循环内是不需要进行n==1 的判断的</span></span><br><span class=\"line\">所以另一种写法，就是将i 从<span class=\"number\">2</span> 开始遍历，那么 basecase 就在循环外定义  循环内无判断的操作</span><br><span class=\"line\">即： </span><br><span class=\"line\">    \t\t<span class=\"keyword\">if</span>(n == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">//有冷冻期 </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(n&lt;<span class=\"number\">0</span>)  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"type\">int</span> dp[][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [n][<span class=\"number\">2</span>];</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">            dp[<span class=\"number\">1</span>][<span class=\"number\">0</span>]= Math.max(dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>],dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>]+prices[<span class=\"number\">1</span>]);</span><br><span class=\"line\">            dp[<span class=\"number\">1</span>][<span class=\"number\">1</span>]= Math.max(dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>],-prices[<span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>k 为最多（固定值）次</li>\n</ul>\n<p>此时方程为：</p>\n<p>​              <code>dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1] + prices[i]) </code></p>\n<p>​              <code>dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])</code></p>\n<p>特殊处理和上面一样  <code>for 循环嵌套处理 basecase</code></p>\n<p>​\t   此处需要嵌套循环，<code>多加一个 对 K 要进行穷举的循环</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit</span><span class=\"params\">(<span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">mk</span> <span class=\"operator\">=</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> prices.length;</span><br><span class=\"line\">      <span class=\"type\">int</span> dp[][][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n][mk+<span class=\"number\">1</span>][<span class=\"number\">2</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> mk;k&gt;<span class=\"number\">0</span>;k--)&#123;</span><br><span class=\"line\">          dp[<span class=\"number\">0</span>][k][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">          dp[<span class=\"number\">0</span>][k][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i &lt; n;i++)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">for</span>(<span class=\"type\">int</span> k= mk;k &gt; <span class=\"number\">0</span>;k--)&#123;</span><br><span class=\"line\">              dp[i][k][<span class=\"number\">0</span>] = Math.max(dp[i-<span class=\"number\">1</span>][k][<span class=\"number\">0</span>],dp[i-<span class=\"number\">1</span>][k][<span class=\"number\">1</span>]+prices[i]);</span><br><span class=\"line\">              dp[i][k][<span class=\"number\">1</span>] = Math.max(dp[i-<span class=\"number\">1</span>][k][<span class=\"number\">1</span>],dp[i-<span class=\"number\">1</span>][k-<span class=\"number\">1</span>][<span class=\"number\">0</span>]-prices[i]);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> dp[n-<span class=\"number\">1</span>][mk][<span class=\"number\">0</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;另一种解法：&lt;或者直接使用下面的一题的模板&gt;</span><br><span class=\"line\">  \t <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit</span><span class=\"params\">(<span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">n</span>  <span class=\"operator\">=</span>prices.length;</span><br><span class=\"line\">      <span class=\"type\">int</span> dp[][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [n][<span class=\"number\">5</span>];</span><br><span class=\"line\">      dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] =  <span class=\"number\">0</span>;</span><br><span class=\"line\">      dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] =  -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">      dp[<span class=\"number\">0</span>][<span class=\"number\">2</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">      dp[<span class=\"number\">0</span>][<span class=\"number\">3</span>] =  -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">      dp[<span class=\"number\">0</span>][<span class=\"number\">4</span>] =  <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">          <span class=\"comment\">// 套娃操作</span></span><br><span class=\"line\">          dp[i][<span class=\"number\">0</span>] = dp[i-<span class=\"number\">1</span>][<span class=\"number\">0</span>];  <span class=\"comment\">//不操作   可删</span></span><br><span class=\"line\">          dp[i][<span class=\"number\">1</span>] = Math.max(dp[i-<span class=\"number\">1</span>][<span class=\"number\">1</span>],dp[i-<span class=\"number\">1</span>][<span class=\"number\">0</span>]-prices[i]);    <span class=\"comment\">// 买一次</span></span><br><span class=\"line\">          dp[i][<span class=\"number\">2</span>] = Math.max(dp[i-<span class=\"number\">1</span>][<span class=\"number\">2</span>],dp[i-<span class=\"number\">1</span>][<span class=\"number\">1</span>]+prices[i]);    <span class=\"comment\">//卖一次</span></span><br><span class=\"line\">          dp[i][<span class=\"number\">3</span>] = Math.max(dp[i-<span class=\"number\">1</span>][<span class=\"number\">3</span>],dp[i-<span class=\"number\">1</span>][<span class=\"number\">2</span>]-prices[i]);    <span class=\"comment\">// 再买一次</span></span><br><span class=\"line\">          dp[i][<span class=\"number\">4</span>] = Math.max(dp[i-<span class=\"number\">1</span>][<span class=\"number\">4</span>],dp[i-<span class=\"number\">1</span>][<span class=\"number\">3</span>]+prices[i]);    <span class=\"comment\">// 再卖一次</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> dp[n-<span class=\"number\">1</span>][<span class=\"number\">4</span>];  <span class=\"comment\">// 最后一次状态是4</span></span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>k 为最多（非固定值）次</li>\n</ul>\n<p>​\t此时和上面 固定次数类似 只是需要对 k 进行缩小</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (max_k &gt; n / <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">       <span class=\"comment\">// 复用之前交易次数 k 没有限制的情况</span></span><br><span class=\"line\">       <span class=\"keyword\">return</span> maxProfit_k_inf(prices);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit</span><span class=\"params\">(<span class=\"type\">int</span> k, <span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">          <span class=\"type\">int</span>  <span class=\"variable\">n</span>  <span class=\"operator\">=</span>prices.length;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(n==<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(k&gt; n/<span class=\"number\">2</span>) <span class=\"keyword\">return</span> maxProfitone(prices);   <span class=\"comment\">//递归  不进行递归调用也能通过</span></span><br><span class=\"line\">          <span class=\"type\">int</span> dp [][][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [n][k+<span class=\"number\">1</span>][<span class=\"number\">2</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">         <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span>k;j&gt;<span class=\"number\">0</span>; j--)&#123;</span><br><span class=\"line\">             <span class=\"keyword\">if</span>(i-<span class=\"number\">1</span>&lt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                 dp[i][j][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">                 dp[i][j][<span class=\"number\">1</span>] = -prices[i];</span><br><span class=\"line\">                 <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">             dp[i][j][<span class=\"number\">0</span>] = Math.max(dp[i-<span class=\"number\">1</span>][j][<span class=\"number\">0</span>],dp[i-<span class=\"number\">1</span>][j][<span class=\"number\">1</span>]+prices[i]);</span><br><span class=\"line\">             dp[i][j][<span class=\"number\">1</span>] = Math.max(dp[i-<span class=\"number\">1</span>][j][<span class=\"number\">1</span>],dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>][<span class=\"number\">0</span>]-prices[i]);</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> dp[n-<span class=\"number\">1</span>][k][<span class=\"number\">0</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"title function_\">maxProfitone</span><span class=\"params\">( <span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> prices.length;</span><br><span class=\"line\">      <span class=\"type\">int</span> dp[][]= <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [n][<span class=\"number\">2</span>];</span><br><span class=\"line\">      dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>]= <span class=\"number\">0</span>;</span><br><span class=\"line\">      dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">          dp[i][<span class=\"number\">0</span>] = Math.max(dp[i-<span class=\"number\">1</span>][<span class=\"number\">0</span>],dp[i-<span class=\"number\">1</span>][<span class=\"number\">1</span>]+prices[i]);</span><br><span class=\"line\">          dp[i][<span class=\"number\">1</span>] = Math.max(dp[i-<span class=\"number\">1</span>][<span class=\"number\">1</span>],dp[i-<span class=\"number\">1</span>][<span class=\"number\">0</span>]-prices[i]);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> dp[n-<span class=\"number\">1</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;解法优化：&lt;代码减少&gt;</span><br><span class=\"line\">      <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit</span><span class=\"params\">(<span class=\"type\">int</span> k, <span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">          <span class=\"type\">int</span>  <span class=\"variable\">n</span>  <span class=\"operator\">=</span>prices.length;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(n==<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">          <span class=\"type\">int</span> dp [][][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [n][k+<span class=\"number\">1</span>][<span class=\"number\">2</span>];</span><br><span class=\"line\">  <span class=\"comment\">// basecase </span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;= k; i++) &#123;</span><br><span class=\"line\">          dp[<span class=\"number\">0</span>][i][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">         <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span>k;j&gt;<span class=\"number\">0</span>; j--)&#123;</span><br><span class=\"line\">             dp[i][j][<span class=\"number\">0</span>] = Math.max(dp[i-<span class=\"number\">1</span>][j][<span class=\"number\">0</span>],dp[i-<span class=\"number\">1</span>][j][<span class=\"number\">1</span>]+prices[i]);</span><br><span class=\"line\">             dp[i][j][<span class=\"number\">1</span>] = Math.max(dp[i-<span class=\"number\">1</span>][j][<span class=\"number\">1</span>],dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>][<span class=\"number\">0</span>]-prices[i]);</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> dp[n-<span class=\"number\">1</span>][k][<span class=\"number\">0</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;另一种解法&lt;上面一题的模版&gt;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit</span><span class=\"params\">(<span class=\"type\">int</span> k, <span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">          <span class=\"type\">int</span>  <span class=\"variable\">n</span>  <span class=\"operator\">=</span>prices.length;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(n==<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">          <span class=\"type\">int</span> dp [][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [n][<span class=\"number\">2</span>*k+<span class=\"number\">1</span>];</span><br><span class=\"line\">          dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] =<span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">2</span>*k;j+=<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">              dp[<span class=\"number\">0</span>][j+<span class=\"number\">1</span>]= -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">              <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">2</span>*k;j+=<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">                  dp[i][j+<span class=\"number\">1</span>]= Math.max(dp[i-<span class=\"number\">1</span>][j+<span class=\"number\">1</span>],dp[i-<span class=\"number\">1</span>][j]-prices[i]);</span><br><span class=\"line\">                  dp[i][j+<span class=\"number\">2</span>]= Math.max(dp[i-<span class=\"number\">1</span>][j+<span class=\"number\">2</span>],dp[i-<span class=\"number\">1</span>][j+<span class=\"number\">1</span>]+prices[i]);</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> dp[n-<span class=\"number\">1</span>][<span class=\"number\">2</span>*k];</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<blockquote>\n<p>最终答案：求的是 最终答案是 <code>dp[n - 1][K][0]</code></p>\n</blockquote>\n<h6 id=\"万里归一：全能答案-不考虑时间空间复杂度\">万里归一：全能答案&lt;不考虑时间空间复杂度&gt;</h6>\n<blockquote>\n<p>**Q:**股票价格数组 <code>prices</code>，你最多进行 <code>max_k</code> 次交易，每次交易需要额外消耗 <code>fee</code> 的手续费，而且每次交易之后需要经过 <code>cooldown</code> 天的冷冻期才能进行下一次交易，请你计算并返回可以获得的最大利润。</p>\n<p><strong>A:</strong><code> int maxProfit_all_in_one(int max_k, int[] prices, int cooldown, int fee);</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit_all_in_one</span><span class=\"params\">(<span class=\"type\">int</span> max_k, <span class=\"type\">int</span>[] prices, <span class=\"type\">int</span> cooldown, <span class=\"type\">int</span> fee)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> prices.length;</span><br><span class=\"line\">  <span class=\"type\">int</span> dp[][][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n][max_k][<span class=\"number\">2</span>];</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(n&lt;<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&gt;<span class=\"comment\">// 递归  k 为最多（非固定值）次</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(max_k&gt;n/<span class=\"number\">2</span>) <span class=\"keyword\">return</span> maxProfit_k_inf(prices, cooldown, fee); </span><br><span class=\"line\">&gt;<span class=\"comment\">// 递归  k 为最多（非固定值）次</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;n; i++)&#123;                  </span><br><span class=\"line\">      dp[i][<span class=\"number\">0</span>][<span class=\"number\">1</span>] = Integer.MIN_VALUE;</span><br><span class=\"line\">      dp[i][<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;n; i++)&#123;</span><br><span class=\"line\">      <span class=\"comment\">// 递归  k 为最多（非固定值）次</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> max_k; k&gt;<span class=\"number\">0</span>; k--) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (i - <span class=\"number\">1</span> == -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">              dp[i][k][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">              dp[i][k][<span class=\"number\">1</span>] = -prices[i] - fee;</span><br><span class=\"line\">              <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">//存在冷冻期</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (i - cooldown - <span class=\"number\">1</span> &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">              dp[i][k][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">              dp[i][k][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">1</span>], -prices[i] - fee);</span><br><span class=\"line\">              <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// k 为最多（非固定值）次</span></span><br><span class=\"line\">          dp[i][k][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">          <span class=\"comment\">//存在冷冻期    含有手续费</span></span><br><span class=\"line\">          dp[i][k][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">1</span>], dp[i - cooldown - <span class=\"number\">1</span>][k - <span class=\"number\">1</span>][<span class=\"number\">0</span>] - prices[i] - fee);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dp[n-<span class=\"number\">1</span>][max_k][<span class=\"number\">0</span>];</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit_k_inf</span><span class=\"params\">(<span class=\"type\">int</span>[] prices, <span class=\"type\">int</span> cooldown, <span class=\"type\">int</span> fee)</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> prices.length;</span><br><span class=\"line\">  <span class=\"type\">int</span> dp[][]= <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n][<span class=\"number\">2</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(i-<span class=\"number\">1</span> == -<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">          dp[i][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">          dp[i][<span class=\"number\">1</span>] = -prices[i]-fee;</span><br><span class=\"line\">          <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">     <span class=\"comment\">//存在冷冻期    含有手续费</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span>(i-<span class=\"number\">1</span>-cooldown &lt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">          dp[i][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i]);;</span><br><span class=\"line\">          dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>], -prices[i] - fee);</span><br><span class=\"line\">          <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      dp[i][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>], dp[i-<span class=\"number\">1</span>][<span class=\"number\">1</span>]+prices[i]);</span><br><span class=\"line\">       <span class=\"comment\">//存在冷冻期    含有手续费</span></span><br><span class=\"line\">      dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>], dp[i-cooldown-<span class=\"number\">1</span>][<span class=\"number\">0</span>]-prices[i]-fee);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span>  dp[n-<span class=\"number\">1</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h3 id=\"玩游戏专题\">玩游戏专题</h3>\n<h5 id=\"路径问题\">路径问题</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 基本的路径： 最小路径和</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">minPathSum</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid)</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span>  <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"type\">int</span> dp [][] =<span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [m+<span class=\"number\">1</span>][n+<span class=\"number\">1</span>];</span><br><span class=\"line\">       <span class=\"comment\">// dp[][] =min(dp[i][j-1],dp[i-1][j])+grid[i][j];</span></span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"comment\">//初始化：</span></span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>]=grid[<span class=\"number\">0</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span><span class=\"number\">1</span>;i&lt;m;i++)&#123;</span><br><span class=\"line\">            dp[i][<span class=\"number\">0</span>] = dp[i-<span class=\"number\">1</span>][<span class=\"number\">0</span>]+grid[i][<span class=\"number\">0</span>]; </span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span><span class=\"number\">1</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][i]= dp[<span class=\"number\">0</span>][i-<span class=\"number\">1</span>]+grid[<span class=\"number\">0</span>][i]; </span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">       </span><br><span class=\"line\">        </span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;m;i++)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;j&lt; n;j++)&#123;</span><br><span class=\"line\">               dp[i][j] =Math.min(dp[i][j-<span class=\"number\">1</span>],dp[i-<span class=\"number\">1</span>][j])+grid[i][j];</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> dp[m-<span class=\"number\">1</span>][n-<span class=\"number\">1</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//解救公主  ： 上述问题的 倒序</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">calculateMinimumHP</span><span class=\"params\">(<span class=\"type\">int</span>[][] dungeon)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 最小路径 逆向思维</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> dungeon.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> dungeon[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"type\">int</span> dp[][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [m][n];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//设置左下角的值</span></span><br><span class=\"line\">        dp[m-<span class=\"number\">1</span>][n-<span class=\"number\">1</span>]= Math.max(<span class=\"number\">0</span>, -dungeon[m-<span class=\"number\">1</span>][n-<span class=\"number\">1</span>]);</span><br><span class=\"line\">        <span class=\"comment\">// 设置最后一列</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> m-<span class=\"number\">2</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\">            dp[i][n-<span class=\"number\">1</span>] = dp[i+<span class=\"number\">1</span>][n-<span class=\"number\">1</span>] - dungeon[i][n-<span class=\"number\">1</span>];</span><br><span class=\"line\">            dp[i][n-<span class=\"number\">1</span>] = Math.max(dp[i][n-<span class=\"number\">1</span>],<span class=\"number\">0</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 设置最后一行</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> n-<span class=\"number\">2</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\">            dp[m-<span class=\"number\">1</span>][i] = dp[m-<span class=\"number\">1</span>][i+<span class=\"number\">1</span>]  -  dungeon[m-<span class=\"number\">1</span>][i];</span><br><span class=\"line\">            dp[m-<span class=\"number\">1</span>][i] = Math.max(dp[m-<span class=\"number\">1</span>][i],<span class=\"number\">0</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  i=m-<span class=\"number\">2</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">j</span> <span class=\"operator\">=</span> n-<span class=\"number\">2</span>;j&gt;=<span class=\"number\">0</span>;j--)&#123;</span><br><span class=\"line\">                dp[i][j] = Math.min(dp[i+<span class=\"number\">1</span>][j],dp[i][j+<span class=\"number\">1</span>]) - dungeon[i][j];</span><br><span class=\"line\">                dp[i][j] = Math.max(<span class=\"number\">0</span>,dp[i][j]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>]+<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 中转站  min消费</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">findCheapestPrice</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span>[][] flights, <span class=\"type\">int</span> src, <span class=\"type\">int</span> dst, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//k+1+1 的原因是 将最后一个节点也理解成中转节点  或者理解为 k+1个边</span></span><br><span class=\"line\">        <span class=\"type\">int</span> dp[][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [k+<span class=\"number\">2</span>][n];</span><br><span class=\"line\">        <span class=\"comment\">// 找最小，所以全都初始化为 不可达</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt; dp.length;i++)&#123;</span><br><span class=\"line\">            Arrays.fill(dp[i],Integer.MAX_VALUE-<span class=\"number\">10000</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// for(int []flight :flights)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     if(flight[0] == src)  dp[0][flight[1]] = flight[2];</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//无论几次，从出发点到出发点总是花费为0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span> ; i &lt; dp.length ; i++)&#123;</span><br><span class=\"line\">            dp[i][src] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span><span class=\"number\">1</span>;i&lt;dp.length;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> []flight :flights)&#123;</span><br><span class=\"line\">               <span class=\"type\">int</span> <span class=\"variable\">from</span> <span class=\"operator\">=</span> flight[<span class=\"number\">0</span>];</span><br><span class=\"line\">               <span class=\"type\">int</span> <span class=\"variable\">to</span> <span class=\"operator\">=</span> flight[<span class=\"number\">1</span>];</span><br><span class=\"line\">               <span class=\"type\">int</span> <span class=\"variable\">cost</span> <span class=\"operator\">=</span> flight[<span class=\"number\">2</span>];</span><br><span class=\"line\">               dp[i][to]=Math.min(dp[i][to],dp[i-<span class=\"number\">1</span>][from]+cost);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">       </span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[k+<span class=\"number\">1</span>][dst] == Integer.MAX_VALUE-<span class=\"number\">10000</span>? -<span class=\"number\">1</span>:dp[k+<span class=\"number\">1</span>][dst];</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"回溯\">回溯</h2>\n<h4 id=\"本质：\">==本质：==</h4>\n<blockquote>\n<ul>\n<li>\n<p>for 循环里面嵌套递归    以实现   n 个 for 循环</p>\n</li>\n<li>\n<p>就是 <strong>其核心就是 for 循环里面的递归，在递归调用之前「做选择」，在递归调用之后「撤销选择」</strong></p>\n</li>\n<li>\n<p>解决一个回溯问题，实际上就是一个决策树的遍历过程</p>\n</li>\n</ul>\n</blockquote>\n<h4 id=\"解决的问题：\">解决的问题：</h4>\n<blockquote>\n<ul>\n<li>组合问题：N个数里面按一定规则找出k个数的集合</li>\n<li>子集问题：一个N个数的集合里有多少符合条件的子集</li>\n<li>排列问题：N个数按一定规则全排列，有几种排列方式</li>\n<li>切割问题：一个字符串按一定规则有几种切割方式</li>\n<li>棋盘问题：N皇后，解数独等等</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>\n<p><strong>组合是不强调元素顺序的，排列是强调元素顺序</strong>。</p>\n</li>\n<li>\n<p><strong>组合无序    排列有序</strong></p>\n</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>\n<p><strong>回溯法解决的问题都可以抽象为树形结构</strong>，指的是<strong>所有回溯法</strong>的问题<strong>都可以</strong>抽象为树形结构！</p>\n</li>\n<li>\n<p>因为回溯法解决的都是在集合中递归查找子集，<strong>集合的大小就构成了树的宽度，递归的深度，都构成的树的深度</strong>。</p>\n</li>\n<li>\n<p>递归就要有终止条件，所以必然是一棵高度有限的树（N叉树）。</p>\n</li>\n</ul>\n</blockquote>\n<h4 id=\"录的三步曲：\">录的三步曲：</h4>\n<blockquote>\n<ul>\n<li>\n<p>回溯函数模板返回值以及参数</p>\n</li>\n<li>\n<p>回溯算法中函数返回值一般为void</p>\n</li>\n<li>\n<p>再来看一下参数，因为回溯算法需要的参数可不像二叉树递归的时候那么容易一次性确定下来，所以一般是先写逻辑，然后需要什么参数，就填什么参数</p>\n</li>\n<li>\n<p>回溯函数终止条件</p>\n</li>\n<li>\n<p>一般来说搜到叶子节点了，也就找到了满足条件的一条答案，把这个答案存放起来，并结束本层递归</p>\n</li>\n<li>\n<p>回溯搜索的遍历过程</p>\n</li>\n<li>\n<p>回溯法一般是在集合中递归搜索，集合的大小构成了树的宽度，递归的深度构成的树的深度。</p>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">伪代码</span><br><span class=\"line\"></span><br><span class=\"line\">回溯函数伪代码如下：</span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">backtracking</span><span class=\"params\">(参数)</span></span><br><span class=\"line\"></span><br><span class=\"line\">回溯函数终止条件伪代码</span><br><span class=\"line\">    ```java</span><br><span class=\"line\">    <span class=\"title function_\">if</span> <span class=\"params\">(终止条件)</span> &#123;</span><br><span class=\"line\">               存放结果;</span><br><span class=\"line\">               <span class=\"keyword\">return</span>;</span><br><span class=\"line\">       \t&#125;</span><br></pre></td></tr></table></figure>\n<p>回溯函数遍历过程伪代码</p>\n   <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (选择：本层集合中元素（树中节点孩子的数量就是集合的大小）) &#123;</span><br><span class=\"line\">          处理节点;</span><br><span class=\"line\">          backtracking(路径，选择列表); <span class=\"comment\">// 递归</span></span><br><span class=\"line\">          回溯，撤销处理结果</span><br><span class=\"line\">      &#125;</span><br></pre></td></tr></table></figure>\n<p>回溯算法模板框架如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">backtracking</span><span class=\"params\">(参数)</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (终止条件) &#123;</span><br><span class=\"line\">              存放结果;</span><br><span class=\"line\">              <span class=\"keyword\">return</span>;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span> (选择：本层集合中元素（树中节点孩子的数量就是集合的大小）) &#123;</span><br><span class=\"line\">    处理节点;</span><br><span class=\"line\">     backtracking(路径，选择列表); <span class=\"comment\">// 递归</span></span><br><span class=\"line\">     回溯，撤销处理结果</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h4 id=\"dong-模版\">dong 模版</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">result = []</span><br><span class=\"line\">def <span class=\"title function_\">backtrack</span><span class=\"params\">(路径, 选择列表)</span>:</span><br><span class=\"line\">    <span class=\"keyword\">if</span> 满足结束条件:</span><br><span class=\"line\">        result.add(路径)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//for 选择 in 选择列表:</span></span><br><span class=\"line\">       <span class=\"comment\">// 做选择</span></span><br><span class=\"line\">       <span class=\"comment\">// backtrack(路径, 选择列表)</span></span><br><span class=\"line\">        <span class=\"comment\">//撤销选择</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> 选择 in 选择列表:</span><br><span class=\"line\">            <span class=\"comment\">// 做选择</span></span><br><span class=\"line\">            将该选择从选择列表移除</span><br><span class=\"line\">            路径.add(选择)</span><br><span class=\"line\">            backtrack(路径, 选择列表)</span><br><span class=\"line\">           <span class=\"comment\">// 撤销选择</span></span><br><span class=\"line\">            路径.remove(选择)</span><br><span class=\"line\">            将该选择再加入选择列表</span><br><span class=\"line\">            </span><br><span class=\"line\"><span class=\"number\">1</span>、路径：也就是已经做出的选择。</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">2</span>、选择列表：也就是你当前可以做的选择。</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">3</span>、结束条件：也就是到达决策树底层，无法再做选择的条件。</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>DFS 和  回溯 区别：</p>\n<ul>\n<li>多叉树 DFS 遍历框架的前序位置和后序位置应该在 for 循环外面，并不应该是在 for 循环里面。而溯算法中跑到 for 循环里面了</li>\n</ul>\n<p>动态规划 和 回溯算法 区别与联系</p>\n<ul>\n<li>动态规划和回溯算法底层都把问题抽象成了树的结构，但这两种算法在思路上是完全不同的</li>\n</ul>\n<p>另外：</p>\n<p>​\t当遇到选择空间的个数（桶）很多时，我们应该以每次选择的次数（球）为<code>trackbacking</code>函数的for核心，也就是说：</p>\n<p>我们应该尽量「少量多次」，就是说宁可多做几次选择（乘法关系），也不要给太大的选择空间（指数关系）；做 <code>n</code> 次「<code>k</code> 选一」仅重复一次（<code>O(k^n)</code>），比 <code>n</code> 次「二选一」重复 <code>k</code> 次（<code>O(k*2^n)</code>）效率低很多。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> start; i &lt; nums.length; i++) &#123;&#125; <span class=\"comment\">// nums[]是指球的个数 选择  √</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;而不是：  (  也就是leetcode  <span class=\"number\">698</span> )</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; bucket.length; i++) &#123;&#125;    <span class=\"comment\">//bucket[] 桶的个数 不选  ×</span></span><br></pre></td></tr></table></figure>\n</blockquote>\n<blockquote>\n<img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202303221333571.png\" alt=\"image-20230322133359518\" style=\"zoom:25%;\">\n<p><strong>前序遍历的代码在进入某一个节点之前的那个时间点执行</strong></p>\n<p><strong>后序遍历代码在离开某个节点之后的那个时间点执行</strong></p>\n</blockquote>\n<blockquote>\n<p><strong>写 <code>backtrack</code> 函数时，需要维护走过的「路径」和当前可以做的「选择列表」，当触发「结束条件」时，将「路径」记入结果集</strong>。</p>\n</blockquote>\n<h4 id=\"我的步骤：\">我的步骤：</h4>\n<blockquote>\n<h6 id=\"1、写出两个集合\">1、写出两个集合</h6>\n<p>一个用来存放符合条件单一结果</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();  <span class=\"comment\">// 记录回溯算法的递归路径</span></span><br></pre></td></tr></table></figure>\n<p>一个用来存放符合条件结果的集合</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LinkedList&lt;Integer&gt; track = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br></pre></td></tr></table></figure>\n<h6 id=\"2、书写确定了返回值-和-参数-的函数\">2、书写确定了返回值 和 参数 的函数</h6>\n<h6 id=\"3、确定终止条件\">3、确定终止条件</h6>\n<h6 id=\"4、解决嵌套-for-循环的-递归-部分\">4、解决嵌套 for 循环的 递归  部分</h6>\n</blockquote>\n<h4 id=\"子集、组合、排列整合\">子集、组合、排列整合</h4>\n<h5 id=\"分类\">分类</h5>\n<blockquote>\n<p>1、<strong>元素不可以重复</strong>，<strong>最多选一次</strong></p>\n<p>2、<strong>元素可以重复</strong>，<strong>最多选一次</strong></p>\n<p>3、<strong>元素不可以重复</strong>，<strong>可以选 n 次</strong></p>\n</blockquote>\n<h5 id=\"记住两张图\">记住两张图</h5>\n<p><img src=\"https://labuladong.gitee.io/algo/images/排列组合/2.jpeg\" alt=\"img\" style=\"zoom:20%;\">                      <img src=\"https://labuladong.gitee.io/algo/images/排列组合/1.jpeg\" alt=\"img\" style=\"zoom:20%;\"></p>\n<blockquote>\n<p><strong>首先，组合问题和子集问题其实是等价的，这个后面会讲；至于之前说的三种变化形式，无非是在这两棵树上剪掉或者增加一些树枝罢了</strong></p>\n</blockquote>\n<blockquote>\n<p>==前置==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">// 记录回溯算法的结果集</span></span><br><span class=\"line\">&gt;List&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">&gt;<span class=\"comment\">// 记录回溯算法的递归路径</span></span><br><span class=\"line\">&gt;LinkedList&lt;Integer&gt; track = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"1、元素不可以重复，最多选一次\"><strong>1、元素不可以重复</strong>，<strong>最多选一次</strong></h6>\n<blockquote>\n<p>==公共部分==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">// 主函数</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; .....(......) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  backtrack(........);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// 回溯算法核心函数，遍历子集问题的回溯树</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">void</span> <span class=\"title function_\">backtrack</span><span class=\"params\">(.......)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"comment\">//终止条件</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 回溯算法标准框架</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (.......) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 做选择</span></span><br><span class=\"line\">      track.addLast(nums[i]  /  i);</span><br><span class=\"line\">      <span class=\"comment\">// 递归</span></span><br><span class=\"line\">      backtrack(......);  </span><br><span class=\"line\">      <span class=\"comment\">// 撤销选择    </span></span><br><span class=\"line\">      track.removeLast();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>子集|组合中</strong>：</p>\n<p>使用 <code>start</code> 变量保证元素 <code>nums[start]</code> 之后只会出现 <code>nums[start+1..]</code> 中的元素，通过固定元素的相对位置保证不出现重复的子集</p>\n<p><strong>排列中</strong>：</p>\n<p>额外使用 <code>used</code> 数组来标记哪些元素还可以被选择。</p>\n<p>==子集==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;主函数:</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">start</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">backtracking(nums,start);</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;回溯函数:</span><br><span class=\"line\">&gt;<span class=\"comment\">// 加入集合</span></span><br><span class=\"line\">result.add(<span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;(track));</span><br><span class=\"line\">&gt;<span class=\"comment\">// 核心   i 从start 开始</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> startIndex; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">&gt;<span class=\"comment\">// 做选择</span></span><br><span class=\"line\">      track.addLast(nums[i]);</span><br><span class=\"line\">&gt;<span class=\"comment\">//递归</span></span><br><span class=\"line\">      backtracking(nums,i+<span class=\"number\">1</span>);</span><br><span class=\"line\">&gt;<span class=\"comment\">//撤销选择   </span></span><br><span class=\"line\">      track.removeLast();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span>;</span><br></pre></td></tr></table></figure>\n<p>==组合==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;主函数:</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">start</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;     <span class=\"comment\">//// 因为这里的数组是从 1 开始 所以也将元素下标从1 开始</span></span><br><span class=\"line\">&gt;backtracking(start,k,n);</span><br><span class=\"line\">&gt;<span class=\"keyword\">return</span> res;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;回溯函数:</span><br><span class=\"line\">&gt;<span class=\"comment\">// 加入集合</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(track.size() == k )&#123;</span><br><span class=\"line\">      res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;(track));</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&gt;<span class=\"comment\">// 核心   i 从start 开始</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> start;i&lt;= n;i++)&#123;</span><br><span class=\"line\">&gt;<span class=\"comment\">// 做选择</span></span><br><span class=\"line\">      track.addLast(i);</span><br><span class=\"line\">&gt;<span class=\"comment\">//递归</span></span><br><span class=\"line\">      backtracking(i+<span class=\"number\">1</span>,k,n);</span><br><span class=\"line\">&gt;<span class=\"comment\">//撤销选择   </span></span><br><span class=\"line\">      track.removeLast();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span>; </span><br></pre></td></tr></table></figure>\n<p>==组合总和III==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&gt;主函数:</span><br><span class=\"line\"><span class=\"type\">int</span> nums[] = &#123;<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>&#125;;</span><br><span class=\"line\"> <span class=\"keyword\">if</span>(n&gt;<span class=\"number\">55</span>)  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&gt;<span class=\"type\">int</span> <span class=\"variable\">start</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;     <span class=\"comment\">// 因为这里的数组是从 1 开始 所以也将元素下标从 1 开始</span></span><br><span class=\"line\">&gt;backtracking(nums,start,k,n);</span><br><span class=\"line\">&gt;<span class=\"keyword\">return</span> res;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;回溯函数:</span><br><span class=\"line\">&gt;<span class=\"comment\">// 加入集合</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>(n == sum &amp;&amp; track.size() == k )&#123;</span><br><span class=\"line\">      res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;(track));</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&gt;<span class=\"comment\">// 核心   i 从start 开始</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> start;i&lt;= <span class=\"number\">9</span> ;i++)&#123;     题目要求就是 固定长度 <span class=\"number\">9</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 做选择</span></span><br><span class=\"line\">      track.add(nums[i]);</span><br><span class=\"line\">      sum += i;</span><br><span class=\"line\">&gt;<span class=\"comment\">//递归</span></span><br><span class=\"line\">       backtracking(nums,i+<span class=\"number\">1</span>,k,n);</span><br><span class=\"line\">&gt;<span class=\"comment\">//撤销选择   </span></span><br><span class=\"line\">      track.removeLast();</span><br><span class=\"line\">      sum -= i;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>==全排列==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;主函数:</span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>(nums.length == <span class=\"number\">0</span> )  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">start</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">boolean</span>  used[] = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span> [nums.length];</span><br><span class=\"line\">  backtracking(nums,used);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&gt;回溯函数:</span><br><span class=\"line\">&gt;<span class=\"comment\">// 加入集合</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>(track.size() == nums.length)&#123;</span><br><span class=\"line\">      res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;(track));</span><br><span class=\"line\">      <span class=\"keyword\">return</span> ;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&gt;<span class=\"comment\">// 核心 i 从start 开始</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(used[i]) <span class=\"keyword\">continue</span>;    <span class=\"comment\">// 保证元素不重复</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// 做选择</span></span><br><span class=\"line\">      track.add(nums[i]);</span><br><span class=\"line\">      used[i]= <span class=\"literal\">true</span>;</span><br><span class=\"line\">&gt;<span class=\"comment\">//递归</span></span><br><span class=\"line\">       backtracking(nums,used);</span><br><span class=\"line\">&gt;<span class=\"comment\">//撤销选择   </span></span><br><span class=\"line\">    track.removeLast();</span><br><span class=\"line\">      used[i]= <span class=\"literal\">false</span>;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>==总结==</p>\n<p>​\t其实最基本的框架都是一样的，无非就是在个基础上要 传的参数 有所区别 而需要的不同的定义有所不同罢了</p>\n</blockquote>\n<h6 id=\"2、元素可以重复，最多选一次\"><strong>2、元素可以重复</strong>，<strong>最多选一次</strong></h6>\n<blockquote>\n<p><strong>子集 和 排列</strong> 本质和<strong>1、……</strong> 的内容是几乎没有区别的，就是添加 或者改变了几行而已</p>\n<p>排序和 for循环添加的行的  目的是：<strong>保证相同元素在排列中的相对位置保持不变</strong>。</p>\n<p><strong>排列</strong>：</p>\n<p><strong>标准全排列算法之所以出现重复，是因为把相同元素形成的排列序列视为不同的序列，但实际上它们应该是相同的；而如果固定相同元素形成的序列顺序，当然就避免了重复</strong>。</p>\n<p>==子集==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;主函数：</span><br><span class=\"line\"> Arrays.sort(nums);</span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span> 循环：</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (i &gt; start &amp;&amp; nums[i] == nums[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">     <span class=\"keyword\">continue</span>;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>组合总和 和 **1、**是有些区别</p>\n</blockquote>\n<p>==组合总和II==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"type\">int</span> <span class=\"variable\">targetsum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&gt;主函数:</span><br><span class=\"line\">  Arrays.sort(candidates);     </span><br><span class=\"line\">  <span class=\"keyword\">if</span>(candidates.length == <span class=\"number\">0</span> )  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">start</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  backtracking(candidates,start,target);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&gt;回溯函数:</span><br><span class=\"line\">&gt;<span class=\"comment\">// 加入集合</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(target &lt;  targetsum)   <span class=\"keyword\">return</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(target == targetsum)&#123;</span><br><span class=\"line\">      result.add(<span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;(track));</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&gt;<span class=\"comment\">// 核心   i 从start 开始</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> start; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>( i&gt;start &amp;&amp; nums[i] == nums[i-<span class=\"number\">1</span>] ) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// 做选择</span></span><br><span class=\"line\">       track.addLast(nums[i]);</span><br><span class=\"line\">      targetsum += nums[i];</span><br><span class=\"line\">&gt;<span class=\"comment\">//递归</span></span><br><span class=\"line\">      backtracking(nums,used);</span><br><span class=\"line\">&gt;<span class=\"comment\">//撤销选择   </span></span><br><span class=\"line\">    \ttrack.removeLast();</span><br><span class=\"line\">      targetsum -= nums[i];</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>其实上面的<strong>组合总和II</strong>  和  满足<strong>1、<strong>中的</strong>非组合总和III</strong>  的组合总和的形式也就多了两行</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;主函数：</span><br><span class=\"line\">&gt;Arrays.sort(candidates);  </span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span> 循环内</span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>( i&gt;start &amp;&amp; nums[i] == nums[i-<span class=\"number\">1</span>] ) <span class=\"keyword\">continue</span>;</span><br></pre></td></tr></table></figure>\n<p>==全排列==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;主函数：</span><br><span class=\"line\">&gt;Arrays.sort(nums);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span> 循环内</span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>( i&gt;<span class=\"number\">0</span> &amp;&amp; nums[i] == nums[i-<span class=\"number\">1</span>] &amp;&amp; !used[i-<span class=\"number\">1</span>]) <span class=\"keyword\">continue</span>;  <span class=\"comment\">//!used[i-1]</span></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"3、元素不可以重复，可以选-n-次\"><strong>3、元素不可以重复</strong>，<strong>可以选 n 次</strong></h6>\n<blockquote>\n<p>和<strong>1、….</strong> 反着来;也就是说：</p>\n<p><strong>标准的子集/组合问题是如何保证不重复使用元素的</strong>？—在于 <code>backtrack</code> 递归时输入的参数 <code>start</code>;</p>\n<p>下面只是和<strong>1、……</strong> 进行比较的差别</p>\n<p>==组合总和==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span>(.....)&#123;</span><br><span class=\"line\">&gt;...</span><br><span class=\"line\">&gt;backtracking(nums,i,target);</span><br><span class=\"line\">&gt;...</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>下面为补充</p>\n</blockquote>\n<p>==子集==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;backtracking 函数：</span><br><span class=\"line\">&gt;<span class=\"comment\">//子集个数等于三的，因为子集的个数最大才是三  所以终止条件就是等于三的时候输出</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>(track.size()  ==  candidates.length) &#123;</span><br><span class=\"line\"> result.add(<span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;(track));</span><br><span class=\"line\"> <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;result.add(<span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;(track));  <span class=\"comment\">//子集个数不为 &lt; 3的</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(...)&#123;</span><br><span class=\"line\">  ....</span><br><span class=\"line\">&gt;backtracking(candidates,i); <span class=\"comment\">// 实现结果 不会出现  1，2，1  和 1，1，2 的情况</span></span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p>==全排列==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;LinkedList&lt;List&lt;Integer&gt;&gt; result = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">&gt;LinkedList&lt;Integer&gt; track = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">permute</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(nums.length == <span class=\"number\">0</span>)  <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    backtracking(nums);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">backtracking</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(track.size() == nums.length) &#123;</span><br><span class=\"line\">        result.add(<span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;(track));</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span> ;i&lt; nums.length;i++) &#123;</span><br><span class=\"line\">        track.add(nums[i]);</span><br><span class=\"line\">        backtracking(nums);</span><br><span class=\"line\">        track.removeLast();</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>相比之下，<strong>全排列</strong>就是将  used[] 数组这一判定条件有关的代码  <strong>全部去除</strong></p>\n<p><strong>子集</strong>要加上 终止条件 （栈元素 大小 <strong>等于</strong> 元素个数），否则会 栈溢出；而且在小于 元素个数的时候也要加到栈中，</p>\n</blockquote>\n<h4 id=\"棋盘问题：\">棋盘问题：</h4>\n<h6 id=\"N皇后\">N皇后</h6>\n<h6 id=\"解数独：\">解数独：</h6>\n<blockquote>\n<p><strong>我们并不想得到所有合法的答案，只想要一个答案</strong></p>\n<p>只要用一个外部变量(boolean型)记录是否找到答案，找到答案后就停止继续递归即可：</p>\n</blockquote>\n<h4 id=\"分割问题\">分割问题</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//93 复位IP</span></span><br><span class=\"line\"></span><br><span class=\"line\">     List&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"comment\">// 分成的段数</span></span><br><span class=\"line\">    LinkedList&lt;String&gt; path = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">restoreIpAddresses</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">        backtracking(s,<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">backtracking</span><span class=\"params\">(String s, <span class=\"type\">int</span> startIndex)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//当已经 分为四段的时候就需要 将其对每一段进行加 . 进行分割</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(startIndex == s.length() &amp;&amp; path.size() == <span class=\"number\">4</span>)&#123;</span><br><span class=\"line\">            res.add(String.join(<span class=\"string\">&quot;.&quot;</span>,path));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//短短几行回溯   </span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s.length();i++)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果不是合法字符串</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!isValid(s,startIndex,i)) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            <span class=\"comment\">//是合法的</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(path.size()&gt;=<span class=\"number\">4</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 这里是将 遍历的满足下标的子串放进path中</span></span><br><span class=\"line\">            path.add(s.substring(startIndex,i+<span class=\"number\">1</span>));</span><br><span class=\"line\">            backtracking(s,i+<span class=\"number\">1</span>);</span><br><span class=\"line\">            path.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//主要是判断合法性的函数</span></span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"title function_\">isValid</span><span class=\"params\">(String s,<span class=\"type\">int</span> startIndex,<span class=\"type\">int</span> end)</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">length</span> <span class=\"operator\">=</span> end-startIndex+<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(length&lt;=<span class=\"number\">0</span> || length&gt;<span class=\"number\">3</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(length == <span class=\"number\">1</span> ) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;  <span class=\"comment\">//不能和&lt;=2合并</span></span><br><span class=\"line\">        <span class=\"comment\">// 排除的是startIndex </span></span><br><span class=\"line\">         <span class=\"keyword\">if</span>(s.charAt(startIndex) == <span class=\"string\">&#x27;0&#x27;</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">         <span class=\"keyword\">if</span>(length &lt;=<span class=\"number\">2</span> ) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;    </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(Integer.parseInt(s.substring(startIndex,startIndex+length))&gt;<span class=\"number\">255</span>)    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"贪心\">贪心</h2>\n<h4 id=\"贪心选择性质\">贪心选择性质:</h4>\n<blockquote>\n<p>简单说就是：</p>\n<p>每一步都做出一个局部最优的选择，最终的结果就是全局最优。</p>\n<p>注意!这是一种特殊性质，其实只有一部分问题拥有这个性质</p>\n</blockquote>\n<blockquote>\n<p>==注==</p>\n<p><strong>排序</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">// Arrays.sort(points,(a,b)-&gt;(a[1]-b[1]));// 可能出现溢出情况</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// Arrays.sort(points,Comparator.comparingInt(a-&gt;a[1]));//升序排序 解决溢出方法2  效率较低 调用内置静态方法， 效率较低</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;Arrays.sort(points,(a,b)-&gt;&#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(a[<span class=\"number\">1</span>]&gt;b[<span class=\"number\">1</span>]) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(a[<span class=\"number\">1</span>]&lt;b[<span class=\"number\">1</span>]) <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> <span class=\"number\">0</span>;<span class=\"comment\">//上述方法可能溢出 解决方法1</span></span><br><span class=\"line\">&gt;&#125;);</span><br></pre></td></tr></table></figure>\n<p><strong>时间安排的问题，本质上讲就是区间调度问题，十有八九得排序，然后找规律来解决。</strong></p>\n</blockquote>\n<h4 id=\"一位数组的游戏\">一位数组的游戏</h4>\n<blockquote>\n<p>跳跃游戏 目标终点是 <code>nums.length-1</code></p>\n<p>55 题：可以使用<code>最大跳数</code>作为能否到达终点的判断会更好一点</p>\n</blockquote>\n<h4 id=\"二维数组的区间问题：\">二维数组的区间问题：</h4>\n<blockquote>\n<p>&lt;就是 线段问题；合并线段、找交集…&gt;</p>\n<p><a href=\"https://labuladong.gitee.io/algo/di-san-zha-24031/jing-dian--a94a0/yi-ge-fang-93124/\">区间问题合集</a> : 区间交集、区间并集、区间覆盖这几个问题。</p>\n</blockquote>\n<h5 id=\"做法：\">做法：</h5>\n<blockquote>\n<p>==1、排序==</p>\n<p>常见的排序方法就是按照区间起点排序，或者先按照起点升序排序，若起点相同，则按照终点降序排序。当然，如果你非要按照终点排序，无非对称操作，本质都是一样的。</p>\n<p>==2、画图==</p>\n<p>就是说不要偷懒，勤动手，两个区间的相对位置到底有几种可能，不同的相对位置我们的代码应该怎么去处理。</p>\n</blockquote>\n<p><strong>区间问题肯定按照区间的起点或者终点进行排序</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//排序代码：</span></span><br><span class=\"line\">     Arrays.sort(intervals, (a, b) -&gt; &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 对 起点 进行升序排序</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(a[<span class=\"number\">0</span>]&gt;b[<span class=\"number\">0</span>]) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(a[<span class=\"number\">0</span>]&lt;b[<span class=\"number\">0</span>]) <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 对 终点 进行降序排序</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> b[<span class=\"number\">1</span>] - a[<span class=\"number\">1</span>];</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"><span class=\"comment\">//打印排序之后的代码</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; intervals.length; i++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; intervals[i].length; j++) &#123;</span><br><span class=\"line\">                    System.out.print(intervals[i][j] + <span class=\"string\">&quot; &quot;</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                System.out.println();</span><br><span class=\"line\">        &#125; </span><br></pre></td></tr></table></figure>\n<h5 id=\"问题分类：\">问题分类：</h5>\n<h6 id=\"求重叠区间个数一类题：\">求重叠区间个数一类题：</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//定义初始时的变量</span></span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>   / <span class=\"number\">1</span>;</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span><span class=\"number\">1</span> ;i&lt;intervals.length;i++)&#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(intervals[i][<span class=\"number\">0</span>]&lt; intervals[i-<span class=\"number\">1</span>][<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">              <span class=\"comment\">// 取 最小 右侧并集</span></span><br><span class=\"line\">              intervals[i][<span class=\"number\">1</span>] = Math.min(intervals[i][<span class=\"number\">1</span>],intervals[i-<span class=\"number\">1</span>][<span class=\"number\">1</span>]);</span><br><span class=\"line\">              res++;</span><br><span class=\"line\">          &#125;  </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"求完全覆盖一类题\">求完全覆盖一类题</h6>\n<blockquote>\n<p>==需要分类讨论==</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 分为三种情况</span></span><br><span class=\"line\">        <span class=\"comment\">//覆盖、相交、不相交</span></span><br><span class=\"line\">        <span class=\"comment\">//定义初始时的变量</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> intervals[<span class=\"number\">0</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> intervals[<span class=\"number\">0</span>][<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;intervals.length;i++)&#123;</span><br><span class=\"line\"><span class=\"comment\">//完全覆盖时覆盖</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(left&lt;= intervals[i][<span class=\"number\">0</span>] &amp;&amp;  right &gt;= intervals[i][<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">            res ++ ;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//相交，取最大 右侧并集</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(right&gt;=intervals[i][<span class=\"number\">0</span>])&#123;</span><br><span class=\"line\">                right = Math.max(right,intervals[i][<span class=\"number\">1</span>]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//不相交</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(right &lt; intervals[i][<span class=\"number\">0</span>])&#123;</span><br><span class=\"line\">                left = intervals[i][<span class=\"number\">0</span>];</span><br><span class=\"line\">                right=intervals[i][<span class=\"number\">1</span>];</span><br><span class=\"line\">            &#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"求合并（并集）类题\">求合并（并集）类题</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LinkedList&lt;<span class=\"type\">int</span>[]&gt; result =  <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 将结果集存放排好序之后的第一个元素</span></span><br><span class=\"line\">result.add(intervals[<span class=\"number\">0</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span><span class=\"number\">1</span>;i&lt; intervals.length;i++)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 取结果集中的元素和当前元素进行比较、</span></span><br><span class=\"line\">            <span class=\"comment\">// 如果当前元素 左坐标比结果集的最后一个元素 右坐标小，</span></span><br><span class=\"line\">    \t\t<span class=\"comment\">//则将结果集的最后一个元素进行合并，并加入结果集，成为末尾元素</span></span><br><span class=\"line\">              </span><br><span class=\"line\"><span class=\"keyword\">if</span>(intervals[i][<span class=\"number\">0</span>] &lt;= result.getLast()[<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">                <span class=\"comment\">//开始坐标就是 结果集 中的 结尾坐标的左节点</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">start</span> <span class=\"operator\">=</span> result.getLast()[<span class=\"number\">0</span>];</span><br><span class=\"line\">                <span class=\"comment\">//结束坐标就是 当前比较的坐标的最大节点</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">end</span>  <span class=\"operator\">=</span> Math.max(intervals[i][<span class=\"number\">1</span>],result.getLast()[<span class=\"number\">1</span>]);</span><br><span class=\"line\">                <span class=\"comment\">// 移除结果集中的 最后一个坐标 </span></span><br><span class=\"line\">result.removeLast();</span><br><span class=\"line\">                <span class=\"comment\">// 并将当前坐标加入结果集</span></span><br><span class=\"line\">result.addLast(<span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;start,end&#125;);</span><br><span class=\"line\">            <span class=\"comment\">// 如果当前元素 左坐标比结果集的最后一个元素 右坐标大，</span></span><br><span class=\"line\">    \t\t<span class=\"comment\">//则将当前元素直接加入结果集，成为末尾元素</span></span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\"> result.add(intervals[i]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> result.toArray(<span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[result.size()][]);</span><br></pre></td></tr></table></figure>\n<h6 id=\"求交集类题\">求交集类题</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 求交集</span></span><br><span class=\"line\">            LinkedList&lt;<span class=\"type\">int</span> []&gt;  result = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">            <span class=\"comment\">//双指针</span></span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">first</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">second</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">           <span class=\"keyword\">while</span>(first &lt; firstList.length  &amp;&amp;  second &lt; secondList.length)&#123;</span><br><span class=\"line\">               <span class=\"comment\">//左边取最大值</span></span><br><span class=\"line\">               <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> Math.max(firstList[first][<span class=\"number\">0</span>],secondList[second][<span class=\"number\">0</span>]);</span><br><span class=\"line\">               <span class=\"comment\">//右边取最小值</span></span><br><span class=\"line\">               <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> Math.min(firstList[first][<span class=\"number\">1</span>],secondList[second][<span class=\"number\">1</span>]);</span><br><span class=\"line\">                <span class=\"comment\">//能够满足基本的区间成立条件</span></span><br><span class=\"line\">               <span class=\"keyword\">if</span>(left &lt;= right)     result.add(<span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;left,right&#125;);</span><br><span class=\"line\">               <span class=\"keyword\">if</span>(firstList[first][<span class=\"number\">1</span>]&lt; secondList[second][<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">                   first++;</span><br><span class=\"line\">               &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                   second++;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result.toArray(<span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">0</span>][]);</span><br></pre></td></tr></table></figure>\n<h6 id=\"求拼接类题\">求拼接类题</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(clips[<span class=\"number\">0</span>][<span class=\"number\">0</span>] != <span class=\"number\">0</span> )   <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">nexttime</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">start</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span><span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;clips.length;i++)&#123;</span><br><span class=\"line\">   <span class=\"comment\">//新的 左侧边界 比start 大的时候</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(clips[i][<span class=\"number\">0</span>] &gt; start)&#123;</span><br><span class=\"line\">     start = nexttime ;  <span class=\"comment\">//将 start 赋值为  上一轮的nexttime, 此时出现了新的start</span></span><br><span class=\"line\">     res++;          <span class=\"comment\">//出现新的 start 再++</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span>(clips[i][<span class=\"number\">0</span>] &lt;= start)&#123;  <span class=\"comment\">////新的 左侧边界 比start 小的时候 不一定替换</span></span><br><span class=\"line\">      nexttime = Math.max(nexttime, clips[i][<span class=\"number\">1</span>]);   <span class=\"comment\">//出现新的nexttime</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span>(nexttime &gt;= time) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span>(nexttime &lt; time)   <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">return</span> res;</span><br></pre></td></tr></table></figure>\n<h2 id=\"DFS\">==DFS==</h2>\n<h4 id=\"一般模版\">一般模版</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j, <span class=\"type\">boolean</span>[][] visited)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length, n = grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &lt; <span class=\"number\">0</span> || j &lt; <span class=\"number\">0</span> || i &gt;= m || j &gt;= n) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 超出索引边界</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (visited[i][j]) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 已遍历过 (i, j)</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 进入节点 (i, j)</span></span><br><span class=\"line\">    visited[i][j] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    dfs(grid, i - <span class=\"number\">1</span>, j, visited); <span class=\"comment\">// 上</span></span><br><span class=\"line\">    dfs(grid, i + <span class=\"number\">1</span>, j, visited); <span class=\"comment\">// 下</span></span><br><span class=\"line\">    dfs(grid, i, j - <span class=\"number\">1</span>, visited); <span class=\"comment\">// 左</span></span><br><span class=\"line\">    dfs(grid, i, j + <span class=\"number\">1</span>, visited); <span class=\"comment\">// 右</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 方向数组，</span></span><br><span class=\"line\"><span class=\"comment\">//分别代表上、下、左、右</span></span><br><span class=\"line\"><span class=\"type\">int</span>[][] dirs = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[][]&#123;&#123;-<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;, &#123;<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;, &#123;<span class=\"number\">0</span>,-<span class=\"number\">1</span>&#125;, &#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j, <span class=\"type\">boolean</span>[][] visited)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length, n = grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &lt; <span class=\"number\">0</span> || j &lt; <span class=\"number\">0</span> || i &gt;= m || j &gt;= n) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 超出索引边界</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (visited[i][j]) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 已遍历过 (i, j)</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 进入节点 (i, j)</span></span><br><span class=\"line\">    visited[i][j] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 递归遍历上下左右的节点</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span>[] d : dirs) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">next_i</span> <span class=\"operator\">=</span> i + d[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">next_j</span> <span class=\"operator\">=</span> j + d[<span class=\"number\">1</span>];</span><br><span class=\"line\">        dfs(grid, next_i, next_j, visited);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 离开节点 (i, j)</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"二维数组（网格）中的DFS\">二维数组（网格）中的DFS</h4>\n<p>一般的位置为上下左右 的4 个位置&lt;==比如经典的岛屿问题==&gt;</p>\n<p>也可能是上下左右  左上左下  右上右下  的8 个位置</p>\n<h5 id=\"引入：\"><strong>引入：</strong></h5>\n<p>先理解一下二叉树的 递归（DFS 遍历）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">traverse</span><span class=\"params\">(TreeNode root)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 判断 base case      ---------要素1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (root == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 访问两个相邻结点：左子结点、右子结点--------要素2</span></span><br><span class=\"line\">    traverse(root.left);</span><br><span class=\"line\">    traverse(root.right);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"网格\">网格</h5>\n<h6 id=\"两个要素\">两个要素</h6>\n<ul>\n<li><strong>basecase</strong></li>\n</ul>\n<p>就是   网格中不需要继续遍历、<code>grid[r][c]</code> 会出现数组下标越界异常的格子 即：</p>\n<img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202304191221218.png\" alt=\"image-20230419122140180\" style=\"zoom:25%;\">\n<blockquote>\n<p>这一点稍微有些反直觉，坐标竟然可以临时超出网格的范围？</p>\n<p>可以称之为  「先污染后治理」—— 甭管当前是在哪个格子，先往四个方向走一步再说，如果发现走出了网格范围再赶紧返回。</p>\n<p>这跟二叉树的遍历方法是一样的，先递归调用，发现 root == null 再返回。</p>\n</blockquote>\n<ul>\n<li><strong>相邻节点   ————四叉结构</strong></li>\n</ul>\n<img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202304191219258.png\" style=\"zoom:25%;\">\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid, <span class=\"type\">int</span> r, <span class=\"type\">int</span> c)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 判断 base case</span></span><br><span class=\"line\">    <span class=\"comment\">// 如果坐标 (r, c) 超出了网格范围，直接返回</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!inArea(grid, r, c)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 访问上、下、左、右四个相邻结点</span></span><br><span class=\"line\">    dfs(grid, r - <span class=\"number\">1</span>, c);</span><br><span class=\"line\">    dfs(grid, r + <span class=\"number\">1</span>, c);</span><br><span class=\"line\">    dfs(grid, r, c - <span class=\"number\">1</span>);</span><br><span class=\"line\">    dfs(grid, r, c + <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 判断坐标 (r, c) 是否在网格中</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">inArea</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid, <span class=\"type\">int</span> r, <span class=\"type\">int</span> c)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span> &lt;= r &amp;&amp; r &lt; grid.length </span><br><span class=\"line\">        \t&amp;&amp; <span class=\"number\">0</span> &lt;= c &amp;&amp; c &lt; grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"如何避免遇到的重复情况呢\">如何避免遇到的重复情况呢</h5>\n<ul>\n<li>\n<p>就是再使用一个变量（visited）将所有经过的节点 都进行标记</p>\n</li>\n<li>\n<p>或者    如果是节省空间的话还可以 在其基础上直接更改当前位置的值比如： 直接将<code>grid[i][j]=1</code>改为 <code>grid[i][j] = 2</code>;</p>\n</li>\n</ul>\n<p>岛屿类问题的解法：</p>\n<table>\n<thead>\n<tr>\n<th>题目</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://leetcode.cn/problems/number-of-enclaves/\">1020. 飞地的数量</a></td>\n</tr>\n<tr>\n<td><a href=\"https://leetcode.cn/problems/number-of-closed-islands/\">1254. 统计封闭岛屿的数目</a></td>\n</tr>\n<tr>\n<td><a href=\"https://leetcode.cn/problems/count-sub-islands/\">1905. 统计子岛屿</a></td>\n</tr>\n<tr>\n<td><a href=\"https://leetcode.cn/problems/number-of-islands/\">200. 岛屿数量</a></td>\n</tr>\n<tr>\n<td><a href=\"https://leetcode.cn/problems/max-area-of-island/\">695. 岛屿的最大面积</a></td>\n</tr>\n<tr>\n<td>[463 岛屿的周长][<a href=\"https://leetcode.cn/problems/island-perimeter/\">https://leetcode.cn/problems/island-perimeter/</a>]</td>\n</tr>\n<tr>\n<td>[130 被围绕的区域][<a href=\"https://leetcode.cn/problems/surrounded-regions/\">https://leetcode.cn/problems/surrounded-regions/</a>]</td>\n</tr>\n</tbody>\n</table>\n<p>上面的5 题的<code>dfs</code>函数代码都是一样的</p>\n<blockquote>\n<p>dfs的主要操作  : 在岛屿问题中的主要操作 就是 将遍历过的点  用海水继续覆盖掉  防止走回头路</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//dfs</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> [][]grid, <span class=\"type\">int</span> i,<span class=\"type\">int</span> j)</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> m=grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"comment\">//base case</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i&lt;<span class=\"number\">0</span> || j&lt;<span class=\"number\">0</span>||i&gt;=m||j&gt;=n  || grid[i][j] != 陆地) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(grid[i][j] != 陆地) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">\t\t<span class=\"comment\">// dfs  的主要操作</span></span><br><span class=\"line\">        grid[i][j] = 非海水、非陆地de值;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">//相邻节点</span></span><br><span class=\"line\">        dfs(grid,i-<span class=\"number\">1</span>,j);</span><br><span class=\"line\">        dfs(grid,i+<span class=\"number\">1</span>,j);</span><br><span class=\"line\">        dfs(grid,i,j-<span class=\"number\">1</span>);</span><br><span class=\"line\">        dfs(grid,i,j+<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//特别的是：岛屿的最大面积</span></span><br><span class=\"line\"><span class=\"comment\">// 相邻节点 应该这么写</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> [][]grid, <span class=\"type\">int</span> i,<span class=\"type\">int</span> j)</span>&#123;</span><br><span class=\"line\">   <span class=\"type\">int</span> m=grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"comment\">//base case</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i&lt;<span class=\"number\">0</span> || j&lt;<span class=\"number\">0</span>||i&gt;=m||j&gt;=n  || grid[i][j] != 陆地) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(grid[i][j] != 陆地) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// dfs  的主要操作</span></span><br><span class=\"line\">        grid[i][j] = 非海水、非陆地de值;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> dfs(grid,i,j-<span class=\"number\">1</span>)+</span><br><span class=\"line\">        dfs(grid,i,j+<span class=\"number\">1</span>)+</span><br><span class=\"line\">        dfs(grid,i-<span class=\"number\">1</span>,j)+</span><br><span class=\"line\">        dfs(grid,i+<span class=\"number\">1</span>,j)+<span class=\"number\">1</span> ;</span><br><span class=\"line\">        </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//周长</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> [][]grid, <span class=\"type\">int</span> i,<span class=\"type\">int</span> j)</span>&#123;</span><br><span class=\"line\">   <span class=\"type\">int</span> m=grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"comment\">//base case</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i&lt;<span class=\"number\">0</span> || j&lt;<span class=\"number\">0</span>||i&gt;=m||j&gt;=n  || grid[i][j] != 陆地) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(grid[i][j] != 陆地)   <span class=\"keyword\">return</span> <span class=\"number\">1</span> ;</span><br><span class=\"line\">\t\t<span class=\"comment\">// dfs  的主要操作</span></span><br><span class=\"line\">        grid[i][j] = <span class=\"string\">&quot;非海水、非陆地de值&quot;</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> dfs(grid,i,j-<span class=\"number\">1</span>)+</span><br><span class=\"line\">        dfs(grid,i,j+<span class=\"number\">1</span>)+</span><br><span class=\"line\">        dfs(grid,i-<span class=\"number\">1</span>,j)+</span><br><span class=\"line\">        dfs(grid,i+<span class=\"number\">1</span>,j)+<span class=\"number\">1</span> ;</span><br><span class=\"line\">        </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><code>主函数代码</code></p>\n<blockquote>\n<p>值得注意的是  <code>每一次 dfs 之后就会将 所有的 陆地  置为  0  所以每一次的开始 dfs 的条件就是   if(grid[i][j] == 陆地)</code></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">numIslands</span><span class=\"params\">(<span class=\"type\">char</span>[][] grid)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;</span><br><span class=\"line\">       </span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                ......</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  ...;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//200</span></span><br><span class=\"line\">......</span><br><span class=\"line\"><span class=\"keyword\">if</span>(grid[i][j] == 陆地)&#123;</span><br><span class=\"line\">     res++;            </span><br><span class=\"line\">     dfs(grid,i,j);  <span class=\"comment\">// dfs找到所有的 链接岛屿群 并淹没  </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span>  res;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//1254</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">     dfs(grid,<span class=\"number\">0</span>,i);</span><br><span class=\"line\">     dfs(grid,m-<span class=\"number\">1</span>,i);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">    dfs(grid,i,<span class=\"number\">0</span>);</span><br><span class=\"line\">    dfs(grid,i,n-<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>(grid[i][j] == 陆地)&#123;</span><br><span class=\"line\">    res++;  </span><br><span class=\"line\">    dfs(grid,i,j);  <span class=\"comment\">// dfs找到所有的 链接岛屿群 并淹没  </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span>  res;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//1020</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">     dfs(grid,<span class=\"number\">0</span>,i);</span><br><span class=\"line\">     dfs(grid,m-<span class=\"number\">1</span>,i);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">    dfs(grid,i,<span class=\"number\">0</span>);</span><br><span class=\"line\">    dfs(grid,i,n-<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>(grid[i][j] == 陆地)&#123;</span><br><span class=\"line\">    res++;  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span>  res;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//1905</span></span><br><span class=\"line\"><span class=\"comment\">//先将在  grid2是陆地  和在   grid1 是海水   地方 在grid2 中全部设置为 海水</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; grid1.length;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt;grid1[<span class=\"number\">0</span>].length ; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid2[i][j] ==<span class=\"number\">1</span> &amp;&amp; grid1[i][j] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    dfs(grid2,i,j);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"><span class=\"comment\">// 现在 grid2 中剩下的岛屿都是子岛，计算岛屿数量</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid2[i][j] == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    dfs(grid2,i,j);</span><br><span class=\"line\">                    res++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  res;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//695</span></span><br><span class=\"line\">  \t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid[i][j] ==<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    res = Math.max(res,dfs(grid,i,j));</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;  </span><br><span class=\"line\">   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//463</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid[i][j] ==<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span>  dfs(grid,i,j);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//130</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> board.length;  <span class=\"comment\">//行</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> board[<span class=\"number\">0</span>].length;  <span class=\"comment\">//列</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(board[<span class=\"number\">0</span>][i] == <span class=\"string\">&#x27;O&#x27;</span>)   dfs(board,<span class=\"number\">0</span>,i);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(board[m-<span class=\"number\">1</span>][i] == <span class=\"string\">&#x27;O&#x27;</span>) dfs(board,m-<span class=\"number\">1</span>,i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(board[i][<span class=\"number\">0</span>] == <span class=\"string\">&#x27;O&#x27;</span>)   dfs(board,i,<span class=\"number\">0</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(board[i][n-<span class=\"number\">1</span>] == <span class=\"string\">&#x27;O&#x27;</span>) dfs(board,i,n-<span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;m; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(board[i][j] == <span class=\"string\">&#x27;#&#x27;</span>)    board[i][j] = <span class=\"string\">&#x27;O&#x27;</span>;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(board[i][j] == <span class=\"string\">&#x27;O&#x27;</span>)    board[i][j] = <span class=\"string\">&#x27;X&#x27;</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"一道困难的DFS\">==一道困难的DFS==</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//827(两次bfs   一次遍历海水  一次遍历陆地)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">largestIsland</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">areaMark</span> <span class=\"operator\">=</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        HashMap&lt;Integer, Integer&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 第一次  DFS 进行 各个陆地的面积 计算</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid[i][j] == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    <span class=\"type\">int</span> <span class=\"variable\">area</span> <span class=\"operator\">=</span> dfs(grid, i, j,areaMark);</span><br><span class=\"line\">                    map.put(areaMark,area);</span><br><span class=\"line\">                    areaMark++;</span><br><span class=\"line\">                    res = Math.max(res, area);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(res == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 第二次  DFS  进行海水 变陆地</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid[i][j] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    HashSet&lt;Integer&gt; hashset = dfs2(grid, i, j); <span class=\"comment\">//把上下左右四邻放入set里，set的目的是去重</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (hashset.size() &lt; <span class=\"number\">1</span>)  <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                    <span class=\"type\">int</span> <span class=\"variable\">addIsland</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (Integer set : hashset) &#123;</span><br><span class=\"line\">                        addIsland += map.get(set);</span><br><span class=\"line\">                        res = Math.max(res, addIsland);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j, <span class=\"type\">int</span> areaMark)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i&gt;=m ||j &gt;= n || j &lt; <span class=\"number\">0</span> || i &lt; <span class=\"number\">0</span> || grid[i][j] != <span class=\"number\">1</span>)  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 标记为已经遍历过了</span></span><br><span class=\"line\">        grid[i][j] = areaMark;</span><br><span class=\"line\">        <span class=\"comment\">// 就是求飞地的数量</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span>+dfs(grid, i-<span class=\"number\">1</span>, j,areaMark) + dfs(grid, i+<span class=\"number\">1</span>, j, areaMark)+</span><br><span class=\"line\">                dfs(grid, i, j-<span class=\"number\">1</span>,areaMark) + dfs(grid, i, j+<span class=\"number\">1</span>, areaMark) ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> HashSet&lt;Integer&gt; <span class=\"title function_\">dfs2</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        HashSet&lt;Integer&gt; set = <span class=\"keyword\">new</span> <span class=\"title class_\">HashSet</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i+<span class=\"number\">1</span>&lt;m &amp;&amp; j &lt; n &amp;&amp; j &gt;= <span class=\"number\">0</span> &amp;&amp; i+<span class=\"number\">1</span> &gt;= <span class=\"number\">0</span> &amp;&amp; grid[i+<span class=\"number\">1</span>][j] != <span class=\"number\">0</span>)</span><br><span class=\"line\">        set.add(grid[i+<span class=\"number\">1</span>][j]);</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(i-<span class=\"number\">1</span>&lt;m &amp;&amp; j &lt; n &amp;&amp; j &gt;= <span class=\"number\">0</span> &amp;&amp; i-<span class=\"number\">1</span> &gt;= <span class=\"number\">0</span> &amp;&amp; grid[i-<span class=\"number\">1</span>][j] != <span class=\"number\">0</span>)</span><br><span class=\"line\">        set.add(grid[i-<span class=\"number\">1</span>][j]);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i&lt;m &amp;&amp; j+<span class=\"number\">1</span>&lt; n &amp;&amp; j+<span class=\"number\">1</span> &gt;= <span class=\"number\">0</span> &amp;&amp; i &gt;= <span class=\"number\">0</span> &amp;&amp; grid[i][j+<span class=\"number\">1</span>] != <span class=\"number\">0</span>)</span><br><span class=\"line\">        set.add(grid[i][j+<span class=\"number\">1</span>]);</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(i&lt;m &amp;&amp; j-<span class=\"number\">1</span> &lt; n &amp;&amp; j-<span class=\"number\">1</span> &gt;= <span class=\"number\">0</span> &amp;&amp; i &gt;= <span class=\"number\">0</span> &amp;&amp; grid[i][j-<span class=\"number\">1</span>] != <span class=\"number\">0</span>)</span><br><span class=\"line\">        set.add(grid[i][j-<span class=\"number\">1</span>]);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> set;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"8个方向\">8个方向</h4>\n<h5 id=\"扫雷游戏\">扫雷游戏</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//DFS</span></span><br><span class=\"line\">    <span class=\"type\">int</span> dirs[][] = &#123;&#123;<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,&#123;<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">0</span>,-<span class=\"number\">1</span>&#125;,&#123;-<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,&#123;-<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">1</span>,-<span class=\"number\">1</span>&#125;,&#123;-<span class=\"number\">1</span>,-<span class=\"number\">1</span>&#125;&#125;;</span><br><span class=\"line\">    <span class=\"comment\">//M  X  1-8  都是和地雷相关</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">char</span>[][] updateBoard(<span class=\"type\">char</span>[][] board, <span class=\"type\">int</span>[] click) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> click[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> click[<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(board[i][j] == <span class=\"string\">&#x27;M&#x27;</span>)</span><br><span class=\"line\">            board[i][j] =<span class=\"string\">&#x27;X&#x27;</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">            dfs(board,i,j);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> board;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">char</span>[][] board, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; dirs.length; k++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">newx</span> <span class=\"operator\">=</span> i + dirs[k][<span class=\"number\">0</span>];</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">newy</span> <span class=\"operator\">=</span> j + dirs[k][<span class=\"number\">1</span>];</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(newy &lt; <span class=\"number\">0</span> || newx &lt; <span class=\"number\">0</span> || newx &gt;= board.length || newy &gt;= board[<span class=\"number\">0</span>].length) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(board[newx][newy] == <span class=\"string\">&#x27;M&#x27;</span>) count++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(count &gt; <span class=\"number\">0</span>) board[i][j] = (<span class=\"type\">char</span>)(count+<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            board[i][j] = <span class=\"string\">&#x27;B&#x27;</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; dirs.length; k++) &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">newx</span> <span class=\"operator\">=</span> i + dirs[k][<span class=\"number\">0</span>];</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">newy</span> <span class=\"operator\">=</span> j + dirs[k][<span class=\"number\">1</span>];</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(newy &lt; <span class=\"number\">0</span> || newx &lt; <span class=\"number\">0</span> || newx &gt;= board.length || newy &gt;= board[<span class=\"number\">0</span>].length || board[newx][newy] !=<span class=\"string\">&#x27;E&#x27;</span>) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                dfs(board, newx, newy);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//BFS</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> dirs[][] = &#123;&#123;<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,&#123;<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">0</span>,-<span class=\"number\">1</span>&#125;,&#123;-<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,&#123;-<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">1</span>,-<span class=\"number\">1</span>&#125;,&#123;-<span class=\"number\">1</span>,-<span class=\"number\">1</span>&#125;&#125;;</span><br><span class=\"line\">    <span class=\"comment\">//M  X  1-8  都是和地雷相关</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">char</span>[][] updateBoard(<span class=\"type\">char</span>[][] board, <span class=\"type\">int</span>[] click) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> board.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> board[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> click[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> click[<span class=\"number\">1</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//&#x27;X&#x27; 则表示一个 已挖出的 地雷  如果一个地雷（&#x27;M&#x27;）被挖出，游戏就结束了- 把它改为 &#x27;X&#x27; </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(board[i][j] == <span class=\"string\">&#x27;M&#x27;</span>)</span><br><span class=\"line\">            board[i][j] =<span class=\"string\">&#x27;X&#x27;</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        <span class=\"comment\">//bfs处理 E B  数字 三者逻辑</span></span><br><span class=\"line\">            bfs(board,i,j);</span><br><span class=\"line\"><span class=\"comment\">//如果在此次点击中，若无更多方块可被揭露，则返回盘面。</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> board;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">(<span class=\"type\">char</span>[][] board, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        Queue&lt;Integer&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"type\">boolean</span> visited[][] = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[board.length][board[<span class=\"number\">0</span>].length];</span><br><span class=\"line\"></span><br><span class=\"line\">        queue.offer(i);</span><br><span class=\"line\">        queue.offer(j);</span><br><span class=\"line\">        visited[i][j] =<span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!queue.isEmpty()) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">x</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">y</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">            </span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; dirs.length; k++) &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">newx</span> <span class=\"operator\">=</span> x + dirs[k][<span class=\"number\">0</span>];</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">newy</span> <span class=\"operator\">=</span> y + dirs[k][<span class=\"number\">1</span>];</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(newy &lt; <span class=\"number\">0</span> || newx &lt; <span class=\"number\">0</span> || newx &gt;= board.length || newy &gt;= board[<span class=\"number\">0</span>].length) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(board[newx][newy] == <span class=\"string\">&#x27;M&#x27;</span>) count++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">            </span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"comment\">//如果一个 至少与一个地雷相邻 的空方块（&#x27;E&#x27;）被挖出，修改它为数字（&#x27;1&#x27; 到 &#x27;8&#x27; ），表示相邻地雷的数量。</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(count &gt; <span class=\"number\">0</span>) board[x][y] = (<span class=\"type\">char</span>)(count+<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">               <span class=\"comment\">// 如果一个 没有相邻地雷 的空方块（&#x27;E&#x27;）被挖出，修改它为（&#x27;B&#x27;），并且所有和其相邻的 未挖出 方块都应该被递归地揭露。</span></span><br><span class=\"line\">                board[x][y] = <span class=\"string\">&#x27;B&#x27;</span>;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; dirs.length; k++) &#123;</span><br><span class=\"line\">                    <span class=\"type\">int</span> <span class=\"variable\">newx</span> <span class=\"operator\">=</span> x + dirs[k][<span class=\"number\">0</span>];</span><br><span class=\"line\">                    <span class=\"type\">int</span> <span class=\"variable\">newy</span> <span class=\"operator\">=</span> y + dirs[k][<span class=\"number\">1</span>];</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(newy &lt; <span class=\"number\">0</span> || newx &lt; <span class=\"number\">0</span> || newx &gt;= board.length || newy &gt;= board[<span class=\"number\">0</span>].length || board[newx][newy] !=<span class=\"string\">&#x27;E&#x27;</span> || visited[newx][newy]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                        queue.offer(newx);</span><br><span class=\"line\">                        queue.offer(newy);</span><br><span class=\"line\">                        visited[newx][newy] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"树-图的DFS\">树/图的DFS</h4>\n<h5 id=\"困难一\">困难一</h5>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">// 332</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 困难 的 回溯  安排行程    所有的机票 必须都用一次 且 只能用一次</span></span><br><span class=\"line\">&gt;List&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();     <span class=\"comment\">// 结果集</span></span><br><span class=\"line\">&gt;LinkedList&lt;String&gt; path = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();    <span class=\"comment\">// 路径</span></span><br><span class=\"line\">&gt;<span class=\"type\">boolean</span>  visited[];</span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">findItinerary</span><span class=\"params\">(List&lt;List&lt;String&gt;&gt; tickets)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">   visited = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[tickets.size()+<span class=\"number\">1</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 对  目的地(下标为 1)进行  排序</span></span><br><span class=\"line\">  Collections.sort(tickets,(o1,o2) -&gt; o1.get(<span class=\"number\">1</span>).compareTo(o2.get(<span class=\"number\">1</span>)));</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//所有这些机票都属于一个从 JFK（肯尼迪国际机场）出发的先生，所以该行程必须从 JFK 开始</span></span><br><span class=\"line\">  path.add(<span class=\"string\">&quot;JFK&quot;</span>);</span><br><span class=\"line\">&gt;<span class=\"comment\">//细节一: 强转为 ArrayList</span></span><br><span class=\"line\">  trackback((ArrayList) tickets);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;<span class=\"comment\">//细节二: </span></span><br><span class=\"line\">&gt;<span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"title function_\">trackback</span><span class=\"params\">(ArrayList&lt;List&lt;String&gt;&gt; tickets)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(path.size() == tickets.size()+<span class=\"number\">1</span>)&#123; <span class=\"comment\">//找到 符合的所有路径  </span></span><br><span class=\"line\">      res =<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(path);</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;                     <span class=\"comment\">//结束回溯</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; tickets.size(); i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 未访问过    &amp;&amp;    本票的 出发地  是队列中 最后一个元素（上一个票的 目的地）</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span>(!visited[i] &amp;&amp; tickets.get(i).get(<span class=\"number\">0</span>).equals(path.getLast()))&#123;</span><br><span class=\"line\">          <span class=\"comment\">// 做选择</span></span><br><span class=\"line\">         path.add(tickets.get(i).get(<span class=\"number\">1</span>));</span><br><span class=\"line\">         visited[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">         <span class=\"keyword\">if</span>(trackback(tickets)) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;     <span class=\"comment\">//结束回溯</span></span><br><span class=\"line\">          <span class=\"comment\">//撤销选择</span></span><br><span class=\"line\">         visited[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">         path.removeLast();</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</blockquote>\n<blockquote>\n<p>进阶写法：</p>\n<p>Map   computeIfAbsent      PriorityQueue</p>\n</blockquote>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">//332</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 困难 的 DFS  安排行程    所有的机票 必须都用一次 且 只能用一次</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">&gt;<span class=\"comment\">//要点一 : 贪心 : 按照字典顺序访问，我们把每个顶点的临接点按照字典顺序  排序</span></span><br><span class=\"line\">          <span class=\"comment\">// 也 可以不对临接点排序，而是使用小顶堆（Java可以用优先队列）。这样我们删除边的操作和访问最小字典顺序顶点可以用 出队操作代替，时间复杂度应该会比排序再删除要低一些。</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//要点二 : DFS(回溯) : 遍历图时，需要将访问到的节点  逆序  插入到结果集</span></span><br><span class=\"line\">&gt;<span class=\"comment\">//要点三 : 避免存在环路导致节点重复访问，我们  每访问过   一条边  就把它标记为访问过，或者直接将  访问过的边  删除  然后 每次都取临接点的第一个即可满足字典顺序访问</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//computeIfAbsent  该方法适用于需要在 Map 中进行查找或计算某些值的场景，比如对于需要动态生成某些值的场景</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;LinkedList&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">findItinerary</span><span class=\"params\">(List&lt;List&lt;String&gt;&gt; tickets)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(tickets.size() == <span class=\"number\">0</span>  || tickets == <span class=\"literal\">null</span> ) <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">  <span class=\"comment\">// Map&lt;String, List&lt;String&gt;&gt; 存储 图，Key 为顶点，List&lt;String&gt; 为临接点。</span></span><br><span class=\"line\">  HashMap&lt;String, PriorityQueue&lt;String&gt;&gt; graph = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (List&lt;String&gt;  ticket : tickets) &#123;</span><br><span class=\"line\">      <span class=\"comment\">//排序</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">//如果 graph 中不存在以 ticket.get(0) 为键的映射，则创建一个新的 PriorityQueue 实例，并将其作为该键值对应的值存入 graph 中；否则，直接返回对应的 PriorityQueue 对象。</span></span><br><span class=\"line\">      PriorityQueue&lt;String&gt; queue = graph.computeIfAbsent(ticket.get(<span class=\"number\">0</span>), k -&gt; <span class=\"keyword\">new</span> <span class=\"title class_\">PriorityQueue</span>&lt;&gt;());</span><br><span class=\"line\">      queue.add(ticket.get(<span class=\"number\">1</span>));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//dfs</span></span><br><span class=\"line\">  dfs(graph,<span class=\"string\">&quot;JFK&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(HashMap&lt;String, PriorityQueue&lt;String&gt;&gt; graph, String start)</span> &#123;</span><br><span class=\"line\">  PriorityQueue&lt;String&gt; queue = graph.get(start);</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (queue!=<span class=\"literal\">null</span> &amp;&amp; queue.size() &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"type\">String</span> <span class=\"variable\">poll</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">      dfs(graph, poll);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  res.add(<span class=\"number\">0</span>,start);  <span class=\"comment\">// 逆序插入</span></span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h5 id=\"困难二\">困难二</h5>\n<blockquote>\n<p>公共公交</p>\n</blockquote>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">// 无(双)向图</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">numBusesToDestination</span><span class=\"params\">(<span class=\"type\">int</span>[][] routes, <span class=\"type\">int</span> source, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(source == target) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> bfs(routes, source, target);</span><br><span class=\"line\">  <span class=\"keyword\">return</span>  res;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"title function_\">bfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] routes, <span class=\"type\">int</span> source, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 邻接表记录   站 与   路线的  关系</span></span><br><span class=\"line\">  HashMap&lt;Integer,List&lt;Integer&gt;&gt; graph = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">// 记录：经过的路线</span></span><br><span class=\"line\">  Deque&lt;Integer&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">  Set&lt;Integer&gt; visited= <span class=\"keyword\">new</span> <span class=\"title class_\">HashSet</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">numOfRoutes</span> <span class=\"operator\">=</span> routes.length;</span><br><span class=\"line\">  <span class=\"comment\">//将每个站点出现在的路线号添加到哈希表中。</span></span><br><span class=\"line\">  <span class=\"comment\">// 在循环遍历每个路线时，对于路线中的每个站点 station，</span></span><br><span class=\"line\">  <span class=\"comment\">//          首先判断是否已经存在以 station 为键的值，</span></span><br><span class=\"line\">  <span class=\"comment\">//          如果不存在，则在哈希表中添加一个新的空列表；然后将该路线编号 i 添加到哈希表中以 station 为键的值所对应的列表中。</span></span><br><span class=\"line\">  <span class=\"comment\">//          最后得到的是一个包含每个站点出现在的路线编号的哈希表。</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; numOfRoutes; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> station : routes[i]) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">if</span>(!graph.containsKey(station))&#123;</span><br><span class=\"line\">              graph.put(station,<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;());</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          graph.get(station).add(i);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  queue.addAll(graph.get(source));</span><br><span class=\"line\">  visited.addAll(graph.get(source));</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span>(!queue.isEmpty())&#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">size</span> <span class=\"operator\">=</span> queue.size();</span><br><span class=\"line\">      count++;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; size; i++) &#123;</span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">poll</span> <span class=\"operator\">=</span>  queue.poll();</span><br><span class=\"line\">          <span class=\"type\">int</span>[] route = routes[poll];</span><br><span class=\"line\">          <span class=\"keyword\">for</span> (<span class=\"type\">int</span> station: route)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">              <span class=\"keyword\">if</span>(station == target)  <span class=\"keyword\">return</span> count;</span><br><span class=\"line\"></span><br><span class=\"line\">              <span class=\"keyword\">for</span> (<span class=\"type\">int</span> bus : graph.getOrDefault(station, <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;())) &#123;</span><br><span class=\"line\">                  <span class=\"keyword\">if</span>(!visited.contains(bus)) &#123;</span><br><span class=\"line\">                      queue.offer(bus);</span><br><span class=\"line\">                      visited.add(bus);</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span>  -<span class=\"number\">1</span>;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h5 id=\"困难三\">困难三</h5>\n<blockquote>\n<p><a href=\"https://leetcode.cn/problems/word-ladder/\">单词接龙</a></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">//127</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">ladderLength</span><span class=\"params\">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 第 1 步：先将 wordList 放到哈希表里，便于判断某个单词是否在 wordList 里</span></span><br><span class=\"line\">  Set&lt;String&gt; wordSet = <span class=\"keyword\">new</span> <span class=\"title class_\">HashSet</span>&lt;&gt;(wordList);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (wordSet.size() == <span class=\"number\">0</span> || !wordSet.contains(endWord)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  wordSet.remove(beginWord);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 第 2 步：图的广度优先遍历，必须使用队列和表示是否访问过的 visited 哈希表</span></span><br><span class=\"line\">  Queue&lt;String&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">  queue.offer(beginWord);</span><br><span class=\"line\">  Set&lt;String&gt; visited = <span class=\"keyword\">new</span> <span class=\"title class_\">HashSet</span>&lt;&gt;();</span><br><span class=\"line\">  visited.add(beginWord);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 第 3 步：开始广度优先遍历，包含起点，因此初始化的时候步数为 1</span></span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">step</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">currentSize</span> <span class=\"operator\">=</span> queue.size();</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; currentSize; i++) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 依次遍历当前队列中的单词</span></span><br><span class=\"line\">          <span class=\"type\">String</span> <span class=\"variable\">currentWord</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">          <span class=\"comment\">// 如果 currentWord 能够修改 1 个字符与 endWord 相同，则返回 step + 1</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (changeWordEveryOneLetter(currentWord, endWord, queue, visited, wordSet)) &#123;</span><br><span class=\"line\">              <span class=\"keyword\">return</span> step + <span class=\"number\">1</span>;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      step++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 尝试对 currentWord 修改每一个字符，看看是不是能与 endWord 匹配</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> currentWord</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> endWord</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> queue</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> visited</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> wordSet</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"title function_\">changeWordEveryOneLetter</span><span class=\"params\">(String currentWord, String endWord,</span></span><br><span class=\"line\"><span class=\"params\">                                           Queue&lt;String&gt; queue, Set&lt;String&gt; visited, Set&lt;String&gt; wordSet)</span> &#123;</span><br><span class=\"line\">      <span class=\"type\">char</span>[] charArray = currentWord.toCharArray();</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; endWord.length(); i++) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 先保存，然后恢复</span></span><br><span class=\"line\">          <span class=\"type\">char</span> <span class=\"variable\">originChar</span> <span class=\"operator\">=</span> charArray[i];</span><br><span class=\"line\">          <span class=\"keyword\">for</span> (<span class=\"type\">char</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"string\">&#x27;a&#x27;</span>; k &lt;= <span class=\"string\">&#x27;z&#x27;</span>; k++) &#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span> (k == originChar) &#123;</span><br><span class=\"line\">                  <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">              charArray[i] = k;</span><br><span class=\"line\">              <span class=\"type\">String</span> <span class=\"variable\">nextWord</span> <span class=\"operator\">=</span> String.valueOf(charArray);</span><br><span class=\"line\">              <span class=\"keyword\">if</span> (wordSet.contains(nextWord)) &#123;</span><br><span class=\"line\">                  <span class=\"keyword\">if</span> (nextWord.equals(endWord)) &#123;</span><br><span class=\"line\">                      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\">                  <span class=\"keyword\">if</span> (!visited.contains(nextWord)) &#123;</span><br><span class=\"line\">                      queue.add(nextWord);</span><br><span class=\"line\">                      <span class=\"comment\">// 注意：添加到队列以后，必须马上标记为已经访问</span></span><br><span class=\"line\">                      visited.add(nextWord);</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">// 恢复</span></span><br><span class=\"line\">          charArray[i] = originChar;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h2 id=\"BFS\">==BFS==</h2>\n<blockquote>\n<ul>\n<li>\n<p><strong>BFS 找到的路径一定是最短的</strong></p>\n</li>\n<li>\n<p>问题的本质就是让你在一幅「图」中找到从起点 <code>start</code> 到终点 <code>target</code> 的最近距离.  找==最短路径==</p>\n</li>\n<li>\n<p>也就是说  只有在   找最短路径的时候 用 BFS    其他时候 大部分还是DFS</p>\n</li>\n</ul>\n</blockquote>\n<h4 id=\"BFS在层次遍历中模版：\">BFS在层次遍历中模版：</h4>\n<h5 id=\"返回值是二维数组：\">返回值是二维数组：</h5>\n<blockquote>\n<p>大部分题目就是在这个的基础上进行修改&lt;核心代码 前置&gt;</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List&lt;List&lt;Integer&gt;&gt; result = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;List&lt;Integer&gt;&gt;();       结果集</span><br><span class=\"line\">Queue&lt;TreeNode&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();\t\t\t\t\t\t\t队列</span><br><span class=\"line\">    <span class=\"comment\">// 要是定义在这里就只能打印得到一个整体的一维数组，因为每次for 循环中不会重置该一维数组</span></span><br><span class=\"line\">    <span class=\"comment\">//   ArrayList&lt;Integer&gt; tmpList  = new ArrayList&lt;&gt;();</span></span><br><span class=\"line\">    <span class=\"comment\">//加入根节点</span></span><br><span class=\"line\">queue.offer(root);\t\t\t\t\t\t\t\t\t\t\t\t\t入队</span><br><span class=\"line\">        <span class=\"comment\">//判空，返回的要是二维数组不能是null</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(root == <span class=\"literal\">null</span>)  <span class=\"keyword\">return</span> result;\t\t\t\t\t\t\t\t\t</span><br><span class=\"line\"><span class=\"keyword\">while</span>(!queue.isEmpty())&#123;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">queueSize</span> <span class=\"operator\">=</span> queue.size();\t\t\t\t\t\t\t\t\t\t队列的大小</span><br><span class=\"line\"><span class=\"comment\">// 必须要这里定义一维数组,只有在这里定义的才能每层都放在不同的一维数组里面，最终构成二维数组  并且只有 这里定义 tmpList 才能之后在 while中直接加到 result中  即：result.add(tmpList);              </span></span><br><span class=\"line\"><span class=\"comment\">//每层遍历的时候 tmpList 都会重置</span></span><br><span class=\"line\"> </span><br><span class=\"line\">ArrayList&lt;Integer&gt; tmpList  = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();                   临时接受</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; queueSize;i++)&#123;</span><br><span class=\"line\">\t\t<span class=\"type\">TreeNode</span> <span class=\"variable\">outQueue</span> <span class=\"operator\">=</span> queue.poll();              \t\t\t\t出队</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(outQueue.left!=<span class=\"literal\">null</span>) queue.offer(outQueue.left);\t\t\t左右侧进行递归</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(outQueue.right!=<span class=\"literal\">null</span>) queue.offer(outQueue.right);</span><br><span class=\"line\">       tmpList.add(outQueue.val);\t\t\t\t\t\t\t\t\t临时接受</span><br><span class=\"line\">&#125;\t</span><br><span class=\"line\">result.add(tmpList);\t\t\t\t\t\t\t\t\t\t\t\t进结果集</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> result;</span><br></pre></td></tr></table></figure>\n<h5 id=\"返回值是一维数组：\">返回值是一维数组：</h5>\n<blockquote>\n<p>大部分题目就是在这个的基础上进行修改&lt;核心代码 前置&gt;</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ArrayList&lt;Integer&gt; result = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">Queue&lt;TreeNode&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>(root == <span class=\"literal\">null</span>)  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">queue.offer(root);</span><br><span class=\"line\"><span class=\"keyword\">while</span>(!queue.isEmpty())&#123;</span><br><span class=\"line\">             </span><br><span class=\"line\">            </span><br><span class=\"line\"><span class=\"type\">int</span>  <span class=\"variable\">queueSize</span> <span class=\"operator\">=</span> queue.size();</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;queueSize;i++)&#123;</span><br><span class=\"line\"><span class=\"type\">TreeNode</span> <span class=\"variable\">outqueue</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">      result.add(outqueue.val);</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(outqueue.left!= <span class=\"literal\">null</span>)   queue.add(outqueue.left);</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(outqueue.right!= <span class=\"literal\">null</span>)  queue.add(outqueue.right);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> result;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>不难看出 就是在 <strong>定义结果集的时候</strong>  有区别，也就是结果集 <strong>维度</strong> 和 <strong>位置</strong> 的 区别</p>\n</blockquote>\n<h4 id=\"BFS的框架模版\">BFS的框架模版</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 计算从起点 start 到终点 target 的最近距离               </span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">BFS</span><span class=\"params\">(Node start, Node target)</span> &#123;</span><br><span class=\"line\">    Queue&lt;Node&gt; q; <span class=\"comment\">// 核心数据结构                       </span></span><br><span class=\"line\">\tq.offer(start); <span class=\"comment\">// 将起点加入队列</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    --------------  区别之处</span><br><span class=\"line\">    Set&lt;Node&gt; visited; <span class=\"comment\">// 避免走回头路     二叉树不用</span></span><br><span class=\"line\">    visited.add(start);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">step</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; <span class=\"comment\">// 记录扩散的步数</span></span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">while</span> (q not empty) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">sz</span> <span class=\"operator\">=</span> q.size();</span><br><span class=\"line\">        <span class=\"comment\">/* 将当前队列中的所有节点向四周扩散 */</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; sz; i++) &#123;</span><br><span class=\"line\">            <span class=\"type\">Node</span> <span class=\"variable\">cur</span> <span class=\"operator\">=</span> q.poll();</span><br><span class=\"line\">            </span><br><span class=\"line\">     ----------------  区别之处</span><br><span class=\"line\">            <span class=\"comment\">/* 划重点：这里判断是否到达终点 */</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cur is target)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> step;</span><br><span class=\"line\">            <span class=\"comment\">/* 将 cur 的相邻节点加入队列 */</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (Node x : cur.adj()) &#123;    <span class=\"comment\">//cur.adj() 泛指 cur 相邻的节点</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (x not in visited) &#123;</span><br><span class=\"line\">                    q.offer(x);</span><br><span class=\"line\">                    visited.add(x);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">     ----------------  区别之处</span><br><span class=\"line\">        <span class=\"comment\">/* 划重点：更新步数在这里 */</span></span><br><span class=\"line\">        step++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//visited 的主要作用是防止走回头路，大部分时候都是必须的，</span></span><br><span class=\"line\"><span class=\"comment\">//但是像一般的二叉树结构，没有子节点到父节点的指针，不会走回头路就不需要 visited。</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==注意==:</p>\n<p>这个 <code>while</code> 循环和 <code>for</code> 循环的配合</p>\n<p><strong><code>while</code> 循环控制一层一层往下走，<code>for</code> 循环利用 <code>sz</code> 变量控制从左到右遍历每一层二叉树节点</strong>：</p>\n<img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202303231104890.png\" style=\"zoom:25%;\">\n</blockquote>\n<blockquote>\n<p>感悟：</p>\n<p>==对于含有 <code>for</code> 或者 <code>其他 (while 等)循环</code>的代码中，对于想要得到的结果，往往是在循环之外进行数据处理的，例如 <code>返回结果，取最大值等等</code>==</p>\n</blockquote>\n<h4 id=\"岛屿问题的BFS\">岛屿问题的BFS</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bfs 函数的基本框架</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">int</span>  [][]dirs = &#123;&#123;<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,&#123;-<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">0</span>,-<span class=\"number\">1</span>&#125;&#125;;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">void</span>/<span class=\"type\">int</span> <span class=\"title function_\">bfs</span><span class=\"params\">(<span class=\"type\">int</span>/... [][]grid, <span class=\"type\">int</span>  i , <span class=\"type\">int</span>  j )</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>  <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">    <span class=\"type\">int</span>  <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        </span><br><span class=\"line\">        </span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"comment\">//第一种写法   必须是 n</span></span><br><span class=\"line\">    Queue&lt;Integer&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    queue.offer(i * n + j );   </span><br><span class=\"line\">    grid[i][j] = 海洋/<span class=\"string\">&#x27;0&#x27;</span>/...;  <span class=\"comment\">// 入队的时候而不是出队的时候加入  可以保证不会重复遍历   第一次加入</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">out</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">x</span> <span class=\"operator\">=</span> out / n;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">y</span> <span class=\"operator\">=</span> out % n;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  k=<span class=\"number\">0</span> ;k&lt;dirs.length;k++)&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">newx</span> <span class=\"operator\">=</span> x+dirs[k][<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">newy</span> <span class=\"operator\">=</span> y+dirs[k][<span class=\"number\">1</span>];</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(newx &gt;= <span class=\"number\">0</span> &amp;&amp; newy &gt;=<span class=\"number\">0</span> &amp;&amp;  newx &lt; m &amp;&amp; newy &lt; n &amp;&amp; grid[newx][newy]== <span class=\"string\">&quot;陆地&quot;</span>)&#123;</span><br><span class=\"line\">           queue.offer(newx * n  + newy); </span><br><span class=\"line\">            grid[i][j] = 海洋/<span class=\"string\">&#x27;0&#x27;</span>/...;  <span class=\"comment\">// 入队的时候而不是出队的时候加入  可以保证不会重复遍历  第二次加入</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">//第二种写法</span></span><br><span class=\"line\">    Queue&lt;Integer&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    queue.offer(i);</span><br><span class=\"line\">    queue.offer(j);</span><br><span class=\"line\">    grid[i][j] = 海洋/<span class=\"string\">&#x27;0&#x27;</span>/...;  <span class=\"comment\">// 入队的时候而不是出队的时候加入  可以保证不会重复遍历   第一次加入</span></span><br><span class=\"line\">    .........(<span class=\"comment\">//695   step++;)</span></span><br><span class=\"line\">    .........(<span class=\"comment\">//1020  step++;)</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">x</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">y</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  k=<span class=\"number\">0</span> ;k&lt;dirs.length;k++)&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">newx</span> <span class=\"operator\">=</span> x+dirs[k][<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">newy</span> <span class=\"operator\">=</span> y+dirs[k][<span class=\"number\">1</span>];</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(newx &gt;= <span class=\"number\">0</span> &amp;&amp; newy &gt;=<span class=\"number\">0</span> &amp;&amp;  newx &lt; m &amp;&amp; newy &lt; n &amp;&amp; grid[newx][newy]== <span class=\"string\">&quot;陆地&quot;</span>)&#123;</span><br><span class=\"line\">            queue.offer(newx); </span><br><span class=\"line\">            queue.offer(newy); </span><br><span class=\"line\">            grid[i][j] = 海洋/<span class=\"string\">&#x27;0&#x27;</span>/...;  <span class=\"comment\">// 入队的时候而不是出队的时候加入  可以保证不会重复遍历  第二次加入</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\">        <span class=\"comment\">//第三种写法</span></span><br><span class=\"line\">    Queue&lt;<span class=\"type\">int</span>[]&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    queue.offer(<span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;i,j&#125;);</span><br><span class=\"line\">    grid[i][j] = 非海洋非陆地的值/<span class=\"string\">&#x27;2&#x27;</span>/<span class=\"number\">2.</span>..;  <span class=\"comment\">// 入队的时候而不是出队的时候加入  可以保证不会重复遍历 第一次加入</span></span><br><span class=\"line\">    <span class=\"type\">int</span> out[] = queue.poll();</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">x</span> <span class=\"operator\">=</span> out[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">y</span> <span class=\"operator\">=</span> out[<span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  k=<span class=\"number\">0</span> ;k&lt;dirs.length;k++)&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">newx</span> <span class=\"operator\">=</span> x+dirs[k][<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">newy</span> <span class=\"operator\">=</span> y+dirs[k][<span class=\"number\">1</span>];</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(newx &gt;= <span class=\"number\">0</span> &amp;&amp; newy &gt;=<span class=\"number\">0</span> &amp;&amp;  newx &lt; m &amp;&amp; newy &lt; n &amp;&amp; grid[newx][newy]== <span class=\"string\">&quot;陆地&quot;</span>)&#123;</span><br><span class=\"line\">            queue.offer(<span class=\"keyword\">new</span> <span class=\"title class_\">int</span>&#123;newx,newy&#125;); </span><br><span class=\"line\">            grid[newx][newy] = 非海洋非陆地的值/<span class=\"string\">&#x27;2&#x27;</span>/<span class=\"number\">2.</span>..;  <span class=\"comment\">// 入队的时候而不是出队的时候加入  可以保证不会重复遍历  第二次加入</span></span><br><span class=\"line\">            .........(<span class=\"comment\">//695   step++;)</span></span><br><span class=\"line\">            .........(<span class=\"comment\">//1020  step++;)</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">         <span class=\"comment\">/**463 周长 附加判断 </span></span><br><span class=\"line\"><span class=\"comment\">            //bfs 按圈进行扩展  所以每一轮扩展之后 都将会对每一个当前节点的一圈节点进行遍历  </span></span><br><span class=\"line\"><span class=\"comment\">            //所以正好可以利用这个特性对其进行计算周长，看四边是不是 0 是的话就 周长+1 </span></span><br><span class=\"line\"><span class=\"comment\">                if( newx &lt; 0  ||  newy &lt;0 ||  newx &gt;=m ||  newy &gt;=n ||  grid[newx][newy] !=1) &#123;                  </span></span><br><span class=\"line\"><span class=\"comment\">                   if( newx &lt;0  ||  newy &lt;0 ||  newx &gt;=m ||  newy &gt;=n ||  grid[newx][newy]== 0 ) &#123;  </span></span><br><span class=\"line\"><span class=\"comment\">                       count++;</span></span><br><span class=\"line\"><span class=\"comment\">                &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                continue;</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">     return count;</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//200</span></span><br><span class=\"line\"> \t\t<span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">       </span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">if</span>(grid[i][j]==<span class=\"string\">&#x27;1&#x27;</span>)&#123;</span><br><span class=\"line\">                  bfs(grid,i,j);</span><br><span class=\"line\">                  count++;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//695</span></span><br><span class=\"line\">------&lt;bfs 有变动&gt;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt;n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid[i][j] == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    <span class=\"comment\">//每一次的 bfs 都要初始化  才能进行比较 取得 最值</span></span><br><span class=\"line\">                    step = <span class=\"number\">0</span>;</span><br><span class=\"line\">                    bfs(grid,i,j);</span><br><span class=\"line\">                    res = Math.max(res,step);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res ;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//1905</span></span><br><span class=\"line\">  </span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid1.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid1[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"comment\">//先将在  grid2是陆地  和在   grid1 是海水   地方 在grid2 中全部设置为 海水</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; grid1.length;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt;grid1[<span class=\"number\">0</span>].length ; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid2[i][j] ==<span class=\"number\">1</span> &amp;&amp; grid1[i][j] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    bfs(grid2,i,j);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 现在 grid2 中剩下的岛屿都是子岛，计算岛屿数量</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid2[i][j] == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    bfs(grid2,i,j);</span><br><span class=\"line\">                    res++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  res;</span><br><span class=\"line\">    </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//1020</span></span><br><span class=\"line\">------&lt;bfs 有变动&gt;</span><br><span class=\"line\">    <span class=\"type\">int</span> step ;</span><br><span class=\"line\"></span><br><span class=\"line\"> \t\t<span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (grid[i][<span class=\"number\">0</span>] == <span class=\"number\">1</span>) bfs(grid, i, <span class=\"number\">0</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (grid[i][n-<span class=\"number\">1</span>] == <span class=\"number\">1</span>) bfs(grid, i, n - <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 从上边和下边向中间遍历</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (grid[<span class=\"number\">0</span>][j] == <span class=\"number\">1</span>) bfs(grid, <span class=\"number\">0</span>, j);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (grid[m - <span class=\"number\">1</span>][j] == <span class=\"number\">1</span>) bfs(grid, m - <span class=\"number\">1</span>, j);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        step = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>( grid[i][j] == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    bfs(grid,i,j);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> step;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//1254&lt;与 1020 几乎一模一样&gt;</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(grid[<span class=\"number\">0</span>][i] == <span class=\"number\">0</span>)   bfs(grid,<span class=\"number\">0</span>,i);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(grid[m-<span class=\"number\">1</span>][i] == <span class=\"number\">0</span>) bfs(grid,m-<span class=\"number\">1</span>,i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(grid[i][<span class=\"number\">0</span>] == <span class=\"number\">0</span>) bfs(grid,i,<span class=\"number\">0</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(grid[i][n-<span class=\"number\">1</span>] == <span class=\"number\">0</span>)  bfs(grid,i,n-<span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid[i][j] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    bfs(grid,i,j);</span><br><span class=\"line\">                    res++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\"><span class=\"comment\">//463 </span></span><br><span class=\"line\"> \t\t<span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid[i][j] ==<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                    res=bfs(grid,i,j);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">//130 </span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(board[<span class=\"number\">0</span>][i] == <span class=\"string\">&#x27;O&#x27;</span>)   bfs(board,<span class=\"number\">0</span>,i);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(board[m-<span class=\"number\">1</span>][i] == <span class=\"string\">&#x27;O&#x27;</span>) bfs(board,m-<span class=\"number\">1</span>,i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(board[i][<span class=\"number\">0</span>] == <span class=\"string\">&#x27;O&#x27;</span>)   bfs(board,i,<span class=\"number\">0</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(board[i][n-<span class=\"number\">1</span>] == <span class=\"string\">&#x27;O&#x27;</span>) bfs(board,i,n-<span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;m; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(board[i][j] == <span class=\"string\">&#x27;#&#x27;</span>)    board[i][j] = <span class=\"string\">&#x27;O&#x27;</span>;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(board[i][j] == <span class=\"string\">&#x27;O&#x27;</span>)    board[i][j] = <span class=\"string\">&#x27;X&#x27;</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"一道BFS-DFS-的综合应用\">一道BFS\\DFS 的综合应用</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//934  最短的桥</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    LinkedList&lt;<span class=\"type\">int</span>[]&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"type\">int</span> dirs[][] = &#123;&#123;<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,&#123;-<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">0</span>,-<span class=\"number\">1</span>&#125;&#125;;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"variable\">onlyOne</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>; </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">shortestBridge</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//四面相连 == 上下左右</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(onlyOne) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid[i][j] == <span class=\"number\">1</span> &amp;&amp; !onlyOne)&#123;</span><br><span class=\"line\">                    onlyOne = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                    dfs(grid,i,j);</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">        <span class=\"keyword\">return</span> bfs(grid);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 计算扩展的层数，就是桥的个数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"title function_\">bfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">            res++;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">size</span> <span class=\"operator\">=</span> queue.size();</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">l</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; l &lt; size; l++) &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span>[] poll = queue.poll();</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">x</span> <span class=\"operator\">=</span> poll[<span class=\"number\">0</span>];</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">y</span> <span class=\"operator\">=</span> poll[<span class=\"number\">1</span>];</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; k &lt; dirs.length; k++) &#123;</span><br><span class=\"line\">                    <span class=\"type\">int</span> <span class=\"variable\">newx</span> <span class=\"operator\">=</span> x + dirs[k][<span class=\"number\">0</span>];</span><br><span class=\"line\">                    <span class=\"type\">int</span> <span class=\"variable\">newy</span> <span class=\"operator\">=</span> y + dirs[k][<span class=\"number\">1</span>];</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(newx &gt;= <span class=\"number\">0</span> &amp;&amp; newy &gt;= <span class=\"number\">0</span> &amp;&amp; newx &lt; m &amp;&amp; newy &lt; n &amp;&amp; grid[newx][newy] == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                            queue.offer(<span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;newx, newy&#125;);</span><br><span class=\"line\">                            grid[newx][newy] = <span class=\"number\">2</span>;</span><br><span class=\"line\">                    &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(newx &gt;= <span class=\"number\">0</span> &amp;&amp; newy &gt;= <span class=\"number\">0</span> &amp;&amp; newx &lt; m &amp;&amp; newy &lt; n &amp;&amp; grid[newx][newy] == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//找到岛屿，岛屿的个数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid, <span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i &lt; <span class=\"number\">0</span> || j &lt; <span class=\"number\">0</span> || i &gt;= m || j &gt;= n || grid[i][j] == <span class=\"number\">2</span> ) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(grid[i][j] == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            grid[i][j] = <span class=\"number\">2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(grid[i][j] == <span class=\"number\">0</span>)&#123;  <span class=\"comment\">//只 向外 扩展一层 即可  所以是 if</span></span><br><span class=\"line\">            grid[i][j] = <span class=\"number\">2</span>;</span><br><span class=\"line\">            queue.offer(<span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;i, j&#125;);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        dfs(grid, i, j+<span class=\"number\">1</span>);</span><br><span class=\"line\">        dfs(grid, i+<span class=\"number\">1</span>, j);</span><br><span class=\"line\">        dfs(grid, i-<span class=\"number\">1</span>, j);</span><br><span class=\"line\">        dfs(grid, i, j-<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"滑动窗口题：\">滑动窗口题：</h2>\n<blockquote>\n<p>==注==</p>\n<p>​\t将 索引<strong>左闭右开</strong>区间 <code>[left, right)</code> 称为一个「窗口」</p>\n</blockquote>\n<h5 id=\"核心框架\">核心框架</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 核心逻辑</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>, right = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">while</span> (right &lt; s.size()) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 增大窗口</span></span><br><span class=\"line\">    window.add(s[right]);</span><br><span class=\"line\">    right++;   </span><br><span class=\"line\">    ........</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (window needs shrink) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 缩小窗口</span></span><br><span class=\"line\">        window.remove(s[left]);</span><br><span class=\"line\">        left++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"整体框架\">整体框架</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">完整框架</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">/* 滑动窗口算法框架 */</span></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">slidingWindow</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">    Map&lt;Character, Integer&gt; window = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\"><span class=\"comment\">//（ 变量 ）</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>, right = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (right &lt; s.length()) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// c 是将移入窗口的字符</span></span><br><span class=\"line\">        <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> s.charAt(right);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 增大窗口</span></span><br><span class=\"line\">        right++;</span><br><span class=\"line\"><span class=\"comment\">// 进行窗口内数据的一系列更新</span></span><br><span class=\"line\">        ...</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/*** debug 输出的位置 ***/</span></span><br><span class=\"line\">        <span class=\"comment\">// 注意在最终的解法代码中不要 print</span></span><br><span class=\"line\">        <span class=\"comment\">// 因为 IO 操作很耗时，可能导致超时</span></span><br><span class=\"line\">        System.out.printf(<span class=\"string\">&quot;window: [%d, %d)\\n&quot;</span>, left, right);</span><br><span class=\"line\">        <span class=\"comment\">/********************/</span></span><br><span class=\"line\">        </span><br><span class=\"line\"><span class=\"comment\">// 判断左侧窗口是否要收缩</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (window needs shrink) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// d 是将移出窗口的字符</span></span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">d</span> <span class=\"operator\">=</span> s.charAt(left);</span><br><span class=\"line\">            <span class=\"comment\">// 缩小窗口</span></span><br><span class=\"line\">            left++;</span><br><span class=\"line\"><span class=\"comment\">// 进行窗口内数据的一系列更新</span></span><br><span class=\"line\">            ...</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">其中两处 ... 表示的更新窗口数据的地方，到时候直接往里面填就行了。</span><br><span class=\"line\">而且，这两个 ... 处的操作分别是扩大和缩小窗口的更新操作，等会你会发现它们操作是完全对称的。</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==思考==</p>\n<ul>\n<li>什么时候应该移动 <code>right</code> 扩大窗口？窗口加入字符时，应该更新哪些数据？</li>\n<li>什么时候应该移动 <code>left</code> 缩小窗口？从窗口移出字符时，应该更新哪些数据？</li>\n<li>我们要的<strong>结果</strong>应该在扩大窗口时还是缩小窗口时进行更新？</li>\n</ul>\n</blockquote>\n<h5 id=\"java相关的知识\">==java相关的知识==</h5>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">// 将 string  转为字符串 </span></span><br><span class=\"line\">&gt;<span class=\"keyword\">for</span>(<span class=\"type\">char</span> c:t.toCharArray())&#123;</span><br><span class=\"line\">&gt;<span class=\"comment\">//将 c  加到对应的map结合中，  要是有的话就+1，没有就为 0+1</span></span><br><span class=\"line\">&gt;request.put(c,request.getOrDefault(c,<span class=\"number\">0</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//map用于 判断是否含有 该键</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>(request.containsKey(remover))</span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>(window.get(remover).equals(request.get(remover))) </span><br><span class=\"line\">&gt;<span class=\"comment\">//两个map集合中的键值都一样才为true</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h5 id=\"一个字符串-数组\">一个字符串 / 数组</h5>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">//3  给定一个字符串 s ，请你找出其中不含有重复字符的 最长子串 的长度。        </span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----变量</span><br><span class=\"line\">&gt;HashMap&lt;Character, Integer&gt; window = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">&gt;<span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&gt;<span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&gt;<span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&gt;<span class=\"type\">int</span> res= <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\">&gt;<span class=\"comment\">// 窗口的大小进行更新； 窗口中的键值更新</span></span><br><span class=\"line\">&gt;window.put(add,window.getOrDefault(add,<span class=\"number\">0</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">&gt;count++;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----判断左侧窗口是否要收缩</span><br><span class=\"line\">&gt;<span class=\"comment\">//窗口缩小的条件： 窗口中的键对应的值 &gt;1 </span></span><br><span class=\"line\">&gt;<span class=\"keyword\">while</span>(window.get(add)&gt;<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\">&gt;<span class=\"comment\">// 窗口的大小进行更新； 窗口中的键值更新</span></span><br><span class=\"line\"> count --;</span><br><span class=\"line\"> window.put(remove,window.get(remove)-<span class=\"number\">1</span>);</span><br><span class=\"line\">&gt;----返回值</span><br><span class=\"line\">&gt;<span class=\"comment\">//结果集收集：记录每一次的最大值</span></span><br><span class=\"line\">      res = Math.max(res,count);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//209   长度最小的子数组   满足其和 ≥ target 的长度最小的 连续子数组  并返回其长度。如果不存在符合条件的子数组，返回 0 。 </span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----变量</span><br><span class=\"line\">\t<span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> right= <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> Integer.MAX_VALUE;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;   </span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\"> <span class=\"keyword\">if</span>(sum &lt; target)&#123;</span><br><span class=\"line\">          sum =sum+add;</span><br><span class=\"line\">          <span class=\"comment\">//window.put(add,window.getOrDefault(add,0 )+1);</span></span><br><span class=\"line\">          count++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">&gt;----判断左侧窗口是否要收缩</span><br><span class=\"line\">&gt;<span class=\"keyword\">while</span>(sum &gt;= target)</span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>(sum &gt;= target)&#123;</span><br><span class=\"line\"> res = Math.min(res,count);</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"> sum =sum-remove;</span><br><span class=\"line\"> count--;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----返回值</span><br><span class=\"line\">&gt;<span class=\"keyword\">return</span> res== Integer.MAX_VALUE? <span class=\"number\">0</span>:res;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// 模版框架有变动</span></span><br><span class=\"line\">&gt;<span class=\"comment\">//1004   给定一个二进制数组 nums 和一个整数 k，如果可以翻转最多 k 个 0 ，则返回 数组中连续 1 的最大个数 。</span></span><br><span class=\"line\">&gt;----变量</span><br><span class=\"line\">\t<span class=\"type\">int</span> right= <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> left= <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> k;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\">&gt;<span class=\"comment\">// 扩大窗口的时候 k 是可以等于 0  的 ，</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 否则要是在扩大窗口的时候  只判断 k&gt;0 会导致 count 的值会变小，</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 原因是一旦 K == 0;就会使窗口在遇到 k 个0 之后不管最后一个 0 后面的值是否为1 直接缩小窗口，就会导致 计数不完整。</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 所以 k=0 放在增加窗口的时候，就是为了判断最后一个0 的后面的值是0还是1 ，这个时候即使扩大窗口会多++一次； 但是在缩小窗口的时候还是会--，就会进行抵消；</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span>(nums[right] == <span class=\"number\">0</span> &amp;&amp; k&gt;=<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">          k--;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      right++;</span><br><span class=\"line\">      count++;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----判断左侧窗口是否要收缩</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">while</span>(k&lt;<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\"><span class=\"keyword\">if</span>(nums[left]==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">              k++;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          left++;</span><br><span class=\"line\">          count--;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----返回值</span><br><span class=\"line\">&gt;<span class=\"comment\">//缩小完窗口进行收集结果</span></span><br><span class=\"line\">&gt;res = Math.max(res,count);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//1004   完整代码</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//思路：遇到 K个 0 之后就缩小窗口，比较每次的收集到的最大 count</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">longestOnes</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> right= <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> left= <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> k;</span><br><span class=\"line\">  <span class=\"keyword\">while</span>(right&lt;nums.length)&#123;</span><br><span class=\"line\">&gt;<span class=\"comment\">// 扩大窗口的时候 k 是可以等于 0  的 ，</span></span><br><span class=\"line\">&gt;<span class=\"comment\">//否则要是在扩大窗口的时候  只判断 k&gt;0 会导致 count 的值会变小，</span></span><br><span class=\"line\">&gt;<span class=\"comment\">//原因是一旦 K ==0;就会使窗口在遇到 k 个0 之后不管最后一个 0 后面的值是否为1 直接缩小窗口，就会导致 计数不完整。</span></span><br><span class=\"line\">&gt;<span class=\"comment\">//所以 k=0 放在增加窗口的时候，就是为了判断最后一个0 的后面的值是0还是1 ，这个时候即使扩大窗口会多++一次； 但是在缩小窗口的时候还是会--，就会进行抵消；</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span>(nums[right] == <span class=\"number\">0</span> &amp;&amp; k&gt;=<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">          k--;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      right++;</span><br><span class=\"line\">      count++;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(k&lt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(nums[left]==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">              k++;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          left++;</span><br><span class=\"line\">          count--;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//缩小完窗口进行收集结果</span></span><br><span class=\"line\">      res = Math.max(res,count);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h5 id=\"两个子符串\">两个子符串</h5>\n<blockquote>\n<p><strong>76 438  567 共性 就是   子串可以无序 但是长度固定 个数一致</strong></p>\n<p>==1208则是要逐位比较==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//76   给你一个字符串 s 、一个字符串 t 。返回 s 中涵盖 t 所有字符的最小子串。如果 s 中不存在涵盖 t 所有字符的子串，则返回空字符串 &quot;&quot;</span></span><br><span class=\"line\">&gt;----变量</span><br><span class=\"line\"><span class=\"type\">int</span> right= <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">start</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> Integer.MAX_VALUE;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">   HashMap&lt;Character,Integer&gt; request = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">   HashMap&lt;Character,Integer&gt;  window = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">   <span class=\"keyword\">for</span>(<span class=\"type\">char</span> c:t.toCharArray())&#123;</span><br><span class=\"line\">       request.put(c,request.getOrDefault(c,<span class=\"number\">0</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(request.containsKey(add))&#123;</span><br><span class=\"line\">          window.put(add,window.getOrDefault(add,<span class=\"number\">0</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(window.get(add).equals(request.get(add)))</span><br><span class=\"line\">          count++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----判断左侧窗口是否要收缩</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">while</span>(count == request.size())</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(right- left&lt;len)&#123;</span><br><span class=\"line\">              start = left;</span><br><span class=\"line\">              len  = right - left;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(request.containsKey(remove))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(window.get(remove).equals(request.get(remove)))</span><br><span class=\"line\">                  valid--;</span><br><span class=\"line\">                  <span class=\"comment\">// get(remove)-1</span></span><br><span class=\"line\">                  window.put(remove,window.get(remove)-<span class=\"number\">1</span>);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----返回值</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> len ==  Integer.MAX_VALUE? <span class=\"string\">&quot;&quot;</span>: s.substring(start,start+len);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//438   给定两个字符串 s 和 p，找到 s 中所有 p 的 异位词 的子串，返回这些子串的起始索引。 </span></span><br><span class=\"line\">&gt;----变量</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  HashMap&lt;Character, Integer&gt; request = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">  HashMap&lt;Character, Integer&gt; window = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">char</span> c : p.toCharArray())&#123;</span><br><span class=\"line\">      request.put(c,request.getOrDefault(c,<span class=\"number\">0</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  ArrayList&lt;Integer&gt; result = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(request.containsKey(add))&#123;</span><br><span class=\"line\">          window.put(adder,window.getOrDefault(add,<span class=\"number\">0</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(window.get(add).equals(request.get(add)))</span><br><span class=\"line\">              count++;</span><br><span class=\"line\">          <span class=\"comment\">//System.out.println(window);</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----判断左侧窗口是否要收缩</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">while</span>(right-left &gt;= p.length())</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\"></span><br><span class=\"line\">   \t\t<span class=\"keyword\">if</span>(count == request.size()) &#123;  <span class=\"comment\">//request.size()</span></span><br><span class=\"line\">              result.add(left);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">\t\t\t...</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(request.containsKey(remove))&#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span>(window.get(remove).equals(request.get(remove)))</span><br><span class=\"line\">                  count--;</span><br><span class=\"line\"></span><br><span class=\"line\">              <span class=\"comment\">// window.put(remover, window.get(remover)-1);</span></span><br><span class=\"line\">              window.put(remove, window.get(remove)-<span class=\"number\">1</span>);</span><br><span class=\"line\">             <span class=\"comment\">// System.out.println(window);</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----返回值</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//567   给你两个字符串 s1 和 s2 ，写一个函数来判断 s2 是否包含 s1 的排列。如果是，返回 true ；否则，返回 false   和438几乎没差</span></span><br><span class=\"line\">&gt;----变量</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  HashMap&lt;Character, Integer&gt; request = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">  HashMap&lt;Character, Integer&gt; window = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">char</span> c : s1.toCharArray())&#123;</span><br><span class=\"line\">      request.put(c,request.getOrDefault(c,<span class=\"number\">0</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(request.containsKey(add))&#123;</span><br><span class=\"line\">          window.put(add,window.getOrDefault(add,<span class=\"number\">0</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(window.get(add).equals(request.get(add)))</span><br><span class=\"line\">         \t\tcount++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----判断左侧窗口是否要收缩</span><br><span class=\"line\">&gt;<span class=\"keyword\">while</span>(right-left &gt;= s1.length())</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">if</span>(count == request.size())  <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>(request.containsKey(remove))&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(window.get(remove).equals(request.get(remove)))</span><br><span class=\"line\">      count--;</span><br><span class=\"line\">  window.put(remove,window.get(remover)-<span class=\"number\">1</span>);</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----返回值</span><br><span class=\"line\">&gt;<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// 模版框架有变动</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 1208        如果你可以将 s 的子字符串转化为它在 t 中对应的子字符串，则返回可以转化的最大长度。</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// 题意： cost 不是个数  而是|s[i] - t[i]| 就是两个字符的 ASCII 码值的差的绝对值</span></span><br><span class=\"line\">&gt;----变量</span><br><span class=\"line\"><span class=\"type\">int</span> right= <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> left= <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">diff</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\">\tdiff += Math.abs(s.charAt(right) - t.charAt(right));</span><br><span class=\"line\">      right++;</span><br><span class=\"line\">      count++;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----判断左侧窗口是否要收缩</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">while</span>(diff&gt;maxCost)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\"></span><br><span class=\"line\">   diff -= Math.abs(s.charAt(left) - t.charAt(left));</span><br><span class=\"line\">   left++;</span><br><span class=\"line\">   count--;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----返回值  </span><br><span class=\"line\">&gt;<span class=\"comment\">// 更新值</span></span><br><span class=\"line\">&gt;res = Math.max(res, count);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//1208 完整代码</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// 题意： cost 不是个数  而是|s[i] - t[i]| 就是两个字符的 ASCII 码值的差的绝对值</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">equalSubstring</span><span class=\"params\">(String s, String t, <span class=\"type\">int</span> maxCost)</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> right= <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> left= <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">diff</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">// 窗口 扩大</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span>(right&lt;s.length())&#123;</span><br><span class=\"line\">      diff += Math.abs(s.charAt(right) - t.charAt(right));</span><br><span class=\"line\">      right++;</span><br><span class=\"line\">      count++;</span><br><span class=\"line\">      <span class=\"comment\">// 缩小窗口</span></span><br><span class=\"line\">      <span class=\"keyword\">while</span>(diff&gt;maxCost)&#123;</span><br><span class=\"line\">          diff -= Math.abs(s.charAt(left) - t.charAt(left));</span><br><span class=\"line\">          left++;</span><br><span class=\"line\">          count--;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// 更新值</span></span><br><span class=\"line\">      res = Math.max(res, count);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----变量</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----判断左侧窗口是否要收缩</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----进行窗口内数据的一系列更新</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;----返回值</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h2 id=\"二分搜索\">二分搜索</h2>\n<blockquote>\n<p><strong>不要出现 else，而是把所有情况用 else if 写清楚，这样可以清楚地展现所有细节</strong>。</p>\n</blockquote>\n<blockquote>\n<p><strong>另外提前说明一下，计算 <code>mid</code> 时需要防止溢出</strong>，代码中 <code>left + (right - left) / 2</code> 就和 <code>(left + right) / 2</code> 的结果相同，但是有效防止了 <code>left</code> 和 <code>right</code> 太大，直接相加导致溢出的情况。</p>\n</blockquote>\n<blockquote>\n<ul>\n<li>\n<p>while(  &lt;= )    &lt;==&gt;    right的赋值是<code>nums.length - 1</code>   &lt;==&gt;    两端都闭区间 <code>[left, right]</code></p>\n</li>\n<li>\n<p><code>left = mid + 1</code>   或者    <code>right = mid - 1</code></p>\n</li>\n<li>\n<p>while(  &lt; )    &lt;==&gt;    right 的赋值是 <code>nums.length</code>     &lt;==&gt;    左闭右开区间 <code>[left, right)</code></p>\n</li>\n<li>\n<p><code>left = mid + 1</code>  或者     <code>right = mid</code></p>\n</li>\n</ul>\n<p>右侧边界的一个<strong>特殊点</strong>  就是结尾 获取left的时候要 -1</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//模板</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(left &lt;= right) &#123;\t\t\t---left &lt; right\t\t\t\t\t---left &lt; right</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> left + (right - left) / <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums[mid] &lt; target) &#123;</span><br><span class=\"line\">            left = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (nums[mid] &gt; target) &#123;</span><br><span class=\"line\">            right = mid - <span class=\"number\">1</span>; \t\t--- right=mid ; \t\t\t\t\t\t----right = mid ;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid] == target) &#123;</span><br><span class=\"line\">... <span class=\"comment\">//三选一 \t\t  </span></span><br><span class=\"line\"> <span class=\"comment\">// 返回中点索引值\t\t\t\t//左边界                    \t\t\t\t\t\t\t\t//右边界</span></span><br><span class=\"line\"><span class=\"comment\">/**return mid;*/</span>\t\t<span class=\"comment\">/*right = mid - 1;**/</span>   ---right = mid ;          <span class=\"comment\">/**left = mid + 1;*/</span>  ----left = mid + <span class=\"number\">1</span> ;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">--注意：</span><br><span class=\"line\">\t----其实对于左右边界而言</span><br><span class=\"line\">\t----返回的条件也是一样的，就是在 <span class=\"keyword\">while</span>()&#123;&#125;中有所变化</span><br><span class=\"line\">....... <span class=\"comment\">//三选一</span></span><br><span class=\"line\"> <span class=\"comment\">// 返回中点索引值\t\t//左边界</span></span><br><span class=\"line\"> <span class=\"comment\">//return -1;  \t\t//if (left == nums.length) return -1;\t\t\t\t//if (left - 1 &lt; 0) return -1;</span></span><br><span class=\"line\">                    <span class=\"comment\">// 判断一下 nums[left] 是不是 target                  // 判断一下 nums[left] 是不是 target</span></span><br><span class=\"line\">                    <span class=\"comment\">//return nums[left] == target ? left : -1;         //return nums[left - 1] == target ? (left - 1) : -1;</span></span><br><span class=\"line\">&#125; </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"左右边界问题\">左右边界问题</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"type\">int</span>[] searchRange(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> target) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> [] result = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">2</span>];</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nums.length == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            result[<span class=\"number\">0</span>] = -<span class=\"number\">1</span>;</span><br><span class=\"line\">            result[<span class=\"number\">1</span>] = -<span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">leftbound</span> <span class=\"operator\">=</span> GetLeftBound(nums,target);</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">rightbound</span> <span class=\"operator\">=</span> GetRightBound(nums,target);</span><br><span class=\"line\">        result[<span class=\"number\">0</span>] = leftbound;</span><br><span class=\"line\">        result[<span class=\"number\">1</span>] = rightbound;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span>  result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"type\">int</span> <span class=\"title function_\">GetLeftBound</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> target)</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(left &lt; right)&#123;   <span class=\"comment\">//[)</span></span><br><span class=\"line\">            mid = left + (right - left)/<span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[mid] &lt; target)&#123;</span><br><span class=\"line\">                left = mid  + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid] &gt; target)&#123;</span><br><span class=\"line\">                right= mid ;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid] == target)&#123;</span><br><span class=\"line\">                right = mid ;  <span class=\"comment\">// 缩小右边界 从而找到最左边界</span></span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">       <span class=\"comment\">// System.out.println(&quot;nums[&quot;+left+&quot;]=&quot; + &quot; &quot;+nums[left]);</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(left == nums.length ) <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums[left]  == target ? left :-<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"type\">int</span> <span class=\"title function_\">GetRightBound</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> target)</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(left &lt; right)&#123;    <span class=\"comment\">//[)</span></span><br><span class=\"line\">            mid = left + (right - left)/<span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[mid] &lt; target)&#123;</span><br><span class=\"line\">                left = mid  + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid] &gt; target)&#123;</span><br><span class=\"line\">                right = mid ;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid] == target)&#123;</span><br><span class=\"line\">                left = mid + <span class=\"number\">1</span> ;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//System.out.println(&quot;nums[&quot;+(left-1)+&quot;]=&quot; + &quot; &quot;+nums[left-1]);</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(left - <span class=\"number\">1</span> &lt; <span class=\"number\">0</span>)  <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums[left-<span class=\"number\">1</span>] == target ?  left -<span class=\"number\">1</span> :-<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"旋转数组问题\">旋转数组问题</h4>\n<blockquote>\n<p>旋转数组一般 只比较 <code>mid  最右   </code>（因为  尾巴（最右） 必然是小于等于 头  （最左））两个点  的大小</p>\n</blockquote>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"number\">33</span>   <span class=\"comment\">// 找指定的taget</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">search</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> nums.length -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span>(left &lt;= right)&#123;</span><br><span class=\"line\">      mid = left +(right - left)/<span class=\"number\">2</span>;</span><br><span class=\"line\">      <span class=\"comment\">// head   必然是大于  tail 的</span></span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">head</span> <span class=\"operator\">=</span> nums[left];</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">tail</span> <span class=\"operator\">=</span> nums[right];</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(nums[mid] == target) <span class=\"keyword\">return</span> mid;</span><br><span class=\"line\">      <span class=\"comment\">//可以明确的是前半部 是升序的</span></span><br><span class=\"line\">      <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid] &gt;tail)&#123;</span><br><span class=\"line\">          <span class=\"comment\">// 就去前半部分寻找  比如  4 5 6 7 8 9 10 11 12 0 1 2 3  找6</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span>(nums[mid]&gt;target &amp;&amp;  head&lt;=target)&#123;</span><br><span class=\"line\">              right = mid -<span class=\"number\">1</span>;</span><br><span class=\"line\">          <span class=\"comment\">// 否则去后半部分查找  比如  4 5 6 7 8 9 10 11 12 0 1 2 3  找12</span></span><br><span class=\"line\">          &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">              left = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;<span class=\"keyword\">else</span> &#123;  <span class=\"comment\">//可以明确的是  后半部 是升序的</span></span><br><span class=\"line\">      <span class=\"comment\">// 6 7 0 1 2 3 4 5   找3 </span></span><br><span class=\"line\">          <span class=\"keyword\">if</span>(nums[mid] &lt; target &amp;&amp; tail &gt;= target)&#123;</span><br><span class=\"line\">              left = mid +<span class=\"number\">1</span>;</span><br><span class=\"line\">      <span class=\"comment\">// 6 7 0 1 2 3 4 5   找7 </span></span><br><span class=\"line\">          &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">              right = mid - <span class=\"number\">1</span>;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;牛客   找最小值  只与尾巴比较</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">minNumberInRotateArray</span><span class=\"params\">(<span class=\"type\">int</span> [] array)</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span>  <span class=\"variable\">right</span> <span class=\"operator\">=</span> array.length - <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">//尾巴 必然是小于等于 头   所以只进行比较 尾巴就可以了</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (left &lt;= right) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (left + <span class=\"number\">1</span>  == right)  <span class=\"keyword\">return</span> Math.min(array[left], array[right]);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">tail</span> <span class=\"operator\">=</span> array[right];</span><br><span class=\"line\">      mid = (right - left) / <span class=\"number\">2</span> + left;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (array[mid] &gt; tail) &#123; <span class=\"comment\">//比尾巴还 大</span></span><br><span class=\"line\">          left  =  mid;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (array[mid] &lt; tail) &#123; <span class=\"comment\">//比尾巴还小  说明后面一段肯定是递增的</span></span><br><span class=\"line\">          right = mid ;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">//和尾巴 或者 头 一样大的时候   一个一个尝试</span></span><br><span class=\"line\">          <span class=\"comment\">// left+=1; 是过不掉 用例  1,0,1,1,1  的  原因是 我们比较的 是结尾节点的 元素(array[right])</span></span><br><span class=\"line\">          right -= <span class=\"number\">1</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array[mid];</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h2 id=\"nSum问题\">nSum问题</h2>\n<blockquote>\n<p>实际上就是把之前的题目解法合并起来了，<code>n == 2</code> 时是 <code>twoSum</code> 的双指针解法，<code>n &gt; 2</code> 时就是穷举第一个数字，然后递归调用计算 <code>(n-1)Sum</code>，组装答案。</p>\n<p><strong>需要注意的是，调用这个 <code>nSum</code> 函数之前一定要先给 <code>nums</code> 数组排序</strong>，因为 <code>nSum</code> 是一个递归函数，如果在 <code>nSum</code> 函数里调用排序函数，那么每次递归都会进行没有必要的排序，效率会非常低。</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//求和模版：</span></span><br><span class=\"line\">    List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">nSum</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">long</span> target, <span class=\"type\">int</span> n, <span class=\"type\">int</span> start)</span>&#123;</span><br><span class=\"line\">        List&lt;List&lt;Integer&gt;&gt;  res= <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n&lt;<span class=\"number\">2</span> || nums.length &lt; n)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n==<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> start;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> nums.length-<span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(left &lt; right)&#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">leftval</span>  <span class=\"operator\">=</span> nums[left];</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">rightval</span> <span class=\"operator\">=</span> nums[right];</span><br><span class=\"line\">                <span class=\"type\">long</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> leftval + rightval;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(sum &lt; target)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">while</span>(left&lt;right &amp;&amp; nums[left]==leftval) left++;</span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(sum &gt; target)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">while</span>(left&lt;right &amp;&amp; nums[right]==rightval) right--;</span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(sum == target)&#123;</span><br><span class=\"line\">                    List&lt;Integer&gt; list = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">                    list.add(nums[left]);</span><br><span class=\"line\">                    list.add(nums[right]);</span><br><span class=\"line\">                    res.add(list);</span><br><span class=\"line\">                    <span class=\"keyword\">while</span>(left &lt; right &amp;&amp; nums[left] == leftval) left++;</span><br><span class=\"line\">                    <span class=\"keyword\">while</span>(left &lt; right &amp;&amp; nums[right] == rightval) right--;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">           <span class=\"type\">int</span> i= start;</span><br><span class=\"line\">           <span class=\"keyword\">while</span>(i&lt;nums.length)&#123;</span><br><span class=\"line\">               <span class=\"type\">int</span> <span class=\"variable\">now</span> <span class=\"operator\">=</span> nums[i];</span><br><span class=\"line\">                List&lt;List&lt;Integer&gt;&gt; lists = nSum(nums,target-now,n-<span class=\"number\">1</span>,i+<span class=\"number\">1</span>);</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(List&lt;Integer&gt;list : lists)&#123;</span><br><span class=\"line\">                    list.add(now);</span><br><span class=\"line\">                    res.add(list);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">while</span>(i&lt;nums.length &amp;&amp; nums[i] == now)</span><br><span class=\"line\">                    i++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"前缀和\">==前缀和==</h2>\n<h4 id=\"一维数组前缀和\">一维数组前缀和</h4>\n<blockquote>\n<p>就是将 一个数组 前面从  下标<code>i~j</code>的多个数进行求和</p>\n</blockquote>\n<h4 id=\"核心代码\">核心代码</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">①<span class=\"comment\">//用数组存储的形式</span></span><br><span class=\"line\"><span class=\"type\">int</span> preSum[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>(nums.length+<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class=\"line\">    preSum[i] = preSum[i-<span class=\"number\">1</span>]+nums[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">---- 返回某一个 区间的 值</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">return</span> preSum[right + <span class=\"number\">1</span>] - preSum[left];</span><br><span class=\"line\"><span class=\"comment\">//Presum 的 第一位 默认为 0 ;  赋值是从 第二位（i=1）开始的  </span></span><br><span class=\"line\"><span class=\"comment\">//所以是   right + 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">②<span class=\"comment\">//不用数组存储的形式  724</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class=\"line\">       sum += nums[i];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">③<span class=\"comment\">//使用map 集合的形式：  560   1248</span></span><br><span class=\"line\"> \t\tHashMap&lt;Integer, Integer&gt; preSumMap = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;Integer, Integer&gt;();</span><br><span class=\"line\">        <span class=\"comment\">//前缀和map集合 第一位一样为0</span></span><br><span class=\"line\">        preSumMap.put(<span class=\"number\">0</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">      \t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class=\"line\">            sum+=nums[i];</span><br><span class=\"line\">            ...</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"原理：\">原理：</h4>\n<blockquote>\n<img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202303241717648.png\" alt=\"image-20230324171756609\" style=\"zoom:25%;\">\n<ul>\n<li>\n<p>这样就能得到一个新的数组<code>preSum[]  </code>，这个数组存放的 值 就是前 n  个 数求和的结果</p>\n</li>\n<li>\n<p>Presum 的 第一位 默认为 0 ;  赋值是从 第二位<code>（i=1）</code>开始的</p>\n</li>\n</ul>\n</blockquote>\n<h4 id=\"二维数组前缀和\">二维数组前缀和</h4>\n<h5 id=\"核心代码-2\">核心代码</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t<span class=\"type\">int</span> [][]preSum = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 计算每个矩阵 [0, 0, i, j] 的元素和</span></span><br><span class=\"line\">                preSum[i][j] = preSum[i-<span class=\"number\">1</span>][j] + preSum[i][j-<span class=\"number\">1</span>] + matrix[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] - preSum[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>];</span><br><span class=\"line\">                <span class=\"comment\">//获得每个矩阵的大小</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span> preSum[x2+<span class=\"number\">1</span>][y2+<span class=\"number\">1</span>] - preSum[x1][y2+<span class=\"number\">1</span>] - preSum[x2+<span class=\"number\">1</span>][y1] + preSum[x1][y1];</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==注：==<br>\n1、<code> preSum[i][j] = preSum[i-1][j] + preSum[i][j-1] + matrix[i - 1][j - 1] - preSum[i-1][j-1];</code></p>\n<ul>\n<li>\n<p>这是来获得矩阵中每一位的 值，preSum矩阵的 行<code> i</code> 列<code> j</code>表示  原矩阵  的第<code>(i-1)</code>行第<code>(j-1)</code>列的元素之和是多少</p>\n</li>\n<li>\n<p>这个公式的含义就是：</p>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202303241646207.png\" alt></p>\n<p>将已知的 <code>矩阵面积[i-1,j]（红色部分）</code> 和<code>矩阵面积[i,j-1]（红色部分）</code>之和 减去 <code>重叠矩阵面积[i,j-1]（黄色字体部分）</code> 再加上<code>原矩阵的当前值matrix[i-1,j-1]</code>   就是所求得到<code>原矩阵[i-1,j-1]面积之和</code>  存放在 <code>现在矩阵preSum[i][j]</code>中</p>\n<p><strong>注意：</strong><code>i，j</code>都是以preSum为基准，上图的矩阵是 <code>matirx</code>中的矩阵</p>\n<p>2、<code>preSum[x2+1][y2+1] - preSum[x1][y2+1] - preSum[x2+1][y1] + preSum[x1][y1];</code></p>\n<p>​\t<strong>原理</strong>：<img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202303241707744.png\" alt=\"image-20230324170718702\" style=\"zoom:25%;\"></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 560   给你一个整数数组 nums 和一个整数 k ，请你统计并返回 该数组中和为 k 的连续子数组的个数 </span></span><br><span class=\"line\">---- 前缀和变量   +  map   一边加  一边寻找  一遍put </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">subarraySum</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">            HashMap&lt;Integer, Integer&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">            <span class=\"comment\">// 第一放 0</span></span><br><span class=\"line\">            map.put(<span class=\"number\">0</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">sum</span>  <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class=\"line\">                sum += nums[i];</span><br><span class=\"line\">                <span class=\"comment\">//判断map中有没有 sum-k   要是有的话就说明有这个子集</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(map.containsKey(sum-k))&#123;</span><br><span class=\"line\">                    count+=map.get(sum-k);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                map.put(sum, map.getOrDefault(sum,<span class=\"number\">0</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">----另一种 耗时的写法:</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">subarraySum</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">            <span class=\"type\">int</span> prefix[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums.length+<span class=\"number\">1</span>];</span><br><span class=\"line\">             <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class=\"line\">                prefix[i+<span class=\"number\">1</span>] = prefix[i]+ nums[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;prefix.length;i++)&#123; </span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> i;j&lt;prefix.length-<span class=\"number\">1</span>;j++)&#123;</span><br><span class=\"line\">                    <span class=\"comment\">//此处索引偏移</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(prefix[j+<span class=\"number\">1</span>]-prefix[i] == k)&#123;</span><br><span class=\"line\">                        count++;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">//1248  给你一个整数数组 nums 和一个整数 k。如果某个连续子数组中恰好有 k 个奇数数字，我们就认为这个子数组是「优美子数组」。</span></span><br><span class=\"line\"></span><br><span class=\"line\">---- 前缀和 + 思想转换 + map</span><br><span class=\"line\">---- 奇偶 某种意义上 是等于 <span class=\"number\">0</span>/<span class=\"number\">1</span> 的</span><br><span class=\"line\">    <span class=\"comment\">// 同 560 奇数变 1，偶数变 0，然后找区间和为 k（K个1） 的子数组</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">numberOfSubarrays</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        HashMap&lt;Integer, Integer&gt; preSumMap = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;Integer, Integer&gt;();</span><br><span class=\"line\">        <span class=\"comment\">//前缀和map集合 第一位一样为0</span></span><br><span class=\"line\">        preSumMap.put(<span class=\"number\">0</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"comment\">//变更数组</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i]%<span class=\"number\">2</span> == <span class=\"number\">0</span>) nums[i] =<span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> nums[i] =<span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 求前缀和为 K 的子集个数</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class=\"line\">            sum+=nums[i];</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(preSumMap.containsKey(sum-k))&#123;</span><br><span class=\"line\">                count+=preSumMap.get(sum-k);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            preSumMap.put(sum,preSumMap.getOrDefault(sum,<span class=\"number\">0</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">//724  数组 中心下标 是数组的一个下标，其左侧所有元素相加的和等于右侧所有元素相加的和</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">pivotIndex</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        HashMap&lt;Integer, Integer&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        map.put(<span class=\"number\">0</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++)&#123;</span><br><span class=\"line\">            sum += nums[i];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class=\"line\">          sum -= nums[i];</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(sum == left) <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">          left+=nums[i];</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">------- 另外的解法</span><br><span class=\"line\">        <span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">pivotIndex</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class=\"line\">           sum += nums[i];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    <span class=\"comment\">//   方式一:判断左端 和 右端 的和</span></span><br><span class=\"line\">    <span class=\"comment\">//     for(int i =0;i&lt;nums.length;i++) &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         right = right - nums[i];</span></span><br><span class=\"line\">    <span class=\"comment\">//         if (right == left) return i;</span></span><br><span class=\"line\">    <span class=\"comment\">//         left += nums[i]; </span></span><br><span class=\"line\">    <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//方式二： 左端 和 + 中间点  = 总和</span></span><br><span class=\"line\">          <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class=\"line\">              <span class=\"comment\">//左求和*2+中心索引值 = 总和</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (left * <span class=\"number\">2</span> + nums[i] == sum) <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">            left += nums[i]; </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">map + 前缀和的模版</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">subarraySum</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// k-v k:前缀和（有N个奇数） v：有几种情况</span></span><br><span class=\"line\">        HashMap&lt;Integer, Integer&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">        map.put(<span class=\"number\">0</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> num : nums) &#123;</span><br><span class=\"line\">--------模版：      <span class=\"comment\">//（sum += num）</span></span><br><span class=\"line\">    </span><br><span class=\"line\">----------<span class=\"number\">1248</span>     sum+=<span class=\"number\">1</span>; <span class=\"comment\">//就是转为0（偶数）/1（奇数）</span></span><br><span class=\"line\">-------<span class=\"number\">560</span>         sum += num; <span class=\"comment\">//724也这么写</span></span><br><span class=\"line\">            </span><br><span class=\"line\">            </span><br><span class=\"line\">            </span><br><span class=\"line\">------<span class=\"number\">560</span> <span class=\"number\">1248</span>  能在一个循环的写原因是  每次累加求和 的sum 都要进行比较          </span><br><span class=\"line\">         <span class=\"keyword\">if</span> (map.containsKey(sum - k)) &#123;</span><br><span class=\"line\">              count += map.get(sum - k);</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">         map.put(sum, map.getOrDefault(sum,<span class=\"number\">0</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">//----724 要两次循环  因为在拿到结果之后再进行比较</span></span><br><span class=\"line\"><span class=\"comment\">//    \tfor(int i= 0;i&lt;nums.length;i++)&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//          sum -= nums[i];</span></span><br><span class=\"line\"><span class=\"comment\">//          if(sum == count) return i;</span></span><br><span class=\"line\"><span class=\"comment\">//          count+=nums[i];</span></span><br><span class=\"line\"><span class=\"comment\">//        &#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>1248  滑动窗口的解法：</p>\n<blockquote>\n<p>样例：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;输入：nums = [2,2,2,1,2,2,1,2,2,2], k = 2</span><br><span class=\"line\">&gt;输出：16</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">numberOfSubarrays</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>, right = <span class=\"number\">0</span>, oddCnt = <span class=\"number\">0</span>, res = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (right &lt; nums.length) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 右指针先走，每遇到一个奇数则 oddCnt++。</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> ((nums[right++]  % <span class=\"number\">2</span>) == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">          oddCnt++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">//  若当前滑动窗口 [left, right) 中有 k 个奇数了，进入此分支统计当前滑动窗口中的优美子数组个数。</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (oddCnt == k) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 先将滑动窗口的右边界向右拓展，直到遇到下一个奇数（或出界）</span></span><br><span class=\"line\">          <span class=\"comment\">// rightEvenCnt 即为第 k 个奇数右边的偶数的个数</span></span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">tmp</span> <span class=\"operator\">=</span> right;</span><br><span class=\"line\">          <span class=\"keyword\">while</span> (right &lt; nums.length &amp;&amp; (nums[right] % <span class=\"number\">2</span>) == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">              right++;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">rightEvenCnt</span> <span class=\"operator\">=</span> right - tmp;</span><br><span class=\"line\">          <span class=\"comment\">// leftEvenCnt 即为第 1 个奇数左边的偶数的个数</span></span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">leftEvenCnt</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">          <span class=\"keyword\">while</span> ((nums[left] % <span class=\"number\">2</span>) == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">              leftEvenCnt++;</span><br><span class=\"line\">              left++;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">// 第 1 个奇数左边的 leftEvenCnt 个偶数都可以作为优美子数组的起点</span></span><br><span class=\"line\">          <span class=\"comment\">// (因为第1个奇数左边可以1个偶数都不取，所以起点的选择有 leftEvenCnt + 1 种）</span></span><br><span class=\"line\">          <span class=\"comment\">// 第 k 个奇数右边的 rightEvenCnt 个偶数都可以作为优美子数组的终点</span></span><br><span class=\"line\">          <span class=\"comment\">// (因为第k个奇数右边可以1个偶数都不取，所以终点的选择有 rightEvenCnt + 1 种）</span></span><br><span class=\"line\">          <span class=\"comment\">// 所以该滑动窗口中，优美子数组左右起点的选择组合数为 (leftEvenCnt + 1) * (rightEvenCnt + 1)</span></span><br><span class=\"line\">          res += (leftEvenCnt + <span class=\"number\">1</span>) * (rightEvenCnt + <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"comment\">// 此时 left 指向的是第 1 个奇数，因为该区间已经统计完了，因此 left 右移一位，oddCnt--</span></span><br><span class=\"line\">          left++;</span><br><span class=\"line\">          oddCnt--;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h2 id=\"差分数组\">差分数组</h2>\n<blockquote>\n<p><strong>主要适用场景</strong> 是频繁对原始数组的<strong>某个区间的元素进行增减</strong>。</p>\n<p>总共需要<code>三个数组</code></p>\n</blockquote>\n<h4 id=\"核心代码-3\">核心代码</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">diff[<span class=\"number\">0</span>] = nums[<span class=\"number\">0</span>];  <span class=\"comment\">//区别</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= <span class=\"number\">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class=\"line\">    diff[i] = nums[i]-nums[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<h4 id=\"原理：-2\">原理：</h4>\n<blockquote>\n<img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202303241742451.png\" style=\"zoom:25%;\">\n<p>之后就可以经由 差分数组 <strong>反推</strong> 原数组</p>\n</blockquote>\n<h4 id=\"反推代码\">反推代码</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> res[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [diff.length];</span><br><span class=\"line\">res[<span class=\"number\">0</span>] = diff[<span class=\"number\">0</span>];  <span class=\"comment\">// 同上 </span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i&lt;diff.length;i++)&#123;</span><br><span class=\"line\">    res[i] = res[i-<span class=\"number\">1</span>]+diff[i];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>如果要对区间 <code>nums[i..j]</code> 的元素全部加 3，那么只需要让 <code>diff[i] += 3</code>，然后再让 <code>diff[j+1] -= 3</code> 即可</p>\n<p>​\t<strong>其实 nums[] 和 diff[] 是一样长的，所以下标长度位置也是一样的</strong>，所以直接 j+1</p>\n</blockquote>\n<h4 id=\"代码组合\">代码组合</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 正推 差分数组</span></span><br><span class=\"line\">\t<span class=\"type\">int</span>[] diff = <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">Difference</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>( nums.length == <span class=\"number\">0</span>)  <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">        </span><br><span class=\"line\">        diff = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums.length];</span><br><span class=\"line\">        diff[<span class=\"number\">0</span>] = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">            diff[i] = nums[i] - nums[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">// 反推原数组</span></span><br><span class=\"line\"> \t<span class=\"keyword\">public</span> <span class=\"type\">int</span>[] result() &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span>[] res = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[diff.length];</span><br><span class=\"line\">       </span><br><span class=\"line\">        res[<span class=\"number\">0</span>] = diff[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; diff.length; i++) &#123;</span><br><span class=\"line\">            res[i] = res[i - <span class=\"number\">1</span>] + diff[i];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//进行增加（+ 正数）、减少（+ 负数）操作</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">increment</span><span class=\"params\">(<span class=\"type\">int</span> i, <span class=\"type\">int</span> j, <span class=\"type\">int</span> val)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  diff[i] 加 val   diff是差分数组   意味着从 [i]开始之后的每一个原数组中的数都会+3  就是说，这个加的数是 差值</span></span><br><span class=\"line\">        diff[i] += val;  </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (j + <span class=\"number\">1</span> &lt; diff.length) &#123;</span><br><span class=\"line\">            diff[j + <span class=\"number\">1</span>] -= val;</span><br><span class=\"line\">            <span class=\"comment\">//当 j+1 &gt;= diff.length 时，说明是对 nums[i] 及以后的整个数组都进行修改，那么就不需要再给 diff 数组减 val 了。</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"模版整合\">模版整合</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//航班预定统计    +    拼车  </span></span><br><span class=\"line\">\t<span class=\"type\">int</span> diff[];</span><br><span class=\"line\">    <span class=\"type\">int</span> result [];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span>[] corpFlightBookings(<span class=\"type\">int</span>[][] bookings, <span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        result = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [n];</span><br><span class=\"line\">        diff = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [n];</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n == <span class=\"number\">0</span> || bookings.length == <span class=\"number\">0</span> ) <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 正推 diff 数组的值</span></span><br><span class=\"line\">        <span class=\"comment\">//diff[0] = nums[0];</span></span><br><span class=\"line\">        <span class=\"comment\">//for(int i = 1; i &lt; n-1; i++)&#123;</span></span><br><span class=\"line\">        \t<span class=\"comment\">// 某个一维数组 nums</span></span><br><span class=\"line\">            <span class=\"comment\">//diff[i] = nums[i]-nums[i-1];</span></span><br><span class=\"line\">        <span class=\"comment\">//&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 循环 且 操作</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> []booking :bookings)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> booking[<span class=\"number\">0</span>]-<span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> booking[<span class=\"number\">1</span>]-<span class=\"number\">1</span>;  <span class=\"comment\">//-1 是因为下标是从 1 开始的，要是从 0 开始就不用 -1</span></span><br><span class=\"line\">            <span class=\"type\">int</span> val=booking[<span class=\"number\">2</span>];</span><br><span class=\"line\">            \t\t\t\t\t\t\t <span class=\"comment\">//  航班预订统计</span></span><br><span class=\"line\">            \t\t\t\t\t\t\t <span class=\"comment\">//  int j  = trip[2]-1; //坐标范围： 0 &lt;= fromi &lt; toi &lt;= 1000</span></span><br><span class=\"line\">            \t\t\t\t\t\t\t\t\t\t\t\t\t <span class=\"comment\">//但是 在 trip[2]  位置已经下车，在车上的区间就是  [trip[1],trip[2]-1]</span></span><br><span class=\"line\">           <span class=\"comment\">// 进行操作</span></span><br><span class=\"line\">            diff[i] += val;</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"comment\">//diff.length</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(j+<span class=\"number\">1</span>&lt;diff.length)&#123;</span><br><span class=\"line\">            \tdiff[j+<span class=\"number\">1</span>] -= val;</span><br><span class=\"line\">        \t&#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 反推 原数组的值</span></span><br><span class=\"line\">        result[<span class=\"number\">0</span>] = diff[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;diff.length;i++)&#123;</span><br><span class=\"line\">            result[i] = result[i-<span class=\"number\">1</span>]+diff[i];</span><br><span class=\"line\">            \t<span class=\"comment\">//拼车时：</span></span><br><span class=\"line\">            \t <span class=\"keyword\">if</span>(res[i] &gt; capacity) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;    <span class=\"comment\">//return true;</span></span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"单调栈\">单调栈</h2>\n<h4 id=\"模版\">模版</h4>\n<blockquote>\n<p>==注意== 所有入栈的元素全是 数组下标  <code> Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();  //存的都是角标</code></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span>()&#123;...见下&#125;</span><br><span class=\"line\"><span class=\"comment\">// 最大面积    单调减栈 -----------------------------------数组扩容，收尾 + 0</span></span><br><span class=\"line\"> <span class=\"comment\">// 当前 比 前面的都要 小的栈顶元素</span></span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> res[stack.peek()];</span><br><span class=\"line\">                <span class=\"comment\">//System.out.print(mid);</span></span><br><span class=\"line\">                stack.pop();</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(!stack.isEmpty())&#123;</span><br><span class=\"line\">                     <span class=\"comment\">// 左边第一个比 当前值小 的柱子</span></span><br><span class=\"line\">                    <span class=\"comment\">//int left = res[stack.peek()];</span></span><br><span class=\"line\">                    <span class=\"comment\">//System.out.print(left);</span></span><br><span class=\"line\">                    <span class=\"comment\">// 右边第一个比 当前值小 的柱子</span></span><br><span class=\"line\">                    <span class=\"comment\">//int right = res[i];</span></span><br><span class=\"line\">                    <span class=\"comment\">//System.out.print(right);</span></span><br><span class=\"line\">                    <span class=\"comment\">// 左右最小柱子之间的 间隔 底</span></span><br><span class=\"line\">                    <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> i-stack.peek()-<span class=\"number\">1</span>;</span><br><span class=\"line\">                    <span class=\"comment\">//System.out.print(len);</span></span><br><span class=\"line\">                    <span class=\"comment\">// 以当前柱子为 高 算得 最 大面积</span></span><br><span class=\"line\">                    result= Math.max(result,mid*len);</span><br><span class=\"line\">                    <span class=\"comment\">//System.out.print(result);</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==496  下一个更大数 I==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"type\">int</span> result[];</span><br><span class=\"line\">&gt;<span class=\"type\">int</span> []res;</span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span>[] nextGreaterElement(<span class=\"type\">int</span>[] nums1, <span class=\"type\">int</span>[] nums2) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  res = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums2.length];</span><br><span class=\"line\">  Arrays.fill(res,-<span class=\"number\">1</span>);</span><br><span class=\"line\">  result  = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums1.length];</span><br><span class=\"line\">  Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">  HashMap&lt;Integer, Integer&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">  <span class=\"comment\">//先将 第 0 个 元素加入到栈，防止栈空 </span></span><br><span class=\"line\">  stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums2.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">//单调递增栈</span></span><br><span class=\"line\">      <span class=\"keyword\">while</span>(!stack.isEmpty() &amp;&amp; nums2[i]&gt;nums2[stack.peek()]) &#123;</span><br><span class=\"line\">          res[stack.peek()] = nums2[i];</span><br><span class=\"line\">          stack.pop();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      stack.push(i);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums2.length; i++) &#123;</span><br><span class=\"line\">      map.put(nums2[i],res[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums1.length; i++) &#123;</span><br><span class=\"line\">      result[i]= map.get(nums1[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p>==503 下一个更大数 II==</p>\n<p>==环形数组处理方法==  % 取余  加长数组长度，使数组长 * 2   之后对所有的i 相关操作 % nums.length</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"type\">int</span> res[];</span><br><span class=\"line\">&gt;<span class=\"type\">int</span> result[];</span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span>[] nextGreaterElements(<span class=\"type\">int</span>[] nums) &#123;</span><br><span class=\"line\">  res = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">2</span> * nums.length];</span><br><span class=\"line\">  result = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums.length];</span><br><span class=\"line\">  Arrays.fill(res,-<span class=\"number\">1</span>);</span><br><span class=\"line\">  Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">  stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;<span class=\"number\">2</span> * nums.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(!stack.isEmpty() &amp;&amp; nums[i%nums.length] &gt; nums[stack.peek()]) &#123;</span><br><span class=\"line\">          res[stack.peek()] = nums[i%nums.length];</span><br><span class=\"line\">          stack.pop();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      stack.push(i%nums.length);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">      result[i] = res[i];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p>==739  每日温度  下一个大的数的角标==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span>[] dailyTemperatures(<span class=\"type\">int</span>[] temperatures) &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> []res  = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [temperatures.length];</span><br><span class=\"line\">  Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();  <span class=\"comment\">//存的都是角标</span></span><br><span class=\"line\">  <span class=\"comment\">// 首先把数组的 第一个元素入栈，随后才能比较</span></span><br><span class=\"line\">  stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i &lt; temperatures.length;i++)&#123;</span><br><span class=\"line\">      <span class=\"comment\">// 这里 temperatures[i]&gt;temperatures[stack.peek()]  大于  就是单调增 栈</span></span><br><span class=\"line\">      <span class=\"comment\">//       \t\t\t  &lt;\t\t\t\t\t\t\t   小于  就是单调减 栈</span></span><br><span class=\"line\">      <span class=\"keyword\">while</span>(!stack.isEmpty() &amp;&amp; temperatures[i]&gt;temperatures[stack.peek()])&#123;</span><br><span class=\"line\">          <span class=\"comment\">// 返回下标之间的差值</span></span><br><span class=\"line\">          res[stack.peek()] = i - stack.peek();   </span><br><span class=\"line\">          <span class=\"comment\">// 返回下标对应的值</span></span><br><span class=\"line\">          <span class=\"comment\">//res[stack.peek()] = nums2[i];     两个数组的话可以用map进行接收 </span></span><br><span class=\"line\">          stack.pop();</span><br><span class=\"line\">      &#125;  </span><br><span class=\"line\">      stack.push(i);      </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p>==42接雨水==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">trap</span><span class=\"params\">(<span class=\"type\">int</span>[] height)</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> res [] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[height.length];</span><br><span class=\"line\">  Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">  stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span> ;</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; height.length;i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(!stack.isEmpty() &amp;&amp; height[i] &gt; height[stack.peek()]) &#123;</span><br><span class=\"line\">       <span class=\"comment\">// 接雨水    单调增栈</span></span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> height[stack.peek()];</span><br><span class=\"line\">          <span class=\"comment\">// 出栈</span></span><br><span class=\"line\">          stack.pop();</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(!stack.isEmpty())&#123;</span><br><span class=\"line\">              <span class=\"comment\">// 左边第一个高的   就是栈里面 凹槽值 的下一个</span></span><br><span class=\"line\">              <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span>height[stack.peek()];</span><br><span class=\"line\">              <span class=\"comment\">// 右边第一个高的   就是当前要进栈的值</span></span><br><span class=\"line\">              <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span>height[i];</span><br><span class=\"line\">              <span class=\"comment\">// 底</span></span><br><span class=\"line\">              <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> i-stack.peek()-<span class=\"number\">1</span>;  <span class=\"comment\">//-1</span></span><br><span class=\"line\">              <span class=\"comment\">// 高</span></span><br><span class=\"line\">              <span class=\"type\">int</span> <span class=\"variable\">hei</span> <span class=\"operator\">=</span> Math.min(left,right)-mid;</span><br><span class=\"line\">              <span class=\"comment\">//面积 = 底*高</span></span><br><span class=\"line\">              sum +=  hei*len;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">         stack.push(i);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p>==84一维最大面积==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">largestRectangleArea</span><span class=\"params\">(<span class=\"type\">int</span>[] heights)</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 思路是 算出每个柱子为高的最大面积 比较大小</span></span><br><span class=\"line\">  <span class=\"type\">int</span> res[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[heights.length +<span class=\"number\">2</span>];</span><br><span class=\"line\">  <span class=\"type\">int</span> result= <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">//收尾加0 防止特殊情况 &lt;=</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= heights.length; i++) &#123;</span><br><span class=\"line\">     res[i] = heights[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//单调递减栈</span></span><br><span class=\"line\">  Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">  stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; res.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(!stack.isEmpty() &amp;&amp; res[i] &lt; res[stack.peek()]) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 当前 比 前面的都要 小的栈顶元素</span></span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> res[stack.peek()];</span><br><span class=\"line\">          <span class=\"comment\">//System.out.print(mid);</span></span><br><span class=\"line\">          stack.pop();</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(!stack.isEmpty())&#123;</span><br><span class=\"line\">               <span class=\"comment\">// 左边第一个比 当前值小 的柱子</span></span><br><span class=\"line\">              <span class=\"comment\">//int left = res[stack.peek()];</span></span><br><span class=\"line\"></span><br><span class=\"line\">              <span class=\"comment\">// 右边第一个比 当前值小 的柱子</span></span><br><span class=\"line\">              <span class=\"comment\">//int right = res[i];</span></span><br><span class=\"line\"></span><br><span class=\"line\">              <span class=\"comment\">// 左右最小柱子之间的 间隔 底</span></span><br><span class=\"line\">              <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> i-stack.peek()-<span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">              <span class=\"comment\">// 以当前柱子为 高 算得 最 大面积</span></span><br><span class=\"line\">              result= Math.max(result,mid*len);</span><br><span class=\"line\"></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      stack.push(i);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p>==85 二维最大面积==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maximalRectangle</span><span class=\"params\">(<span class=\"type\">char</span>[][] matrix)</span> &#123;</span><br><span class=\"line\">&gt;<span class=\"type\">int</span>  <span class=\"variable\">m</span> <span class=\"operator\">=</span> matrix.length;</span><br><span class=\"line\">&gt;<span class=\"type\">int</span>  <span class=\"variable\">n</span> <span class=\"operator\">=</span> matrix[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">&gt;<span class=\"type\">int</span> height[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n];</span><br><span class=\"line\">&gt;<span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"> <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m;i++)&#123;</span><br><span class=\"line\">     <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;j &lt; n;j++)&#123;</span><br><span class=\"line\">         <span class=\"keyword\">if</span>(matrix[i][j]==<span class=\"string\">&#x27;1&#x27;</span>)</span><br><span class=\"line\">             height[j] +=<span class=\"number\">1</span>;</span><br><span class=\"line\">         <span class=\"keyword\">else</span></span><br><span class=\"line\">             height[j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">      <span class=\"comment\">// 每一层都进行 求面积  和 对面积的比较</span></span><br><span class=\"line\">      res = Math.max(res,largestRectangleArea(height));</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&gt;<span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">largestRectangleArea</span><span class=\"params\">(<span class=\"type\">int</span>[] heights)</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 思路是 算出每个柱子为高的最大面积 比较大小</span></span><br><span class=\"line\">      <span class=\"type\">int</span> res[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[heights.length +<span class=\"number\">2</span>];</span><br><span class=\"line\">      <span class=\"type\">int</span> result= <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"comment\">//收尾加0 防止特殊情况 &lt;=</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= heights.length; i++) &#123;</span><br><span class=\"line\">         res[i] = heights[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">//单调递减栈</span></span><br><span class=\"line\">      Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">      stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; res.length; i++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">while</span>(!stack.isEmpty() &amp;&amp; res[i] &lt; res[stack.peek()]) &#123;</span><br><span class=\"line\">              <span class=\"comment\">// 当前 比 前面的都要 小的栈顶元素</span></span><br><span class=\"line\">              <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> res[stack.peek()];</span><br><span class=\"line\">              <span class=\"comment\">//System.out.print(mid);</span></span><br><span class=\"line\">              stack.pop();</span><br><span class=\"line\">              <span class=\"keyword\">if</span>(!stack.isEmpty())&#123;</span><br><span class=\"line\">                   <span class=\"comment\">// 左边第一个比 当前值小 的柱子</span></span><br><span class=\"line\">                  <span class=\"comment\">//int left = res[stack.peek()];</span></span><br><span class=\"line\"></span><br><span class=\"line\">                  <span class=\"comment\">// 右边第一个比 当前值小 的柱子</span></span><br><span class=\"line\">                  <span class=\"comment\">//int right = res[i];</span></span><br><span class=\"line\"></span><br><span class=\"line\">                  <span class=\"comment\">// 左右最小柱子之间的 间隔 底</span></span><br><span class=\"line\">                  <span class=\"type\">int</span> <span class=\"variable\">len</span> <span class=\"operator\">=</span> i-stack.peek()-<span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">                  <span class=\"comment\">// 以当前柱子为 高 算得 最 大面积</span></span><br><span class=\"line\">                  result= Math.max(result,mid*len);</span><br><span class=\"line\"></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          stack.push(i);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h2 id=\"字典树\">字典树</h2>\n<h4 id=\"应用场景：处理字符串前缀相关\">应用场景：处理字符串前缀相关</h4>\n<h4 id=\"基本介绍\">基本介绍</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TrieMap中的树节点TrieNode的代码实现是这样</span><br><span class=\"line\"></span><br><span class=\"line\">TrieMap&lt;V&gt;的键必须是字符串类型，值的类型V可以随意</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">/* Trie 树节点实现 */</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">TrieNode</span>&lt;V&gt; &#123;</span><br><span class=\"line\">    <span class=\"type\">V</span> <span class=\"variable\">val</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    TrieNode&lt;V&gt;[] children = <span class=\"keyword\">new</span> <span class=\"title class_\">TrieNode</span>[<span class=\"number\">256</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">val字段存储键对应的值，children数组存储指向子节点的指针。</span><br><span class=\"line\">    </span><br><span class=\"line\">TrieNode中children数组的索引是有意义的，代表键中的一个字符。</span><br><span class=\"line\">比如说children[<span class=\"number\">97</span>]如果非空，说明这里存储了一个字符<span class=\"string\">&#x27;a&#x27;</span>，因为<span class=\"string\">&#x27;a&#x27;</span>的 ASCII 码为 <span class=\"number\">97</span>。</span><br><span class=\"line\">    </span><br><span class=\"line\">TrieNode节点本身只存储val字段，并没有一个字段来存储字符，字符是通过子节点在父节点的children数组中的索引确定的</span><br><span class=\"line\">    </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==Trie 树用「树枝」存储字符串（键），用「节点」存储字符串（键）对应的数据（值）。==</p>\n</blockquote>\n<h4 id=\"API\">API</h4>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TreeMap API </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">// 底层用 Trie 树实现的键值映射</span></span><br><span class=\"line\"><span class=\"comment\">// 键为 String 类型，值为类型 V</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">TrieMap</span>&lt;V&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/***** 增/改 *****/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在 Map 中添加 key</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">put</span><span class=\"params\">(String key, V val)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/***** 删 *****/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 删除键 key 以及对应的值</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">remove</span><span class=\"params\">(String key)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/***** 查 *****/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 搜索 key 对应的值，不存在则返回 null</span></span><br><span class=\"line\">    <span class=\"comment\">// get(&quot;the&quot;) -&gt; 4</span></span><br><span class=\"line\">    <span class=\"comment\">// get(&quot;tha&quot;) -&gt; null</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> V <span class=\"title function_\">get</span><span class=\"params\">(String key)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 判断 key 是否存在在 Map 中</span></span><br><span class=\"line\">    <span class=\"comment\">// containsKey(&quot;tea&quot;) -&gt; false</span></span><br><span class=\"line\">    <span class=\"comment\">// containsKey(&quot;team&quot;) -&gt; true</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">containsKey</span><span class=\"params\">(String key)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在 Map 的所有键中搜索 query 的最短前缀</span></span><br><span class=\"line\">    <span class=\"comment\">// shortestPrefixOf(&quot;themxyz&quot;) -&gt; &quot;the&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">shortestPrefixOf</span><span class=\"params\">(String query)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在 Map 的所有键中搜索 query 的最长前缀</span></span><br><span class=\"line\">    <span class=\"comment\">// longestPrefixOf(&quot;themxyz&quot;) -&gt; &quot;them&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">longestPrefixOf</span><span class=\"params\">(String query)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 搜索所有前缀为 prefix 的键</span></span><br><span class=\"line\">    <span class=\"comment\">// keysWithPrefix(&quot;th&quot;) -&gt; [&quot;that&quot;, &quot;the&quot;, &quot;them&quot;]</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">keysWithPrefix</span><span class=\"params\">(String prefix)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 判断是和否存在前缀为 prefix 的键</span></span><br><span class=\"line\">    <span class=\"comment\">// hasKeyWithPrefix(&quot;tha&quot;) -&gt; true</span></span><br><span class=\"line\">    <span class=\"comment\">// hasKeyWithPrefix(&quot;apple&quot;) -&gt; false</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">hasKeyWithPrefix</span><span class=\"params\">(String prefix)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 通配符 . 匹配任意字符，搜索所有匹配的键</span></span><br><span class=\"line\">    <span class=\"comment\">// keysWithPattern(&quot;t.a.&quot;) -&gt; [&quot;team&quot;, &quot;that&quot;]</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">keysWithPattern</span><span class=\"params\">(String pattern)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 通配符 . 匹配任意字符，判断是否存在匹配的键</span></span><br><span class=\"line\">    <span class=\"comment\">// hasKeyWithPattern(&quot;.ip&quot;) -&gt; true</span></span><br><span class=\"line\">    <span class=\"comment\">// hasKeyWithPattern(&quot;.i&quot;) -&gt; false</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">hasKeyWithPattern</span><span class=\"params\">(String pattern)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 返回 Map 中键值对的数量</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">size</span><span class=\"params\">()</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"API实现\">API实现</h4>\n<blockquote>\n<p><code>TrieMap</code>类中一定需要记录 Trie 的根节点<code>root</code>，以及 Trie 树中的所有节点数量用于实现<code>size()</code>方法</p>\n</blockquote>\n<h5 id=\"实现containsKey方法和get方法\">实现<code>containsKey</code>方法和<code>get</code>方法</h5>\n<blockquote>\n<p><strong>就算<code>getNode(key)</code>的返回值<code>x</code>非空，也只能说字符串<code>key</code>是一个「前缀」；除非<code>x.val</code>同时非空，才能判断键<code>key</code>存在</strong>。</p>\n</blockquote>\n<h5 id=\"实现shortestPrefixOf方法\">实现<code>shortestPrefixOf</code>方法</h5>\n<blockquote>\n<p><strong>这里需要注意的是 for 循环结束之后我们还需要额外检查一下</strong>。</p>\n<p>因为之前说了 Trie 树中「树枝」存储字符串，「节点」存储字符串对应的值，for 循环相当于只遍历了「树枝」，但漏掉了最后一个「节点」，即<code>key</code>本身就是<code>TrieMap</code>中的一个键的情况。</p>\n</blockquote>\n<h5 id=\"实现-longestPrefixOf-方法\">实现 <code>longestPrefixOf </code>方法</h5>\n<blockquote>\n<p>每次遇到<code>p.val</code>非空的时候说明找到一个键，但是我们不急着返回，而是更新<code>max_len</code>变量，记录最长前缀的长度。</p>\n<p>同样的，在 for 循环结束时还是要特殊判断一下，处理<code>key</code>本身就是键的情况。</p>\n</blockquote>\n<h5 id=\"实现keysWithPrefix方法\">实现<code>keysWithPrefix</code>方法</h5>\n<blockquote>\n<p>得到所有前缀为<code>prefix</code>的键:先利用<code>getNode</code>函数在 Trie 树中找到<code>prefix</code>对应的节点<code>x</code>，然施展多叉树的遍历算法，遍历以<code>x</code>为根的这棵 Trie 树，找到所有键值对：</p>\n</blockquote>\n<h5 id=\"实现keysWithPattern方法\">实现<code>keysWithPattern</code>方法</h5>\n<blockquote>\n<p>使用通配符来匹配多个键，其关键就在于通配符<code>.</code>可以匹配所有字符</p>\n</blockquote>\n<blockquote>\n<p><code>keysWithPattern</code>和<code>keysWithPrefix</code>的实现是有些类似的，而且这两个函数还有一个潜在的特性：<strong>它们返回的结果列表一定是符合「字典序」的</strong>。</p>\n</blockquote>\n<h5 id=\"实现hasKeyWithPattern方法\">实现<code>hasKeyWithPattern</code>方法</h5>\n<blockquote>\n<p>判断是否存在键匹配模式串</p>\n</blockquote>\n<h5 id=\"实现put方法\">实现<code>put</code>方法</h5>\n<blockquote>\n<p><strong>Trie 树中的键就是「树枝」，值就是「节点」，所以插入的逻辑就是沿路新建「树枝」，把<code>key</code>的整条「树枝」构建出来之后，在树枝末端的「节点」中存储<code>val</code></strong>：</p>\n</blockquote>\n<h5 id=\"实现remove函数\">实现<code>remove</code>函数</h5>\n<blockquote>\n<p>如果你想删除键<code>&quot;team&quot;</code>，那么需要删掉<code>&quot;eam&quot;</code>这条树枝才是符合逻辑的;删多了肯定不行，但删少了也不行，否则前文实现的<code>hasKeyWithPrefix</code>就会出错。</p>\n<p>首先，递归修改数据结构的时候，如果一个节点想删掉自己，直接返回空指针就行了。</p>\n<p><strong>其次，一个节点如何知道自己是否需要被删除呢？主要看自己的<code>val</code>字段是否为空以及自己的<code>children</code>数组是否全都是空指针</strong>。</p>\n<p><strong>一个节点如何知道自己是否需要被删除呢？主要看自己的<code>val</code>字段是否为空以及自己的<code>children</code>数组是否全都是空指针</strong>。</p>\n<p>==后序位置的特点==</p>\n<p>一个节点要先递归处理子树，然后在后序位置检查自己的<code>val</code>字段和<code>children</code>列表，判断自己是否需要被删除。</p>\n<p>如果自己的<code>val</code>字段为空，说明自己没有存储值，如果同时自己的<code>children</code>数组全是空指针，说明自己下面也没有接树枝，即不是任何一个键的前缀。这种情况下这个节点就没有存在的意义了，应该删掉自己。</p>\n</blockquote>\n<h5 id=\"TrieMap完整API\"><code>TrieMap</code>完整API</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">TrieMap</span>&lt;V&gt; &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ASCII 码个数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">int</span> <span class=\"variable\">R</span> <span class=\"operator\">=</span> <span class=\"number\">256</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 当前存在 Map 中的键值对个数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">size</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// Trie 树的根节点</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> TrieNode&lt;V&gt; root = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TrieNode</span>&lt;V&gt; &#123;</span><br><span class=\"line\">        <span class=\"type\">V</span> <span class=\"variable\">val</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        TrieNode&lt;V&gt;[] children = <span class=\"keyword\">new</span> <span class=\"title class_\">TrieNode</span>[R];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/***** 增/改 *****/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在 map 中添加或修改键值对</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">put</span><span class=\"params\">(String key, V val)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!containsKey(key)) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 新增键值对</span></span><br><span class=\"line\">            size++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 需要一个额外的辅助函数，并接收其返回值</span></span><br><span class=\"line\">        root = put(root, key, val, <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 定义：向以 node 为根的 Trie 树中插入 key[i..]，返回插入完成后的根节点</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> TrieNode&lt;V&gt; <span class=\"title function_\">put</span><span class=\"params\">(TrieNode&lt;V&gt; node, String key, V val, <span class=\"type\">int</span> i)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果树枝不存在，新建</span></span><br><span class=\"line\">            node = <span class=\"keyword\">new</span> <span class=\"title class_\">TrieNode</span>&lt;&gt;();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i == key.length()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// key 的路径已插入完成，将值 val 存入节点</span></span><br><span class=\"line\">            node.val = val;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> key.charAt(i);</span><br><span class=\"line\">        <span class=\"comment\">// 递归插入子节点，并接收返回值</span></span><br><span class=\"line\">        node.children[c] = put(node.children[c], key, val, i + <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/***** 删 *****/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在 Map 中删除 key</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">remove</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!containsKey(key)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 递归修改数据结构要接收函数的返回值</span></span><br><span class=\"line\">        root = remove(root, key, <span class=\"number\">0</span>);</span><br><span class=\"line\">        size--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 定义：在以 node 为根的 Trie 树中删除 key[i..]，返回删除后的根节点</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> TrieNode&lt;V&gt; <span class=\"title function_\">remove</span><span class=\"params\">(TrieNode&lt;V&gt; node, String key, <span class=\"type\">int</span> i)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i == key.length()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 找到了 key 对应的 TrieNode，删除 val</span></span><br><span class=\"line\">            node.val = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> key.charAt(i);</span><br><span class=\"line\">            <span class=\"comment\">// 递归去子树进行删除</span></span><br><span class=\"line\">            node.children[c] = remove(node.children[c], key, i + <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 后序位置，递归路径上的节点可能需要被清理</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (node.val != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果该 TireNode 存储着 val，不需要被清理</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 检查该 TrieNode 是否还有后缀</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; c &lt; R; c++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node.children[c] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 只要存在一个子节点（后缀树枝），就不需要被清理</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 既没有存储 val，也没有后缀树枝，则该节点需要被清理</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/***** 查 *****/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 搜索 key 对应的值，不存在则返回 null</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> V <span class=\"title function_\">get</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 从 root 开始搜索 key</span></span><br><span class=\"line\">        TrieNode&lt;V&gt; x = getNode(root, key);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (x == <span class=\"literal\">null</span> || x.val == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// x 为空或 x 的 val 字段为空都说明 key 没有对应的值</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> x.val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 判断 key 是否存在在 Map 中</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">containsKey</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> get(key) != <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 判断是和否存在前缀为 prefix 的键</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">hasKeyWithPrefix</span><span class=\"params\">(String prefix)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 只要能找到一个节点，就是存在前缀</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> getNode(root, prefix) != <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在所有键中寻找 query 的最短前缀</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">shortestPrefixOf</span><span class=\"params\">(String query)</span> &#123;</span><br><span class=\"line\">        TrieNode&lt;V&gt; p = root;</span><br><span class=\"line\">        <span class=\"comment\">// 从节点 node 开始搜索 key</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; query.length(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (p == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 无法向下搜索</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (p.val != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 找到一个键是 query 的前缀</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> query.substring(<span class=\"number\">0</span>, i);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 向下搜索</span></span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> query.charAt(i);</span><br><span class=\"line\">            p = p.children[c];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (p != <span class=\"literal\">null</span> &amp;&amp; p.val != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果 query 本身就是一个键</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> query;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在所有键中寻找 query 的最长前缀</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">longestPrefixOf</span><span class=\"params\">(String query)</span> &#123;</span><br><span class=\"line\">        TrieNode&lt;V&gt; p = root;</span><br><span class=\"line\">        <span class=\"comment\">// 记录前缀的最大长度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">max_len</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 从节点 node 开始搜索 key</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; query.length(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (p == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 无法向下搜索</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (p.val != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 找到一个键是 query 的前缀，更新前缀的最大长度</span></span><br><span class=\"line\">                max_len = i;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 向下搜索</span></span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> query.charAt(i);</span><br><span class=\"line\">            p = p.children[c];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (p != <span class=\"literal\">null</span> &amp;&amp; p.val != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果 query 本身就是一个键</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> query;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> query.substring(<span class=\"number\">0</span>, max_len);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 搜索前缀为 prefix 的所有键</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">keysWithPrefix</span><span class=\"params\">(String prefix)</span> &#123;</span><br><span class=\"line\">        List&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">// 找到匹配 prefix 在 Trie 树中的那个节点</span></span><br><span class=\"line\">        TrieNode&lt;V&gt; x = getNode(root, prefix);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (x == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// DFS 遍历以 x 为根的这棵 Trie 树</span></span><br><span class=\"line\">        traverse(x, <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>(prefix), res);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 遍历以 node 节点为根的 Trie 树，找到所有键</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">traverse</span><span class=\"params\">(TrieNode&lt;V&gt; node, StringBuilder path, List&lt;String&gt; res)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 到达 Trie 树底部叶子结点</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (node.val != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 找到一个 key，添加到结果列表中</span></span><br><span class=\"line\">            res.add(path.toString());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 回溯算法遍历框架</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; c &lt; R; c++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 做选择</span></span><br><span class=\"line\">            path.append(c);</span><br><span class=\"line\">            traverse(node.children[c], path, res);</span><br><span class=\"line\">            <span class=\"comment\">// 撤销选择</span></span><br><span class=\"line\">            path.deleteCharAt(path.length() - <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 通配符 . 匹配任意字符</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">keysWithPattern</span><span class=\"params\">(String pattern)</span> &#123;</span><br><span class=\"line\">        List&lt;String&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        traverse(root, <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuilder</span>(), pattern, <span class=\"number\">0</span>, res);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 遍历函数，尝试在「以 node 为根的 Trie 树中」匹配 pattern[i..]</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">traverse</span><span class=\"params\">(TrieNode&lt;V&gt; node, StringBuilder path, String pattern, <span class=\"type\">int</span> i, List&lt;String&gt; res)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 树枝不存在，即匹配失败</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i == pattern.length()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// pattern 匹配完成</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node.val != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果这个节点存储着 val，则找到一个匹配的键</span></span><br><span class=\"line\">                res.add(path.toString());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> pattern.charAt(i);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (c == <span class=\"string\">&#x27;.&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// pattern[i] 是通配符，可以变化成任意字符</span></span><br><span class=\"line\">            <span class=\"comment\">// 多叉树（回溯算法）遍历框架</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">char</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; R; j++) &#123;</span><br><span class=\"line\">                path.append(j);</span><br><span class=\"line\">                traverse(node.children[j], path, pattern, i + <span class=\"number\">1</span>, res);</span><br><span class=\"line\">                path.deleteCharAt(path.length() - <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// pattern[i] 是普通字符 c</span></span><br><span class=\"line\">            path.append(c);</span><br><span class=\"line\">            traverse(node.children[c], path, pattern, i + <span class=\"number\">1</span>, res);</span><br><span class=\"line\">            path.deleteCharAt(path.length() - <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 判断是和否存在前缀为 prefix 的键</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">hasKeyWithPattern</span><span class=\"params\">(String pattern)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 从 root 节点开始匹配 pattern[0..]</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> hasKeyWithPattern(root, pattern, <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 函数定义：从 node 节点开始匹配 pattern[i..]，返回是否成功匹配</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"title function_\">hasKeyWithPattern</span><span class=\"params\">(TrieNode&lt;V&gt; node, String pattern, <span class=\"type\">int</span> i)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 树枝不存在，即匹配失败</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i == pattern.length()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 模式串走到头了，看看匹配到的是否是一个键</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> node.val != <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> pattern.charAt(i);</span><br><span class=\"line\">        <span class=\"comment\">// 没有遇到通配符</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (c != <span class=\"string\">&#x27;.&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 从 node.children[c] 节点开始匹配 pattern[i+1..]</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> hasKeyWithPattern(node.children[c], pattern, i + <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遇到通配符</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; R; j++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// pattern[i] 可以变化成任意字符，尝试所有可能，只要遇到一个匹配成功就返回</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (hasKeyWithPattern(node.children[j], pattern, i + <span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 都没有匹配</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 从节点 node 开始搜索 key，如果存在返回对应节点，否则返回 null</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> TrieNode&lt;V&gt; <span class=\"title function_\">getNode</span><span class=\"params\">(TrieNode&lt;V&gt; node, String key)</span> &#123;</span><br><span class=\"line\">        TrieNode&lt;V&gt; p = node;</span><br><span class=\"line\">        <span class=\"comment\">// 从节点 node 开始搜索 key</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; key.length(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (p == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 无法向下搜索</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 向下搜索</span></span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> key.charAt(i);</span><br><span class=\"line\">            p = p.children[c];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> p;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">size</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> size;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"TrieSet完整API\"><code>TrieSet</code>完整API</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">TrieSet</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 底层用一个 TrieMap，键就是 TrieSet，值仅仅起到占位的作用</span></span><br><span class=\"line\">    <span class=\"comment\">// 值的类型可以随便设置，我参考 Java 标准库设置成 Object</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> TrieMap&lt;Object&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">TrieMap</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/***** 增 *****/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在集合中添加元素 key</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">        map.put(key, <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/***** 删 *****/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 从集合中删除元素 key</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">remove</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">        map.remove(key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/***** 查 *****/</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 判断元素 key 是否存在集合中</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">contains</span><span class=\"params\">(String key)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> map.containsKey(key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在集合中寻找 query 的最短前缀</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">shortestPrefixOf</span><span class=\"params\">(String query)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> map.shortestPrefixOf(query);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在集合中寻找 query 的最长前缀</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">longestPrefixOf</span><span class=\"params\">(String query)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> map.longestPrefixOf(query);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在集合中搜索前缀为 prefix 的所有元素</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">keysWithPrefix</span><span class=\"params\">(String prefix)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> map.keysWithPrefix(prefix);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 判断集合中是否存在前缀为 prefix 的元素</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">hasKeyWithPrefix</span><span class=\"params\">(String prefix)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> map.hasKeyWithPrefix(prefix);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 通配符 . 匹配任意字符，返回集合中匹配 pattern 的所有元素</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title function_\">keysWithPattern</span><span class=\"params\">(String pattern)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> map.keysWithPattern(pattern);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 通配符 . 匹配任意字符，判断集合中是否存在匹配 pattern 的元素</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">hasKeyWithPattern</span><span class=\"params\">(String pattern)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> map.hasKeyWithPattern(pattern);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 返回集合中元素的个数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">size</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> map.size();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==函数的调用关系==</p>\n<p>==增/改==    <strong>put</strong> –&gt;<strong>containsKey</strong>、<strong>put</strong>&lt;递归&gt;</p>\n<p>==删==    <strong>remove</strong>-&gt;<strong>containsKey</strong>、<strong>remove</strong> &lt;递归&gt;</p>\n<p>==查==    <strong>get</strong>-&gt; <strong>getNode</strong></p>\n<p>==是否存在==     <strong>containsKey</strong>-&gt; <strong>get</strong></p>\n<p>==是否存在前缀为 prefix 的键==   <strong>hasKeyWithPrefix</strong>-&gt;<strong>getNode</strong></p>\n<p>==是否存在符合的通配符的键==  <strong>hasKeyWithPattern</strong>  &lt;递归&gt;</p>\n<p>==最短前缀==       <strong>shortestPrefixOf</strong></p>\n<p>==最长前缀==       <strong>longestPrefixOf</strong></p>\n<p>==搜索前缀为 prefix 的所有键==    <strong>keysWithPrefix</strong>-&gt;<strong>getNode</strong> 、 <strong>traverse</strong>&lt;递归&gt;</p>\n<p>==通配符 . 匹配任意字符==       <strong>keysWithPattern</strong>-&gt; <strong>traverse</strong>&lt;递归&gt;</p>\n<p>==从节点 node 开始搜索 key，如果存在返回对应节点==   **getNode **</p>\n<p>==大小==       <strong>size</strong></p>\n</blockquote>\n<h2 id=\"分治\">分治</h2>\n<blockquote>\n<p>本质：  也是递归</p>\n</blockquote>\n<blockquote>\n<p><strong>1、不要思考整体，而是把目光聚焦局部，只看一个运算符</strong>。</p>\n<p>比如 <a href=\"https://labuladong.gitee.io/algo/di-yi-zhan-da78c/shou-ba-sh-66994/dong-ge-da-cbce8/\">手把手刷二叉树第一期</a> 就告诉你解决二叉树系列问题只要思考每个节点需要做什么，而不要思考整棵树需要做什么。</p>\n<p>说白了，解决递归相关的算法问题，就是一个化整为零的过程，你必须瞄准一个小的突破口，然后把问题拆解，大而化小，利用递归函数来解决。</p>\n<p><strong>2、明确递归函数的定义是什么，相信并且利用好函数的定义</strong>。</p>\n<p>这个函数不就是干这个事儿的吗？<strong>这就是我们之前说的第二个关键点，明确函数的定义，相信并且利用这个函数定义</strong>。</p>\n<p>你甭管这个函数怎么做到的，你相信它能做到，然后用就行了，最后它就真的能做到了。</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 结果集接收</span></span><br><span class=\"line\">     List&lt;Integer&gt; res= <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;Integer&gt;();</span><br><span class=\"line\">     <span class=\"comment\">// 优化</span></span><br><span class=\"line\">     HashMap&lt;String, List&lt;Integer&gt;&gt; meno = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">     <span class=\"keyword\">if</span>(meno.containsKey(expression))&#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> meno.get(expression);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"comment\">//分治</span></span><br><span class=\"line\">     <span class=\"comment\">// 分（递归）</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>; i&lt;expression.length(); i++) &#123;</span><br><span class=\"line\">         <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> expression.charAt(i);</span><br><span class=\"line\">          <span class=\"comment\">//题设只有三种运算符</span></span><br><span class=\"line\">        <span class=\"comment\">// 如果是运算符就 继续进行缩减</span></span><br><span class=\"line\">         <span class=\"keyword\">if</span>(c==<span class=\"string\">&#x27;-&#x27;</span> || c==<span class=\"string\">&#x27;+&#x27;</span> || c==<span class=\"string\">&#x27;*&#x27;</span>)&#123;</span><br><span class=\"line\">             List&lt;Integer&gt; left = diffWaysToCompute(expression.substring(<span class=\"number\">0</span>,i));</span><br><span class=\"line\">             List&lt;Integer&gt; right = diffWaysToCompute(expression.substring(i+<span class=\"number\">1</span>));</span><br><span class=\"line\">    <span class=\"comment\">//治（怎么做）</span></span><br><span class=\"line\">             <span class=\"keyword\">for</span>(<span class=\"type\">int</span> a:left) &#123;</span><br><span class=\"line\">                 <span class=\"keyword\">for</span>(<span class=\"type\">int</span> b:right)&#123;</span><br><span class=\"line\">                     <span class=\"keyword\">if</span>(c ==<span class=\"string\">&#x27;-&#x27;</span>)</span><br><span class=\"line\">                         res.add(a-b);</span><br><span class=\"line\">                     <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(c == <span class=\"string\">&#x27;+&#x27;</span>)</span><br><span class=\"line\">                         res.add(a+b);</span><br><span class=\"line\">                     <span class=\"keyword\">else</span></span><br><span class=\"line\">                         res.add(a*b);</span><br><span class=\"line\">                 &#125;</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">     <span class=\"comment\">// 递归截止条件</span></span><br><span class=\"line\">     <span class=\"keyword\">if</span>(res.isEmpty())&#123;</span><br><span class=\"line\">         res.add(Integer.parseInt(expression));</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">return</span> res;</span><br></pre></td></tr></table></figure>\n<h2 id=\"手撕-LRU\">手撕 LRU</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">LRUCache</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">int</span> capacity;</span><br><span class=\"line\">    </span><br><span class=\"line\">    LinkedHashMap&lt;Integer,Integer&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedHashMap</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">LRUCache</span><span class=\"params\">(<span class=\"type\">int</span> capacity)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.capacity = capacity;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//表示访问</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">get</span><span class=\"params\">(<span class=\"type\">int</span> key)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!map.containsKey(key))&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>  -<span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    <span class=\"comment\">//移至表尾</span></span><br><span class=\"line\">        changeSwap(key);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> map.get(key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//表示添加</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">put</span><span class=\"params\">(<span class=\"type\">int</span> key, <span class=\"type\">int</span> value)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(map.containsKey(key))&#123;</span><br><span class=\"line\">            <span class=\"comment\">//值的替换</span></span><br><span class=\"line\">            map.put(key, value);</span><br><span class=\"line\">    <span class=\"comment\">//移到表尾</span></span><br><span class=\"line\">            changeSwap(key);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 超出预设值 删除表头</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(map.size() &gt; capacity)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">first</span> <span class=\"operator\">=</span> map.keySet().iterator().next();</span><br><span class=\"line\">            map.remove(first);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//直接添加到表尾即可</span></span><br><span class=\"line\">        map.put(key, value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span>  <span class=\"title function_\">changeSwap</span><span class=\"params\">(<span class=\"type\">int</span> key)</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 找到对应的元素</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">val</span> <span class=\"operator\">=</span> map.get(key);</span><br><span class=\"line\">        <span class=\"comment\">//随后进行删除</span></span><br><span class=\"line\">        map.remove(key);</span><br><span class=\"line\">        <span class=\"comment\">//再将其加到表尾</span></span><br><span class=\"line\">        map.put(key,val);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"栈实现队列\">栈实现队列</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyQueue</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    Stack&lt;Integer&gt; stack1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">    Stack&lt;Integer&gt; stack2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">MyQueue</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//只管入栈就可以了</span></span><br><span class=\"line\">        stack1.push(x);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">peek</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//入栈结束之后，栈2 为空才会进行从栈1 进栈，直到栈1 为空</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(stack2.isEmpty())&#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(!stack1.isEmpty())&#123;</span><br><span class=\"line\">                stack2.push(stack1.pop());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> stack2.peek();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">pop</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 防止栈2 为空</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(stack2.isEmpty())&#123;</span><br><span class=\"line\">            peek();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> stack2.pop();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">empty</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//要两个栈一起为空的时候才为空，否则可能会因为没有pop操作导致一空一非空</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> stack2.isEmpty() &amp;&amp; stack1.isEmpty();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"队列实现栈\">队列实现栈</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">两个队列</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyStack</span> &#123;</span><br><span class=\"line\">    Queue&lt;Integer&gt; queue1 = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    Queue&lt;Integer&gt; queue2 = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">MyStack</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">//  需要进行交换</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">        queue1.offer(x);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!queue2.isEmpty())&#123;</span><br><span class=\"line\">            queue1.offer(queue2.poll());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">         <span class=\"comment\">//第一遍的时候不会进行while()循环</span></span><br><span class=\"line\">        Queue&lt;Integer&gt; tmp = queue2;</span><br><span class=\"line\">        queue2 = queue1;</span><br><span class=\"line\">        queue1 =tmp;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">top</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> queue2.peek();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">pop</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> queue2.poll();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">empty</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> queue2.isEmpty();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Your MyStack object will be instantiated and called as such:</span></span><br><span class=\"line\"><span class=\"comment\"> * MyStack obj = new MyStack();</span></span><br><span class=\"line\"><span class=\"comment\"> * obj.push(x);</span></span><br><span class=\"line\"><span class=\"comment\"> * int param_2 = obj.pop();</span></span><br><span class=\"line\"><span class=\"comment\"> * int param_3 = obj.top();</span></span><br><span class=\"line\"><span class=\"comment\"> * boolean param_4 = obj.empty();</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">单个队列</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyStack</span> &#123;</span><br><span class=\"line\">    Queue&lt;Integer&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">MyStack</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//  需要进行交换</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> queue.size();</span><br><span class=\"line\">        queue.offer(x);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;n; i++) &#123;</span><br><span class=\"line\">            queue.offer(queue.poll());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">top</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> queue.peek();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">pop</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> queue.poll();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">empty</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> queue.isEmpty();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==通解   （两个栈  、 队列）==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">class</span> <span class=\"title class_\">MyStack</span> &#123;</span><br><span class=\"line\">&gt;Queue&lt;Integer&gt; queue1 = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">&gt;Queue&lt;Integer&gt; queue2 = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"title function_\">MyStack</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">//  需要进行交换   \t\t\t\t队列--&gt;栈</span></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">  queue1.offer(x);</span><br><span class=\"line\">  <span class=\"keyword\">while</span>(!queue2.isEmpty())&#123;</span><br><span class=\"line\">      queue1.offer(queue2.poll());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span>(!queue1.isEmpty())&#123;</span><br><span class=\"line\">      queue2.offer(queue1.poll());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">top</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> queue2.peek();</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">pop</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> queue2.poll();</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">empty</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> queue2.isEmpty();</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">class</span> <span class=\"title class_\">MyQueue</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;Stack&lt;Integer&gt; stack1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">&gt;Stack&lt;Integer&gt; stack2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"title function_\">MyQueue</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 栈转队列</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span>(!stack2.isEmpty())&#123;</span><br><span class=\"line\">      stack1.push(stack2.pop());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  stack1.push(x);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span>(!stack1.isEmpty())&#123;</span><br><span class=\"line\">      stack2.push(stack1.pop());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">pop</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> stack2.pop();</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">peek</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> stack2.peek();</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">empty</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span>  stack2.isEmpty();</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">&gt;* Your MyQueue object will be instantiated and called as such:</span></span><br><span class=\"line\"><span class=\"comment\">&gt;* MyQueue obj = new MyQueue();</span></span><br><span class=\"line\"><span class=\"comment\">&gt;* obj.push(x);</span></span><br><span class=\"line\"><span class=\"comment\">&gt;* int param_2 = obj.pop();</span></span><br><span class=\"line\"><span class=\"comment\">&gt;* int param_3 = obj.peek();</span></span><br><span class=\"line\"><span class=\"comment\">&gt;* boolean param_4 = obj.empty();</span></span><br><span class=\"line\"><span class=\"comment\">&gt;*/</span></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h2 id=\"二叉树公共祖先\">二叉树公共祖先</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> TreeNode <span class=\"title function_\">lowestCommonAncestor</span><span class=\"params\">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class=\"line\">         <span class=\"keyword\">if</span>(root == <span class=\"literal\">null</span>) <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root == p  || root == q) <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">        <span class=\"type\">TreeNode</span> <span class=\"variable\">left</span>  <span class=\"operator\">=</span> lowestCommonAncestor(root.left,p,q);</span><br><span class=\"line\">        <span class=\"type\">TreeNode</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> lowestCommonAncestor(root.right,p,q);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(left != <span class=\"literal\">null</span> &amp;&amp; right != <span class=\"literal\">null</span>) <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(left == <span class=\"literal\">null</span>  &amp;&amp; right == <span class=\"literal\">null</span>) <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> right == <span class=\"literal\">null</span>? left : right; </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//要是二叉搜索树的话还有这样的一种写法，因为  二叉搜索树是有序的</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> TreeNode <span class=\"title function_\">lowestCommonAncestor</span><span class=\"params\">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">TreeNode</span> <span class=\"variable\">cur</span> <span class=\"operator\">=</span> root;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(p.val &lt; cur.val &amp;&amp; q.val &lt; cur.val || p.val &gt;cur.val &amp;&amp; q.val &gt; cur.val)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(p.val &lt; cur.val)&#123;</span><br><span class=\"line\">                cur = cur.left;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                cur = cur.right;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cur;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"手撕快排\">手撕快排</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//手撕快排</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Quick</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">sort</span><span class=\"params\">(<span class=\"type\">int</span> nums[])</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">low</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">high</span> <span class=\"operator\">=</span> nums.length-<span class=\"number\">1</span>;</span><br><span class=\"line\">        shuffle(nums);</span><br><span class=\"line\">        sortQuick(nums,low,high);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">sortQuick</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> low, <span class=\"type\">int</span> high)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(low  &gt;= high) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">        <span class=\"comment\">//获取坐标</span></span><br><span class=\"line\">        <span class=\"type\">int</span>  <span class=\"variable\">mid</span> <span class=\"operator\">=</span> partitions(nums,low,high);</span><br><span class=\"line\">        sortQuick(nums,low,mid-<span class=\"number\">1</span>);</span><br><span class=\"line\">        sortQuick(nums,mid+<span class=\"number\">1</span>,high);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"type\">int</span> <span class=\"title function_\">partitions</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> low, <span class=\"type\">int</span> high)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">pivot</span> <span class=\"operator\">=</span> nums[low];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> low+<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> high;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(left &lt;= right)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(left &lt; high &amp;&amp; nums[left] &lt;= pivot)&#123;</span><br><span class=\"line\">                left++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(right&gt; low &amp;&amp; nums[right] &gt; pivot)&#123;</span><br><span class=\"line\">                right--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(left &gt;= right) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            swap(nums,left,right);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 将 pivot 放到合适的位置，即 pivot 左边元素较小，右边元素较大</span></span><br><span class=\"line\">        swap(nums,low,right);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> right;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">swap</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> left, <span class=\"type\">int</span> right)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">tmp</span>  <span class=\"operator\">=</span> nums[left];</span><br><span class=\"line\">        nums[left] = nums[right];</span><br><span class=\"line\">        nums[right] = tmp;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">shuffle</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Random</span> <span class=\"variable\">random</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Random</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">t</span> <span class=\"operator\">=</span> i + random.nextInt(n-i);</span><br><span class=\"line\">            swap(nums,i,t);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"手撕二叉堆实现优先级队列\">手撕二叉堆实现优先级队列</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Priority_Queue</span>&lt;T <span class=\"keyword\">extends</span> <span class=\"title class_\">Comparable</span>&lt;T&gt;&gt;&#123;</span><br><span class=\"line\">    T[] pq;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">size</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    Priority_Queue(<span class=\"type\">int</span> capacity) &#123;</span><br><span class=\"line\">        pq = (T[]) <span class=\"keyword\">new</span> <span class=\"title class_\">Comparable</span>[capacity +<span class=\"number\">1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> T <span class=\"title function_\">max</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pq[<span class=\"number\">1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">insert</span><span class=\"params\">(T e)</span>&#123;</span><br><span class=\"line\">        size++;</span><br><span class=\"line\">        <span class=\"comment\">// 先把新元素加到最后</span></span><br><span class=\"line\">        pq[size] = e;</span><br><span class=\"line\">        <span class=\"comment\">// 然后让它上浮到正确的位置</span></span><br><span class=\"line\">        swim(size);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> T <span class=\"title function_\">delMax</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">T</span> <span class=\"variable\">max</span> <span class=\"operator\">=</span> pq[<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"comment\">// 把这个最大元素换到最后，删除之</span></span><br><span class=\"line\">        swap(<span class=\"number\">1</span>, size);</span><br><span class=\"line\">        pq[size] = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        size--;</span><br><span class=\"line\">        <span class=\"comment\">// 让 pq[1] 下沉到正确位置</span></span><br><span class=\"line\">        sink(<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> max;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">swim</span><span class=\"params\">(<span class=\"type\">int</span> x)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(x &gt; <span class=\"number\">1</span> &amp;&amp; less(parent(x),x ))&#123;</span><br><span class=\"line\">            swap(parent(x),x );</span><br><span class=\"line\">            x = parent(x);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">sink</span><span class=\"params\">(<span class=\"type\">int</span> x)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(left(x) &lt;= size)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">max</span> <span class=\"operator\">=</span> left(x);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(right(x) &lt;= size &amp;&amp; less(max,right(x))) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            swap(x,max);</span><br><span class=\"line\">            x= max;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">swap</span><span class=\"params\">(<span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">T</span> <span class=\"variable\">temp</span> <span class=\"operator\">=</span> pq[i];</span><br><span class=\"line\">        pq[i] = pq[j];</span><br><span class=\"line\">        pq[j] = temp;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"title function_\">less</span><span class=\"params\">(<span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pq[i].compareTo(pq[j]) &lt; <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 父节点的索引</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"title function_\">parent</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root / <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 左孩子的索引</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"title function_\">left</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 右孩子的索引</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"title function_\">right</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root * <span class=\"number\">2</span> + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"图\">图</h2>\n<h4 id=\"前置：-图论基础\">前置： 图论基础</h4>\n<blockquote>\n<p><code>图节点的逻辑结构  </code>      ——和多叉树节点几乎完全一样</p>\n</blockquote>\n<blockquote>\n<p>而是用常说的<strong>邻接表和邻接矩阵</strong>来实现</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 邻接表     </span></span><br><span class=\"line\">    我把每个节点 x 的邻居都存到一个列表里，然后把 x 和这个列表关联起来，这样就可以通过一个节点 x 找到它的所有相邻节点。</span><br><span class=\"line\"><span class=\"comment\">// graph[x] 存储 x 的所有邻居节点</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        </span><br><span class=\"line\">List&lt;Integer&gt;[] graph;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 邻接矩阵</span></span><br><span class=\"line\">邻接矩阵则是一个二维布尔数组，我们权且称为 matrix，如果节点 x 和 y 是相连的，那么就把 matrix[x][y] 设为 <span class=\"literal\">true</span>（上图中绿色的方格代表 <span class=\"literal\">true</span>）。如果想找节点 x 的邻居，去扫一圈 matrix[x][..] 就行了</span><br><span class=\"line\"><span class=\"comment\">// matrix[x][y] 记录 x 是否有一条指向 y 的边</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"type\">boolean</span>[][] matrix;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==有向加权图==<br>\n如果是邻接表，我们不仅仅存储某个节点 x 的所有邻居节点，还存储 x 到每个邻居的权重，<br>\n如果是邻接矩阵，<code>matrix[x][y]</code> 不再是布尔值，而是一个 int 值，0 表示没有连接，其他值表示权重，</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"comment\">// 邻接表</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// graph[x] 存储 x 的所有邻居节点以及对应的权重</span></span><br><span class=\"line\">&gt;List&lt;<span class=\"type\">int</span>[]&gt;[] graph;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"comment\">// 邻接矩阵</span></span><br><span class=\"line\">&gt;<span class=\"comment\">// matrix[x][y] 记录 x 指向 y 的边的权重，0 表示不相邻</span></span><br><span class=\"line\">&gt;<span class=\"type\">int</span>[][] matrix;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</blockquote>\n<blockquote>\n<p>==无向图==<br>\n所谓的「无向」，等同于「双向」<br>\n如果连接无向图中的节点 x 和 y，把 <code>matrix[x][y]</code> 和 <code>matrix[y][x]</code> 都变成 true 就行了；</p>\n<p>邻接表也是类似的操作，在 x 的邻居列表里添加 y，同时在 y 的邻居列表里添加 x。</p>\n</blockquote>\n<h4 id=\"图的遍历\">图的遍历</h4>\n<h6 id=\"多叉树的-DFS-遍历框架如下\">多叉树的 DFS 遍历框架如下</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   <span class=\"comment\">/* 多叉树遍历框架 */</span></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">traverse</span><span class=\"params\">(TreeNode root)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (root == <span class=\"literal\">null</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 前序位置</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (TreeNode child : root.children) &#123;</span><br><span class=\"line\">        traverse(child);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 后序位置</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"图的遍历-2\">图的遍历</h6>\n<p>图  与 树 的最大区别就是  图可能==有环==</p>\n<p><strong>有环</strong>  时候就需要一个 <code>visited</code> 数组进行辅助</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 记录被遍历过的节点</span></span><br><span class=\"line\"><span class=\"type\">boolean</span>[] visited;</span><br><span class=\"line\"><span class=\"comment\">// 记录从起点到当前节点的路径</span></span><br><span class=\"line\"><span class=\"type\">boolean</span>[] onPath;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 图遍历框架 */</span></span><br><span class=\"line\"><span class=\"comment\">//  过程就是：判断是否已经遍历过，有的话就返回，没有的话就将其置为 遍历过并加到 路径数组中，再循环遍历邻居节点，最后再从 路径节点中删去</span></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">traverse</span><span class=\"params\">(Graph graph, <span class=\"type\">int</span> s)</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 经过节点 s，标记为已遍历</span></span><br><span class=\"line\">    visited[s] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 做选择：标记节点 s 在路径上</span></span><br><span class=\"line\">    onPath[s] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> neighbor : graph.neighbors(s)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!visited[s])</span><br><span class=\"line\">        traverse(graph, neighbor);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 撤销选择：节点 s 离开路径</span></span><br><span class=\"line\">    onPath[s] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>如果让你处理<strong>路径相关</strong>的问题，这个 <code>onPath</code> 变量是肯定会被用到的，比如 <a href=\"https://labuladong.gitee.io/algo/di-yi-zhan-da78c/shou-ba-sh-03a72/huan-jian--e36de/\">拓扑排序</a> 中就有运用。</p>\n<p>另外，这个 <code>onPath</code> 数组的操作很像前文 <a href=\"https://labuladong.gitee.io/algo/di-ling-zh-bfe1b/hui-su-sua-c26da/\">回溯算法核心套路</a> 中做「做选择」和「撤销选择」，区别在于位置：回溯算法的「做选择」和「撤销选择」在 for 循环里面，而对 <code>onPath</code> 数组的操作在 for 循环外面。</p>\n</blockquote>\n<h4 id=\"DFS-VS-回溯\">DFS VS 回溯</h4>\n<blockquote>\n<p>对于这里「图」的遍历，我们应该用 DFS 算法，即把 <code>onPath</code> 的操作放到 for 循环外面，否则会漏掉记录起始点的遍历。</p>\n</blockquote>\n<h6 id=\"代码区别\">代码区别</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// DFS 算法，关注点在节点</span></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">traverse</span><span class=\"params\">(TreeNode root)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (root == <span class=\"literal\">null</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    printf(<span class=\"string\">&quot;进入节点 %s&quot;</span>, root);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (TreeNode child : root.children) &#123;</span><br><span class=\"line\">        traverse(child);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    printf(<span class=\"string\">&quot;离开节点 %s&quot;</span>, root);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 回溯算法，关注点在树枝</span></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">backtrack</span><span class=\"params\">(TreeNode root)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (root == <span class=\"literal\">null</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (TreeNode child : root.children) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 做选择</span></span><br><span class=\"line\">        printf(<span class=\"string\">&quot;从 %s 到 %s&quot;</span>, root, child);</span><br><span class=\"line\">        backtrack(child);</span><br><span class=\"line\">        <span class=\"comment\">// 撤销选择</span></span><br><span class=\"line\">        printf(<span class=\"string\">&quot;从 %s 到 %s&quot;</span>, child, root);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>所以对于「图」的遍历，我们应该用 DFS 算法，即把 <code>onPath</code> 的操作放到 for 循环外面，否则会漏掉记录起始点的遍历。</p>\n<p>再说下 <code>visited</code> 数组，其目的很明显了，由于图可能含<code>有环</code>，<code>visited</code> 数组就是防止递归重复遍历同一个节点进入死循环的。</p>\n<p>路径相关的问题，这个 <code>onPath</code> 变量是肯定会被用到的，比如 <a href=\"https://labuladong.gitee.io/algo/di-yi-zhan-da78c/shou-ba-sh-03a72/huan-jian--e36de/\">拓扑排序</a> 中就有运用。</p>\n<p>如果题目告诉你图中不含环，可以把 <code>visited</code> 数组都省掉，基本就是多叉树的遍历。</p>\n</blockquote>\n<h4 id=\"有向无环图的遍历\">有向无环图的遍历</h4>\n<blockquote>\n<p>==思路1、区别于回溯的写法==</p>\n<p>1、定义结果集</p>\n<p>2、定义路径集  -&gt; dfs -&gt; return</p>\n<p>3、dfs: 做选择   –&gt; 循环结束条件  -&gt;  遍历相邻节点 -&gt; 撤销选择</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//接收结果集</span></span><br><span class=\"line\">   List&lt;List&lt;Integer&gt;&gt; result = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">allPathsSourceTarget</span><span class=\"params\">(<span class=\"type\">int</span>[][] graph)</span> &#123;</span><br><span class=\"line\">       LinkedList&lt;Integer&gt; path =  <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">       traverse(graph,<span class=\"number\">0</span>,path);</span><br><span class=\"line\">       <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">void</span>  <span class=\"title function_\">traverse</span> <span class=\"params\">(<span class=\"type\">int</span>[][] graph,<span class=\"type\">int</span> s,LinkedList&lt;Integer&gt; path)</span> &#123;</span><br><span class=\"line\">       <span class=\"comment\">//加到路径中    做选择</span></span><br><span class=\"line\">       path.add(s);</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"comment\">//循环结束条件</span></span><br><span class=\"line\">       <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> graph.length;</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(s== n-<span class=\"number\">1</span>)  result.add(<span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;(path));</span><br><span class=\"line\">      </span><br><span class=\"line\">       <span class=\"comment\">//dfs</span></span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i: graph[s])&#123;</span><br><span class=\"line\">           traverse(graph,i,path);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"comment\">// 撤销选择</span></span><br><span class=\"line\">       path.removeLast();</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>拓展内容</p>\n<p>BFS</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;List&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">allPathsSourceTarget</span><span class=\"params\">(<span class=\"type\">int</span>[][] graph)</span> &#123;</span><br><span class=\"line\">  bfs(graph,<span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] graph, <span class=\"type\">int</span> i)</span> &#123;</span><br><span class=\"line\">  Queue&lt;List&lt;Integer&gt;&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">  queue.offer(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;Integer&gt;()&#123;</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">          add(i);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">while</span>(!queue.isEmpty()) &#123;</span><br><span class=\"line\">      List&lt;Integer&gt; out = queue.poll();</span><br><span class=\"line\">      <span class=\"type\">int</span> <span class=\"variable\">curNode</span> <span class=\"operator\">=</span> out.get(out.size() - <span class=\"number\">1</span>);</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j : graph[curNode]) &#123;</span><br><span class=\"line\">          out.add(j);</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(i == graph.length - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">              res.add(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(out));</span><br><span class=\"line\">          &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">              queue.offer(<span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(out));</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          out.remove(out.size()-<span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<blockquote>\n<h6 id=\"略\">略&gt;</h6>\n<p>==思路二：类似于回溯的写法==</p>\n<p>1、 定义结果集 和 路径变量</p>\n<p>2、为避免  漏掉记录起始点的遍历   所以要先将 0 加到path 中</p>\n<p>3、<strong>dfs&lt;此处是和回溯一样的&gt;</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;List&lt;List&lt;Integer&gt;&gt; result = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">&gt;LinkedList&lt;Integer&gt; path =  <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; <span class=\"title function_\">allPathsSourceTarget</span><span class=\"params\">(<span class=\"type\">int</span>[][] graph)</span> &#123;</span><br><span class=\"line\">  path.add(<span class=\"number\">0</span>);</span><br><span class=\"line\">  dfs(graph,<span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&gt;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;<span class=\"keyword\">void</span>  <span class=\"title function_\">dfs</span> <span class=\"params\">(<span class=\"type\">int</span>[][] graph,<span class=\"type\">int</span> s)</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">//返回条件</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(s== graph.length-<span class=\"number\">1</span>)  result.add(<span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;(path));</span><br><span class=\"line\">  <span class=\"comment\">//dfs</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;graph[s].length;i++)&#123;</span><br><span class=\"line\">      <span class=\"comment\">// 做选择</span></span><br><span class=\"line\">      path.add(graph[s][i]);</span><br><span class=\"line\">      dfs(graph,graph[s][i]);</span><br><span class=\"line\">       <span class=\"comment\">// 撤销选择</span></span><br><span class=\"line\">      path.removeLast();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<blockquote>\n<p>==注==</p>\n<p>==什么时候建图：  如果不能通过下标找到下一个节点就得建图==</p>\n<p><strong>就是说  一旦存的是边 就要建图用邻接表存储   否则就不要建图</strong></p>\n</blockquote>\n<h4 id=\"图的DFS\">图的DFS</h4>\n<h5 id=\"有向图是否无环\">有向图是否无环</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 无环判断=收集最终结果集 + traverse + 构建依赖关系\t</span></span><br><span class=\"line\">\t<span class=\"type\">boolean</span> visited[];</span><br><span class=\"line\">    <span class=\"type\">boolean</span> path[];</span><br><span class=\"line\"><span class=\"comment\">//visited 记录哪些节点被遍历过，而 onPath 记录当前递归堆栈中有哪些节点，它们的作用不同，所以并不重复。</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//如果有向图中存在环，那就说明课程之间存在循环依赖，肯定没办法全部上完；反之，如果没有环，那么肯定能上完全部课程。</span></span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"variable\">hasCycle</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"title function_\">canFinish</span><span class=\"params\">(<span class=\"type\">int</span> numCourses, <span class=\"type\">int</span>[][] prerequisites)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 根据现有左边建立树</span></span><br><span class=\"line\">        List&lt;Integer&gt;[] graph = buildGraph(numCourses, prerequisites);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 初始化数组</span></span><br><span class=\"line\">        visited = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[numCourses];</span><br><span class=\"line\">        path = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[numCourses];</span><br><span class=\"line\">\t\t<span class=\"comment\">// 避免由于 不连通分量导致的错误，所以对每一个节点 都要进行一次 dfs</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span>  <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; numCourses; i++)&#123;</span><br><span class=\"line\">            dfs(graph, i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 收集结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> !hasCycle;  </span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"拓扑排序-是逆后序\">拓扑排序&lt;是逆后序 &gt;</h5>\n<blockquote>\n<p>==&lt;是逆后序 != 先序&gt;==</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"comment\">// 拓扑 = 成环判断 +收集最终结果集 + traverse + 构建依赖关系</span></span><br><span class=\"line\">    <span class=\"type\">boolean</span> visited[];</span><br><span class=\"line\">    <span class=\"type\">boolean</span> path[];</span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"variable\">hasCycle</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"> <span class=\"comment\">//拓扑排序的区别一</span></span><br><span class=\"line\">List&lt;Integer&gt; res = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> \t<span class=\"keyword\">public</span> <span class=\"type\">int</span>[] findOrder(<span class=\"type\">int</span> numCourses, <span class=\"type\">int</span>[][] prerequisites) &#123;</span><br><span class=\"line\">            List&lt;Integer&gt;[] graph = buildGraph(numCourses, prerequisites);</span><br><span class=\"line\">            visited = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[numCourses];</span><br><span class=\"line\">            path = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[numCourses];</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt; numCourses;i++) &#123;</span><br><span class=\"line\">                dfs(graph, i);</span><br><span class=\"line\">        \t&#125;</span><br><span class=\"line\">        </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//拓扑排序的区别二</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(hasCycle)&#123;</span><br><span class=\"line\"><span class=\"comment\">//一个空的整型数组</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">            </span><br><span class=\"line\"><span class=\"comment\">//拓扑排序的区别三    </span></span><br><span class=\"line\">        <span class=\"comment\">// 反转 ；达成逆后序结果</span></span><br><span class=\"line\">Collections.reverse(res);</span><br><span class=\"line\"><span class=\"type\">int</span> result[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[numCourses];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;numCourses; i++) &#123;</span><br><span class=\"line\">   result[i] = res.get(i);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span>  result;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"复用的代码\">复用的代码</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span> <span class=\"params\">(List&lt;Integer&gt;[] graph, <span class=\"type\">int</span> s)</span> &#123;</span><br><span class=\"line\">       <span class=\"comment\">//  path[s] == true  表示已经走过了，所以是环</span></span><br><span class=\"line\">       <span class=\"keyword\">if</span>(path[s])  hasCycle= <span class=\"literal\">true</span>;</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(visited[s] || hasCycle)   <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    \tvisited[s] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">       path[s] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i : graph[s])&#123;</span><br><span class=\"line\">           dfs(graph, i);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"comment\">// 后序位置        //环检测不需要这一段代码</span></span><br><span class=\"line\">       <span class=\"comment\">//  res.add(s);---- 拓扑排序需要进行一个结果收集所以需要加上这一段代码\t\t\t\t\t\t</span></span><br><span class=\"line\">       path[s] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// numCourses: 课程数 即  prerequisites[][] 的 不同的元素个数</span></span><br><span class=\"line\">   <span class=\"comment\">//根据邻接表去创建一个图  将 输入的  prerequisites[][]   转化为邻接表形式</span></span><br><span class=\"line\">   List&lt;Integer&gt;[] buildGraph(<span class=\"type\">int</span> numCourses, <span class=\"type\">int</span>[][] prerequisites) &#123;</span><br><span class=\"line\">       <span class=\"comment\">//  将 prerequisites[][] 存储的边 转为用邻接表的形式进行存储</span></span><br><span class=\"line\">       LinkedList&lt;Integer&gt;[] graph = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>[numCourses];</span><br><span class=\"line\">       <span class=\"comment\">// 转换数据类型   graph[i] 从 LinkedList（null）  转化为  [] 数组类型</span></span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class=\"line\">           graph[i] = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"comment\">// 将每一个边 存到邻接表中graph</span></span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span>[] edge:prerequisites) &#123;</span><br><span class=\"line\">           <span class=\"comment\">//定义正常的依赖关系</span></span><br><span class=\"line\">           <span class=\"type\">int</span> <span class=\"variable\">from</span> <span class=\"operator\">=</span> edge[<span class=\"number\">1</span>];</span><br><span class=\"line\">           <span class=\"type\">int</span> <span class=\"variable\">to</span> <span class=\"operator\">=</span> edge[<span class=\"number\">0</span>];</span><br><span class=\"line\">           <span class=\"comment\">// 添加一条从 from 指向 to 的有向边</span></span><br><span class=\"line\">           <span class=\"comment\">// 边的方向是「被依赖」关系，即修完课程 from 才能修课程 to</span></span><br><span class=\"line\">           graph[from].add(to);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> graph;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"BFS-2\">BFS</h4>\n<blockquote>\n<p>有向图 的 BFS 中  通过 <code>indegree</code> 数组实现的 <code>visited</code> 数组的作用，只有入度为 0 的节点才能入队，从而保证不会出现死循环。</p>\n</blockquote>\n<h5 id=\"有向图是否无环、拓扑排序\">有向图是否无环、拓扑排序</h5>\n<blockquote>\n<p>解耦写法</p>\n<ul>\n<li>有无环</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> []indegree;     <span class=\"comment\">// 取代 visited</span></span><br><span class=\"line\">   Queue&lt;Integer&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">canFinish</span><span class=\"params\">(<span class=\"type\">int</span> numCourses, <span class=\"type\">int</span>[][] prerequisites)</span> &#123;</span><br><span class=\"line\">      indegree = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[numCourses];</span><br><span class=\"line\">      List&lt;Integer&gt; [] graph = build(numCourses, prerequisites);</span><br><span class=\"line\">&gt;<span class=\"comment\">//入度</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> edge[]: prerequisites) &#123;</span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">to</span> <span class=\"operator\">=</span> edge[<span class=\"number\">0</span>];</span><br><span class=\"line\">          indegree[to]++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">&gt;<span class=\"comment\">//入队</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(indegree[i] == <span class=\"number\">0</span> )&#123;</span><br><span class=\"line\">             queue.offer(i);</span><br><span class=\"line\">            <span class=\"comment\">// count++;  //入队的时候 ++ </span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">&gt;<span class=\"comment\">//bfs</span></span><br><span class=\"line\">      bfs(graph);</span><br><span class=\"line\">      <span class=\"keyword\">return</span> count == numCourses;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">(List&lt;Integer&gt;[] graph)</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(!queue.isEmpty()) &#123;</span><br><span class=\"line\">          <span class=\"type\">Integer</span> <span class=\"variable\">poll</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">           count++;  <span class=\"comment\">//出队的时候 ++ </span></span><br><span class=\"line\">          <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j : graph[poll]) &#123;</span><br><span class=\"line\">              indegree[j]--;</span><br><span class=\"line\">              <span class=\"keyword\">if</span>(indegree[j] == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                  queue.offer(j);</span><br><span class=\"line\">                 <span class=\"comment\">// count++;  //入队的时候 ++ </span></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//建图</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> List&lt;Integer&gt;[] build(<span class=\"type\">int</span> numCourses, <span class=\"type\">int</span>[][] prerequisites) &#123;</span><br><span class=\"line\">      List&lt;Integer&gt; []graph = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>[numCourses];</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class=\"line\">          graph[i] = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> []edge : prerequisites) &#123;</span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">from</span>  <span class=\"operator\">=</span> edge[<span class=\"number\">1</span>];</span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">to</span> <span class=\"operator\">=</span> edge[<span class=\"number\">0</span>];</span><br><span class=\"line\">          graph[from].add(to);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> graph;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>拓扑排序</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">  Queue&lt;Integer&gt; queue= <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">  <span class=\"type\">int</span>[] res ;</span><br><span class=\"line\">  <span class=\"type\">int</span> indegree[] ;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"type\">int</span>[] findOrder(<span class=\"type\">int</span> numCourses, <span class=\"type\">int</span>[][] prerequisites) &#123;</span><br><span class=\"line\">      List&lt;Integer&gt; []graph = build(numCourses, prerequisites);</span><br><span class=\"line\">      indegree = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[numCourses];</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> []edge : prerequisites)&#123;</span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">to</span> <span class=\"operator\">=</span> edge[<span class=\"number\">0</span>];</span><br><span class=\"line\">          indegree[to]++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(indegree[i] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">              queue.offer(i); </span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      res = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[numCourses];</span><br><span class=\"line\">      bfs(graph);</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(count != numCourses)&#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;&#125;;</span><br><span class=\"line\">      &#125;  </span><br><span class=\"line\">      <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">(List&lt;Integer&gt;[] graph)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">while</span>(!queue.isEmpty()) &#123;</span><br><span class=\"line\">         <span class=\"type\">Integer</span> <span class=\"variable\">poll</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">         res[count]=poll;</span><br><span class=\"line\">           count++;   <span class=\"comment\">//出队的时候加到结果集   并且进行++ </span></span><br><span class=\"line\">          <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i : graph[poll]) &#123;</span><br><span class=\"line\">              indegree[i]--;</span><br><span class=\"line\">              <span class=\"keyword\">if</span>(indegree[i] == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                  queue.offer(i);</span><br><span class=\"line\"></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&gt;<span class=\"comment\">//建图</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> List&lt;Integer&gt;[] build(<span class=\"type\">int</span> numCourses, <span class=\"type\">int</span>[][] prerequisites) &#123;</span><br><span class=\"line\">      List&lt;Integer&gt; []graph = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>[numCourses];</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class=\"line\">          graph[i] = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> []edge : prerequisites) &#123;</span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">from</span>  <span class=\"operator\">=</span> edge[<span class=\"number\">1</span>];</span><br><span class=\"line\">          <span class=\"type\">int</span> <span class=\"variable\">to</span> <span class=\"operator\">=</span> edge[<span class=\"number\">0</span>];</span><br><span class=\"line\">          graph[from].add(to);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> graph;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">// 1、建图，有向边代表「被依赖」关系</span></span><br><span class=\"line\">        List&lt;Integer&gt;[] graph = buildGraph(numCourses, prerequisites);</span><br><span class=\"line\">        <span class=\"comment\">// 2、建立入度数组</span></span><br><span class=\"line\">        <span class=\"type\">int</span>[] degree = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[numCourses];</span><br><span class=\"line\">\t\t<span class=\"comment\">// 根据 题目中的边的关系 对  入度数组  进行  赋值操作\t</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> []edge :prerequisites)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">from</span> <span class=\"operator\">=</span> edge[<span class=\"number\">1</span>];</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">to</span> <span class=\"operator\">=</span> edge[<span class=\"number\">0</span>];  <span class=\"comment\">//从其他处 来的</span></span><br><span class=\"line\">            degree[to]++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//3、建立队列</span></span><br><span class=\"line\">        Queue&lt;Integer&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        <span class=\"comment\">//4、判断入度数目，将可能 的起点 加到队列中</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; numCourses; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(degree[i] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                <span class=\"comment\">//只要节点 i 没有入度，即没有依赖的节点,就把他作为拓扑排序的起点，加入队列</span></span><br><span class=\"line\">                queue.offer(i);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"comment\">//5、 取出对头元素，每次 取到一个 就让 count ++</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//int res[] = new int[numCourses]; //BFS 区别一</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!queue.isEmpty()) &#123;</span><br><span class=\"line\">         <span class=\"type\">int</span> <span class=\"variable\">current</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">            </span><br><span class=\"line\"><span class=\"comment\">//res[count] = current;  // 弹出的队列元素的顺序就是拓扑排序的结果 //BFS 区别二</span></span><br><span class=\"line\">            </span><br><span class=\"line\">            </span><br><span class=\"line\">            count++;</span><br><span class=\"line\">        <span class=\"comment\">//6、 将邻居节点的入度 -1</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> next:graph[current])&#123;</span><br><span class=\"line\">                degree[next]--;</span><br><span class=\"line\">        <span class=\"comment\">//7、邻居节点的个数为 0 也加到队列中</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(degree[next] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    queue.offer(next);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//8、 如果所有节点都被遍历过，说明不成环</span></span><br><span class=\"line\"><span class=\"comment\">//也就是说  只要有环  就必然会至少有1个节点的入度个数&gt;0 就会使得count！=numCourses,就会有环----false</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> count == numCourses;      -------<span class=\"literal\">true</span>  无环</span><br><span class=\"line\"></span><br><span class=\"line\">                </span><br><span class=\"line\">                </span><br><span class=\"line\">                </span><br><span class=\"line\">                </span><br><span class=\"line\"><span class=\"comment\">// 拓扑排序</span></span><br><span class=\"line\"><span class=\"comment\">//if(count != numCourses)&#123;   //BFS 区别三</span></span><br><span class=\"line\"><span class=\"comment\">//   return new int[]&#123;&#125;;</span></span><br><span class=\"line\"><span class=\"comment\">//&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//return res;</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==其实比判定环的代码就多了几行，添加到指定集合中，从而获取拓扑排序==</p>\n<p><strong>流程</strong></p>\n<p>​\t \t1、建图，有向边代表「被依赖」关系<br>\n​        2、建立入度数组<br>\n​        3、建立队列<br>\n​        4、判断入度数目，将所有可能 的起点(入度为  0  ) 加到队列中<br>\n​                只要节点 i 没有入度，即没有依赖的节点,就把他作为拓扑排序的起点，加入队列<br>\n​        5、 取出队头元素，每次 取到一个 就让 count ++<br>\n​        6、 将邻居节点的入度 -1<br>\n​        7、邻居节点的个数为 0 也加到队列中<br>\n​        8、 如果所有节点都被遍历过，说明不成环</p>\n</blockquote>\n<h5 id=\"复用的代码-2\">复用的代码</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//根据邻接表去创建一个图  将 输入的  prerequisites[][]   转化为邻接表形式</span></span><br><span class=\"line\">    List&lt;Integer&gt;[] buildGraph(<span class=\"type\">int</span> numCourses, <span class=\"type\">int</span>[][] prerequisites) &#123;</span><br><span class=\"line\">        LinkedList&lt;Integer&gt;[] graph = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>[numCourses];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class=\"line\">            graph[i] = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span>[] edge:prerequisites) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//定义正常的依赖关系</span></span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">from</span> <span class=\"operator\">=</span> edge[<span class=\"number\">1</span>];</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">to</span> <span class=\"operator\">=</span> edge[<span class=\"number\">0</span>];</span><br><span class=\"line\">            <span class=\"comment\">// 添加一条从 from 指向 to 的有向边</span></span><br><span class=\"line\">            <span class=\"comment\">// 边的方向是「被依赖」关系，即修完课程 from 才能修课程 to</span></span><br><span class=\"line\">            graph[from].add(to);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> graph;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"二分图\">二分图</h4>\n<blockquote>\n<p>&lt; 图中  各个节点  的状态 只有两个 可进行选取 &gt;</p>\n</blockquote>\n<h5 id=\"二分图判定思路\">二分图判定思路</h5>\n<blockquote>\n<p><strong>二分图怎么判断，其实就是让 <code>dfs</code> 函数一边遍历节点，一边给节点染色，尝试让每对相邻节点的颜色都不一样</strong>。</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 二分图遍历框架 */</span></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(Graph graph, <span class=\"type\">boolean</span>[] visited, <span class=\"type\">int</span> v)</span> &#123;</span><br><span class=\"line\">    visited[v] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 遍历节点 v 的所有相邻节点 neighbor</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> neighbor : graph.neighbors(v)) &#123;</span><br><span class=\"line\">         <span class=\"comment\">// 相邻节点 neighbor 没有被访问过</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!visited[neighbor]) &#123;</span><br><span class=\"line\">           </span><br><span class=\"line\">            <span class=\"comment\">// 那么应该给节点 neighbor 涂上和节点 v 不同的颜色</span></span><br><span class=\"line\">            </span><br><span class=\"line\">           dfs(graph, visited, neighbor);</span><br><span class=\"line\">            </span><br><span class=\"line\">        <span class=\"comment\">// 相邻节点 neighbor 已经被访问过</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"comment\">// 那么应该比较节点 neighbor 和节点 v 的颜色</span></span><br><span class=\"line\">            <span class=\"comment\">// 若相同，则此图不是二分图</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"判定\">判定</h5>\n<blockquote>\n<p>已知邻接表  或者邻接矩阵  不要建图   所谓的 <code>graph[][]</code> 的形参就是  邻接表/ 邻接矩阵的表示方法</p>\n</blockquote>\n<h6 id=\"BFS-3\">BFS</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">            <span class=\"type\">boolean</span> color[];</span><br><span class=\"line\">            <span class=\"type\">boolean</span> visited[];</span><br><span class=\"line\">            <span class=\"type\">boolean</span> <span class=\"variable\">isbipartiteGraph</span> <span class=\"operator\">=</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isBipartite</span><span class=\"params\">(<span class=\"type\">int</span>[][] graph)</span> &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span>graph.length;</span><br><span class=\"line\">                color = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[n];</span><br><span class=\"line\">                visited = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[n];</span><br><span class=\"line\">                <span class=\"comment\">//应对 多个 不连通 的 子图的时候</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(!visited[i]) &#123;</span><br><span class=\"line\">bfs(graph, i);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> isbipartiteGraph;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">             <span class=\"keyword\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] graph, <span class=\"type\">int</span> start)</span> &#123;</span><br><span class=\"line\">                 <span class=\"keyword\">if</span>(!isbipartiteGraph)  <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">Queue&lt;Integer&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">visited[start] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">queue.offer(start);</span><br><span class=\"line\">                 <span class=\"keyword\">while</span> (!queue.isEmpty())&#123;</span><br><span class=\"line\">                     <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">                     <span class=\"comment\">// 邻居节点</span></span><br><span class=\"line\">                    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j:graph[i]) &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(!visited[j])&#123;</span><br><span class=\"line\">                            color[j] = !color[i];</span><br><span class=\"line\">visited[j] =<span class=\"literal\">true</span>;</span><br><span class=\"line\"><span class=\"comment\">// 邻居节点进队</span></span><br><span class=\"line\">queue.offer(j);</span><br><span class=\"line\">                        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                            <span class=\"keyword\">if</span>(color[j] == color[i])&#123;</span><br><span class=\"line\">                                isbipartiteGraph = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                                <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                 &#125;</span><br><span class=\"line\">             &#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"DFS-2\">DFS</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">        <span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"type\">boolean</span> color[];</span><br><span class=\"line\">            <span class=\"type\">boolean</span> visited[];</span><br><span class=\"line\">            <span class=\"type\">boolean</span> <span class=\"variable\">isbipartiteGraph</span> <span class=\"operator\">=</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isBipartite</span><span class=\"params\">(<span class=\"type\">int</span>[][] graph)</span> &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> graph.length;</span><br><span class=\"line\">                color =<span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[n];</span><br><span class=\"line\">                visited = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[n];</span><br><span class=\"line\">                <span class=\"comment\">// 应对出现  不联通子图的 情况</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(!visited[i])  </span><br><span class=\"line\"><span class=\"comment\">//和 BFS 的区别 一</span></span><br><span class=\"line\">dfs(graph,i);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>  isbipartiteGraph;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//和 BFS 的区别二</span></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span>[][] graph, <span class=\"type\">int</span> i)</span> &#123;</span><br><span class=\"line\">               <span class=\"keyword\">if</span>(!isbipartiteGraph) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">visited[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j: graph[i]) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (!visited[j]) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">//上 不同的色</span></span><br><span class=\"line\">                        color[j] = !color[i];</span><br><span class=\"line\"><span class=\"comment\">//继续递归</span></span><br><span class=\"line\">dfs(graph, j);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">//判断颜色一不一样</span></span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (color[j] == color[i]) &#123;</span><br><span class=\"line\">                            isbipartiteGraph = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"可能的二分图-DFS、BFS\">可能的二分图&lt;DFS、BFS&gt;</h4>\n<blockquote>\n<p>只给出了各个节点 和什么节点相连  就要建图</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> \t<span class=\"type\">boolean</span> color[];</span><br><span class=\"line\">    <span class=\"type\">boolean</span> visited[];</span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"variable\">bipartiteGraph</span> <span class=\"operator\">=</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">possibleBipartition</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span>[][] dislikes)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//索引 偏移</span></span><br><span class=\"line\">       color = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[n+<span class=\"number\">1</span>];</span><br><span class=\"line\">         <span class=\"comment\">//索引 偏移</span></span><br><span class=\"line\">       visited = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[n+<span class=\"number\">1</span>];</span><br><span class=\"line\">       List&lt;Integer&gt;[] graph =  buildGraph(n,dislikes);</span><br><span class=\"line\">         <span class=\"comment\">//索引 偏移</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">         <span class=\"comment\">//   if(!visited[i])</span></span><br><span class=\"line\">            dfs(graph,i);   <span class=\"comment\">//bfs(graph, i); </span></span><br><span class=\"line\">       <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> bipartiteGraph;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">//dfs</span></span><br><span class=\"line\">     <span class=\"keyword\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(List&lt;Integer&gt;[] graph, <span class=\"type\">int</span> i)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!bipartiteGraph)  <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        visited[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j:graph[i]) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!visited[j])&#123;</span><br><span class=\"line\">                color[j] = !color[i];</span><br><span class=\"line\">                dfs(graph,j);</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(color[j] == color[i])&#123;</span><br><span class=\"line\">                    bipartiteGraph = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">//bfs</span></span><br><span class=\"line\">     <span class=\"keyword\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">(List&lt;Integer&gt;[] graph, <span class=\"type\">int</span> start)</span> &#123;</span><br><span class=\"line\">         <span class=\"keyword\">if</span>(!bipartiteGraph) <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">         Queue&lt;Integer&gt; queue = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">         visited[start]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">         queue.offer(start);</span><br><span class=\"line\">         <span class=\"keyword\">while</span>(!queue.isEmpty())&#123;</span><br><span class=\"line\">            <span class=\"comment\">//遍历 每一个弹出队列的邻接节点（邻居）</span></span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> queue.poll();</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j:graph[i])&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(!visited[j])&#123;</span><br><span class=\"line\">                    color[j] = !color[i];</span><br><span class=\"line\">                    visited[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">                    queue.offer(j);</span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(color[j]==color[i])&#123;</span><br><span class=\"line\">                        bipartiteGraph = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">     &#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"建无向图\">建无向图</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"comment\">// 建图的 邻接矩阵表示法</span></span><br><span class=\"line\">List&lt;Integer&gt;[] buildGraph(<span class=\"type\">int</span> n,<span class=\"type\">int</span>[][] dislikes)&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 下标 从一 开始  所以会有索引 偏移</span></span><br><span class=\"line\">    List&lt;Integer&gt;[]graph = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>[n+<span class=\"number\">1</span>];</span><br><span class=\"line\">      <span class=\"comment\">//索引 偏移  初始化</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;=n; i++) &#123;</span><br><span class=\"line\">        graph[i] = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;Integer&gt;();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span>[]edge:dislikes) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">from</span> <span class=\"operator\">=</span> edge[<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">to</span> <span class=\"operator\">=</span> edge[<span class=\"number\">0</span>];</span><br><span class=\"line\">        graph[from].add(to);</span><br><span class=\"line\">        graph[to].add(from);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> graph;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>上面两题的bfs dfs 是一模一样，  只有主函数有些区别，一方面是：多了个 <strong>建图</strong>   另一方面是由于题目问题导致的<strong>索引偏移</strong></p>\n</blockquote>\n<h4 id=\"Union-Find-并查集\">Union Find  并查集</h4>\n<h6 id=\"主要需要实现这两个-API：\">主要需要实现这两个 API：</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">UF</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">/* 将 p 和 q 连接 */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">union</span><span class=\"params\">(<span class=\"type\">int</span> p, <span class=\"type\">int</span> q)</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* 判断 p 和 q 是否连通 */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">connected</span><span class=\"params\">(<span class=\"type\">int</span> p, <span class=\"type\">int</span> q)</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* 返回图中有多少个连通分量 */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">count</span><span class=\"params\">()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>这里所说的「连通」是一种等价关系，也就是说具有如下三个性质：</p>\n<p>1、自反性：节点 <code>p</code> 和 <code>p</code> 是连通的。</p>\n<p>2、对称性：如果节点 <code>p</code> 和 <code>q</code> 连通，那么 <code>q</code> 和 <code>p</code> 也连通。</p>\n<p>3、传递性：如果节点 <code>p</code> 和 <code>q</code> 连通，<code>q</code> 和 <code>r</code> 连通，那么 <code>p</code> 和 <code>r</code> 也连通。</p>\n</blockquote>\n<blockquote>\n<p>因为我们使用森林（若干棵树）来表示图的动态连通性，用数组来具体实现这个森林。</p>\n</blockquote>\n<blockquote>\n<p>怎么用森林来表示连通性呢？我们设定树的每个节点有一个指针指向其父节点，如果是根节点的话，这个指针指向自己。</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">UF</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 记录连通分量</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> count;</span><br><span class=\"line\">    <span class=\"comment\">// 节点 x 的父节点是 parent[x]</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span>[] parent;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* 构造函数，n 为图的节点总数 */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">UF</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 一开始互不连通</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.count = n;</span><br><span class=\"line\">        <span class=\"comment\">// 父节点指针初始指向自己</span></span><br><span class=\"line\">        parent = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++)</span><br><span class=\"line\">            parent[i] = i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/* 其他函数 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>如果某两个节点被连通，则让其中的（任意）一个节点的根节点接到另一个节点的根节点上</strong>;</p>\n<p><strong>这样，如果节点 <code>p</code> 和 <code>q</code> 连通的话，它们一定拥有相同的根节点</strong>;</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">UF</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 连通分量个数</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> count;</span><br><span class=\"line\">    <span class=\"comment\">// 存储每个节点的父节点</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span>[] parent;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// n 为图中节点的个数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">UF</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.count = n;</span><br><span class=\"line\">        parent = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">            parent[i] = i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 将节点 p 和节点 q 连通</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">union</span><span class=\"params\">(<span class=\"type\">int</span> p, <span class=\"type\">int</span> q)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">rootP</span> <span class=\"operator\">=</span> find(p);</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">rootQ</span> <span class=\"operator\">=</span> find(q);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (rootP == rootQ)</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">        parent[rootQ] = rootP;</span><br><span class=\"line\">        <span class=\"comment\">// 两个连通分量合并成一个连通分量</span></span><br><span class=\"line\">        count--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 判断节点 p 和节点 q 是否连通</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">connected</span><span class=\"params\">(<span class=\"type\">int</span> p, <span class=\"type\">int</span> q)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">rootP</span> <span class=\"operator\">=</span> find(p);</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">rootQ</span> <span class=\"operator\">=</span> find(q);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> rootP == rootQ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (parent[x] != x) &#123;</span><br><span class=\"line\">            parent[x] = find(parent[x]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> parent[x];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 返回图中的连通分量个数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">count</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>总结一下我们优化算法的过程：</p>\n<p>1、用 <code>parent</code> 数组记录每个节点的父节点，相当于指向父节点的指针，所以 <code>parent</code> 数组内实际存储着一个森林（若干棵多叉树）。</p>\n<p>2、用 <code>size</code> 数组记录着每棵树的重量，目的是让 <code>union</code> 后树依然拥有平衡性，保证各个 API 时间复杂度为 O(logN)，而不会退化成链表影响操作效率。</p>\n<p>3、在 <code>find</code> 函数中进行路径压缩，保证任意树的高度保持在常数，使得各个 API 时间复杂度为 O(1)。使用了路径压缩之后，可以不使用 <code>size</code> 数组的平衡优化。</p>\n</blockquote>\n<blockquote>\n<p>==注== 二维坐标 <code>(x,y)</code> 可以转换成 <code>x * n + y</code> 这个数（<code>m</code> 是棋盘的行数，<code>n</code> 是棋盘的列数），<strong>敲黑板，这是将二维坐标映射到一维的常用技巧</strong>。</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">equationsPossible</span><span class=\"params\">(String[] equations)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Union_Find</span> <span class=\"variable\">union_find</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Union_Find</span>(<span class=\"number\">26</span>);</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(String eq:equations) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 先让相等的字母形成 连通分量</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (eq.charAt(<span class=\"number\">1</span>) == <span class=\"string\">&#x27;=&#x27;</span>) &#123;</span><br><span class=\"line\">                <span class=\"type\">char</span> <span class=\"variable\">x</span> <span class=\"operator\">=</span> eq.charAt(<span class=\"number\">0</span>);</span><br><span class=\"line\">                <span class=\"type\">char</span> <span class=\"variable\">y</span> <span class=\"operator\">=</span> eq.charAt(<span class=\"number\">3</span>);</span><br><span class=\"line\">                <span class=\"comment\">//转为数字</span></span><br><span class=\"line\">                union_find.union(x - <span class=\"string\">&#x27;a&#x27;</span>, y - <span class=\"string\">&#x27;a&#x27;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 要是有不等的就判断不等的是不是 相连通的 </span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(String eq:equations)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(eq.charAt(<span class=\"number\">1</span>) == <span class=\"string\">&#x27;!&#x27;</span>)&#123;</span><br><span class=\"line\">                <span class=\"type\">char</span> x= eq.charAt(<span class=\"number\">0</span>);</span><br><span class=\"line\">                <span class=\"type\">char</span> <span class=\"variable\">y</span> <span class=\"operator\">=</span> eq.charAt(<span class=\"number\">3</span>);</span><br><span class=\"line\">                <span class=\"comment\">//转为数字   != 还连通了那肯定就是错了</span></span><br><span class=\"line\">               <span class=\"keyword\">if</span>(union_find.connection(x-<span class=\"string\">&#x27;a&#x27;</span>,y-<span class=\"string\">&#x27;a&#x27;</span>)) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">// 并将上述的unionFind 代码框架进行复写</span></span><br></pre></td></tr></table></figure>\n","_path":"post/7608.html","_link":"http://rycan.top/post/7608.html","_id":"cljiv9xc6001pue13581n0zck"}}