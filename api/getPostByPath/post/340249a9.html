{"type":"getPostByPath","data":{"title":"数组","date":"2023-09-06T15:47:14.000Z","description":"算法章节之数组","categories":[{"name":"算法","_id":"clo9tj5vw0059l10p0dv00gx5"}],"tags":[{"name":"算法","_id":"clo9tj5w5007ql10pgayd9b2n"}],"content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n<h2 id=\"双指针\"><a href=\"#双指针\" class=\"headerlink\" title=\"双指针\"></a>双指针</h2><h4 id=\"模版\"><a href=\"#模版\" class=\"headerlink\" title=\"模版\"></a>模版</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span>(fast&lt;nums.length)&#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(nums[fast] != nums[slow])&#123;</span><br><span class=\"line\">           <span class=\"comment\">//先++ 再赋值，因为此时slow是有值的，第一个值肯定是保留的</span></span><br><span class=\"line\">           slow++;        <span class=\"comment\">//①</span></span><br><span class=\"line\">           nums[slow] = nums[fast];      <span class=\"comment\">//②  </span></span><br><span class=\"line\">           <span class=\"comment\">// 第一个值如果是要保留的，那么顺序就是①②</span></span><br><span class=\"line\">           <span class=\"comment\">// 第一个值如果是不一定保留的，那么顺序就是②①         </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">     fast++;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"移除数值等于-val-的元素\"><a href=\"#移除数值等于-val-的元素\" class=\"headerlink\" title=\"移除数值等于 val 的元素\"></a>移除数值等于 val 的元素</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">removeElement</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> val)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">fast</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">slow</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nums[i] != val)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 可能包含 第一个</span></span><br><span class=\"line\">            nums[slow]=nums[fast];</span><br><span class=\"line\">            slow++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">            fast++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> slow;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"移动-数组中的-0-元素-到末尾\"><a href=\"#移动-数组中的-0-元素-到末尾\" class=\"headerlink\" title=\"移动 数组中的 0 元素 到末尾\"></a>移动 数组中的 0 元素 到末尾</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">moveZeroes</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">fast</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">slow</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nums[i]!=<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 可能包含 第一个</span></span><br><span class=\"line\">            nums[slow] = nums[fast];</span><br><span class=\"line\">            slow++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        fast++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> slow; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        nums[i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"两数之和-II-输入有序数组\"><a href=\"#两数之和-II-输入有序数组\" class=\"headerlink\" title=\"两数之和 II - 输入有序数组\"></a>两数之和 II - 输入有序数组</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span>[] twoSum(<span class=\"type\">int</span>[] numbers, <span class=\"type\">int</span> target) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> head= <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">tail</span> <span class=\"operator\">=</span> numbers.length-<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(head &lt; tail)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(numbers[head]+numbers[tail] &lt; target)&#123;</span><br><span class=\"line\">            head++;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">if</span> (numbers[head]+numbers[tail] &gt; target)&#123;</span><br><span class=\"line\">            tail--;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">if</span>(numbers[head]+numbers[tail] == target)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;head+<span class=\"number\">1</span>,tail+<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"删除有序数组中的重复项\"><a href=\"#删除有序数组中的重复项\" class=\"headerlink\" title=\"删除有序数组中的重复项\"></a>删除有序数组中的重复项</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">removeDuplicates</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(nums.length == <span class=\"number\">0</span> ) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(nums.length == <span class=\"number\">1</span> ) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">fast</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">slow</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(fast&lt;nums.length)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nums[fast] != nums[slow])&#123;</span><br><span class=\"line\">            <span class=\"comment\">//肯定不包含第一个</span></span><br><span class=\"line\">            slow++;</span><br><span class=\"line\">            nums[slow] = nums[fast];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        fast++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> slow+<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"反转字符串数组\"><a href=\"#反转字符串数组\" class=\"headerlink\" title=\"反转字符串数组\"></a>反转字符串数组</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">reverseString</span><span class=\"params\">(<span class=\"type\">char</span>[] s)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">head</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">tail</span> <span class=\"operator\">=</span> s.length-<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(head &lt; tail)&#123;</span><br><span class=\"line\">        <span class=\"type\">char</span> <span class=\"variable\">temp</span> <span class=\"operator\">=</span> s[head];</span><br><span class=\"line\">        s[head] = s[tail];</span><br><span class=\"line\">        s[tail] = temp;</span><br><span class=\"line\">        head++;</span><br><span class=\"line\">        tail--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"单调栈\"><a href=\"#单调栈\" class=\"headerlink\" title=\"单调栈\"></a>单调栈</h2><blockquote>\n<p>所有  <code>入栈</code>元素  都是<code>数组的下标</code>—<code>i</code></p>\n</blockquote>\n<h4 id=\"模版-1\"><a href=\"#模版-1\" class=\"headerlink\" title=\"模版\"></a>模版</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; height.length; i++) &#123;</span><br><span class=\"line\">     <span class=\"keyword\">while</span> (!stack.isEmpty() &amp;&amp; height[i] &gt;(/&lt;) height[stack.peek()]) &#123;  </span><br><span class=\"line\">          ...</span><br><span class=\"line\">          stack.pop();</span><br><span class=\"line\">       \t\t...</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">          stack.push(i);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"最大的矩形\"><a href=\"#最大的矩形\" class=\"headerlink\" title=\"最大的矩形\"></a>最大的矩形</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">largestRectangleArea</span><span class=\"params\">(<span class=\"type\">int</span>[] heights)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"comment\">//扩容、初始化</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] temp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[heights.length + <span class=\"number\">2</span>];</span><br><span class=\"line\">    <span class=\"comment\">//  从 1 开始 &lt;=</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= heights.length; i++) &#123;</span><br><span class=\"line\">        temp[i] = heights[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; temp.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &lt;</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!stack.isEmpty() &amp;&amp; temp[i] &lt; temp[stack.peek()]) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> temp[stack.peek()];</span><br><span class=\"line\">            stack.pop();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!stack.isEmpty()) &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">width</span> <span class=\"operator\">=</span> i - stack.peek() - <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">area</span> <span class=\"operator\">=</span> width * mid;</span><br><span class=\"line\">                sum = Math.max(sum, area);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stack.push(i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"柱状图中最大的矩形\"><a href=\"#柱状图中最大的矩形\" class=\"headerlink\" title=\"柱状图中最大的矩形\"></a>柱状图中最大的矩形</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maximalRectangle</span><span class=\"params\">(<span class=\"type\">char</span>[][] matrix)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] heights = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[matrix[<span class=\"number\">0</span>].length];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; matrix.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 逐层开始往上面迭代，循环开始获得每一层 都为底的 最大面积</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; matrix[<span class=\"number\">0</span>].length; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (matrix[i][j] == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                heights[j] += <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> heights[j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        sum = Math.max(sum, largestRectangleArea(heights));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">largestRectangleArea</span><span class=\"params\">(<span class=\"type\">int</span>[] heights)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"comment\">//扩容、初始化</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[] temp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[heights.length + <span class=\"number\">2</span>];</span><br><span class=\"line\">    <span class=\"comment\">//  从 1 开始 &lt;=</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= heights.length; i++) &#123;</span><br><span class=\"line\">        temp[i] = heights[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; temp.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &lt;</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!stack.isEmpty() &amp;&amp; temp[i] &lt; temp[stack.peek()]) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> temp[stack.peek()];</span><br><span class=\"line\">            stack.pop();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!stack.isEmpty()) &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">width</span> <span class=\"operator\">=</span> i - stack.peek() - <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">area</span> <span class=\"operator\">=</span> width * mid;</span><br><span class=\"line\">                sum = Math.max(sum, area);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stack.push(i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"接雨水\"><a href=\"#接雨水\" class=\"headerlink\" title=\"接雨水\"></a>接雨水</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">trap</span><span class=\"params\">(<span class=\"type\">int</span>[] height)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] result;</span><br><span class=\"line\">    result = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[height.length];</span><br><span class=\"line\">    Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">    stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; height.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!stack.isEmpty() &amp;&amp; height[i] &gt; height[stack.peek()]) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 下凹槽的深度</span></span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> height[stack.peek()];</span><br><span class=\"line\">            stack.pop();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!stack.isEmpty()) &#123;</span><br><span class=\"line\">                <span class=\"comment\">//  两侧高于 凹槽处的地方 取 短板</span></span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">high</span> <span class=\"operator\">=</span> Math.min(height[stack.peek()], height[i]) - mid;</span><br><span class=\"line\">                <span class=\"type\">int</span> <span class=\"variable\">width</span> <span class=\"operator\">=</span> i - stack.peek() - <span class=\"number\">1</span>;</span><br><span class=\"line\">                sum += high * width;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stack.push(i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"每日温度\"><a href=\"#每日温度\" class=\"headerlink\" title=\"每日温度\"></a>每日温度</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span>[] dailyTemperatures(<span class=\"type\">int</span>[] temperatures) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] result;</span><br><span class=\"line\"></span><br><span class=\"line\">    result = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[temperatures.length];</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">index</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">    stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; temperatures.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!stack.isEmpty() &amp;&amp; temperatures[i] &gt; temperatures[stack.peek()]) &#123;</span><br><span class=\"line\">            index = stack.peek();</span><br><span class=\"line\">            result[stack.peek()] = i - index;</span><br><span class=\"line\">            stack.pop();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stack.push(i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"下一个更大元素-I\"><a href=\"#下一个更大元素-I\" class=\"headerlink\" title=\"下一个更大元素 I\"></a>下一个更大元素 I</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span>[] nextGreaterElement(<span class=\"type\">int</span>[] nums1, <span class=\"type\">int</span>[] nums2) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] result;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] temp;</span><br><span class=\"line\">    temp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums2.length];</span><br><span class=\"line\">    result = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums1.length];</span><br><span class=\"line\">    Arrays.fill(temp, -<span class=\"number\">1</span>);</span><br><span class=\"line\">    Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">    HashMap&lt;Integer, Integer&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"comment\">//保证 栈 非空</span></span><br><span class=\"line\">    stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; nums2.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//找到了 第一个 比栈顶元素大 的 数</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!stack.isEmpty() &amp;&amp; nums2[i] &gt; nums2[stack.peek()]) &#123;</span><br><span class=\"line\">            temp[stack.peek()] = nums2[i];</span><br><span class=\"line\">            <span class=\"comment\">//原来的 栈顶元素 出栈</span></span><br><span class=\"line\">            stack.pop();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//新的栈顶元素进栈</span></span><br><span class=\"line\">        stack.push(i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums2.length; i++) &#123;</span><br><span class=\"line\">        map.put(nums2[i], temp[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums1.length; i++) &#123;</span><br><span class=\"line\">        result[i] = map.get(nums1[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"数组内-循环-找下一个更大元素-II\"><a href=\"#数组内-循环-找下一个更大元素-II\" class=\"headerlink\" title=\"数组内  循环  找下一个更大元素 II\"></a>数组内  循环  找下一个更大元素 II</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span>[] nextGreaterElements(<span class=\"type\">int</span>[] nums) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] result;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] temp;</span><br><span class=\"line\">    result = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums.length];</span><br><span class=\"line\">    temp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">2</span> * nums.length];</span><br><span class=\"line\">    Arrays.fill(temp, -<span class=\"number\">1</span>);</span><br><span class=\"line\">    Stack&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">Stack</span>&lt;&gt;();</span><br><span class=\"line\">    stack.push(<span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; <span class=\"number\">2</span> * nums.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!stack.isEmpty() &amp;&amp; nums[i % nums.length] &gt; nums[stack.peek()]) &#123;</span><br><span class=\"line\">            temp[stack.peek()] = nums[i % nums.length];</span><br><span class=\"line\">            stack.pop();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stack.push(i % nums.length);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        result[i] = temp[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"二分搜索\"><a href=\"#二分搜索\" class=\"headerlink\" title=\"二分搜索\"></a>二分搜索</h2><blockquote>\n<ol>\n<li>计算 <code>mid</code> 时需要防止溢出，代码中 <code>left + (right - left) / 2</code> 就和 <code>(left + right) / 2</code> 的结果相同，但是有效防止了 <code>left</code> 和 <code>right</code> 太大，直接相加导致溢出的情况。</li>\n<li>while(  &lt;= )    &lt;=\\=&gt;    right的赋值是<code>nums.length - 1</code>   &lt;==&gt;    两端都闭区间 <code>[left, right]</code><ul>\n<li><code>left = mid + 1</code>   或者    <code>right = mid - 1</code></li>\n</ul>\n</li>\n<li>while(  &lt; )    &lt;=\\=&gt;    right 的赋值是 <code>nums.length</code>     &lt;==&gt;    左闭右开区间 <code>[left, right)</code><ul>\n<li><code>left = mid + 1</code>  或者     <code>right = mid</code></li>\n</ul>\n</li>\n</ol>\n</blockquote>\n<h4 id=\"模版-2\"><a href=\"#模版-2\" class=\"headerlink\" title=\"模版\"></a>模版</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//模板</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(left &lt;= right) &#123;\t\t\t\t\t\t\t\t\t\t---left &lt; right\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t---left &lt; right</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> left + (right - left) / <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums[mid] &lt; target) &#123;</span><br><span class=\"line\">            left = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (nums[mid] &gt; target) &#123;</span><br><span class=\"line\">            right = mid - <span class=\"number\">1</span>; \t\t\t\t\t\t\t\t--- right=mid ; \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t----right = mid ;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid] == target) &#123;</span><br><span class=\"line\">... <span class=\"comment\">//三选一 \t\t  </span></span><br><span class=\"line\"> <span class=\"comment\">// 返回中点索引值\t\t\t\t//左边界                    \t\t\t\t\t\t\t\t//右边界</span></span><br><span class=\"line\"><span class=\"comment\">/**return mid;*/</span>\t\t<span class=\"comment\">/*right = mid - 1;**/</span>   ---right = mid ;          <span class=\"comment\">/**left = mid + 1;*/</span>  ----left = mid + <span class=\"number\">1</span> ;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">--注意：</span><br><span class=\"line\">\t----其实对于左右边界而言</span><br><span class=\"line\">\t----返回的条件也是一样的，就是在 <span class=\"keyword\">while</span>()&#123;&#125;中有所变化</span><br><span class=\"line\">....... <span class=\"comment\">//三选一</span></span><br><span class=\"line\"> <span class=\"comment\">// 返回中点索引值\t\t//左边界</span></span><br><span class=\"line\"> <span class=\"comment\">//return -1;  \t\t//if (left == nums.length) return -1;\t\t\t\t//if (left - 1 &lt; 0) return -1;</span></span><br><span class=\"line\">                    <span class=\"comment\">// 判断一下 nums[left] 是不是 target                  // 判断一下 nums[left] 是不是 target</span></span><br><span class=\"line\">                    <span class=\"comment\">//return nums[left] == target ? left : -1;         //return nums[left - 1] == target ? (left - 1) : -1;</span></span><br><span class=\"line\">&#125; </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"在排序数组中查找元素的第一个和最后一个位置\"><a href=\"#在排序数组中查找元素的第一个和最后一个位置\" class=\"headerlink\" title=\"在排序数组中查找元素的第一个和最后一个位置\"></a>在排序数组中查找元素的第一个和最后一个位置</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span>[] searchRange(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> target) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] result = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums.length];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (nums.length == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;-<span class=\"number\">1</span>, -<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> leftBound(nums, target);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> rightBound(nums, target);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;left, right&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"title function_\">rightBound</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (left &lt; right) &#123;</span><br><span class=\"line\">        mid = left + (right - left) / <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums[mid] &lt; target) &#123;</span><br><span class=\"line\">            left = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (nums[mid] &gt; target) &#123;</span><br><span class=\"line\">            right = mid;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            left = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (left - <span class=\"number\">1</span> &lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums[left - <span class=\"number\">1</span>] == target ? left - <span class=\"number\">1</span> : -<span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"title function_\">leftBound</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (left &lt; right) &#123;</span><br><span class=\"line\">        mid = left + (right - left) / <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums[mid] &lt; target) &#123;</span><br><span class=\"line\">            left = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (nums[mid] &gt; target) &#123;</span><br><span class=\"line\">            right = mid;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            right = mid;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (left == nums.length) <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums[left] == target ? right : -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"搜索旋转排序数组\"><a href=\"#搜索旋转排序数组\" class=\"headerlink\" title=\"搜索旋转排序数组\"></a>搜索旋转排序数组</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">search</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> nums.length - <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (left &lt;= right) &#123;</span><br><span class=\"line\">        mid = left + (right - left) / <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> tail= nums[right];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">head</span>  <span class=\"operator\">=</span> nums[left];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums[mid] == target) <span class=\"keyword\">return</span> mid;</span><br><span class=\"line\">            <span class=\"comment\">//head 肯定是大于 tail 的，所以 只要找到一段有序的就可以了</span></span><br><span class=\"line\">            <span class=\"comment\">//后半段有序</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid] &lt; tail)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[mid] &lt;target &amp;&amp; tail &gt;= target)&#123;</span><br><span class=\"line\">                left = mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                right = mid-<span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[mid] &gt;target &amp;&amp; head &lt;= target)&#123;</span><br><span class=\"line\">                right = mid-<span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                left = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"寻找数组的最小值-找最小值\"><a href=\"#寻找数组的最小值-找最小值\" class=\"headerlink\" title=\"寻找数组的最小值  找最小值\"></a>寻找数组的最小值  找最小值</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 牛客   找最小值  只与尾巴比较</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">minNumberInRotateArray</span><span class=\"params\">(<span class=\"type\">int</span> [] array)</span> &#123;</span><br><span class=\"line\">   <span class=\"type\">int</span>  <span class=\"variable\">right</span> <span class=\"operator\">=</span> array.length - <span class=\"number\">1</span>;</span><br><span class=\"line\">   <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">   <span class=\"type\">int</span> <span class=\"variable\">mid</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">   <span class=\"comment\">//尾巴 必然是小于等于 头   所以只进行比较 尾巴就可以了</span></span><br><span class=\"line\">   <span class=\"keyword\">while</span> (left &lt;= right) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"keyword\">if</span> (left + <span class=\"number\">1</span>  == right)  <span class=\"keyword\">return</span> Math.min(array[left], array[right]);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"type\">int</span> <span class=\"variable\">tail</span> <span class=\"operator\">=</span> array[right];</span><br><span class=\"line\">       mid = (right - left) / <span class=\"number\">2</span> + left;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (array[mid] &gt; tail) &#123; <span class=\"comment\">//比尾巴还 大</span></span><br><span class=\"line\">           left  =  mid;</span><br><span class=\"line\">       &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (array[mid] &lt; tail) &#123; <span class=\"comment\">//比尾巴还小  说明后面一段肯定是递增的</span></span><br><span class=\"line\">           right = mid ;</span><br><span class=\"line\">       &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">//和尾巴 或者 头 一样大的时候   一个一个尝试</span></span><br><span class=\"line\">           <span class=\"comment\">// left+=1; 是过不掉 用例  1,0,1,1,1  的  原因是 我们比较的 是结尾节点的 元素(array[right])</span></span><br><span class=\"line\">           right -= <span class=\"number\">1</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> array[mid];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"前缀和\"><a href=\"#前缀和\" class=\"headerlink\" title=\"前缀和\"></a>前缀和</h2><blockquote>\n<ol>\n<li>数组从  下标   <code>i~j</code> 的多个数进行求和</li>\n<li>Presum 的 第一位 默认为 0 ;  赋值是从 第二位<code>（i=1）</code>开始的</li>\n</ol>\n</blockquote>\n<h3 id=\"一维数组\"><a href=\"#一维数组\" class=\"headerlink\" title=\"一维数组\"></a>一维数组</h3><h4 id=\"模版-3\"><a href=\"#模版-3\" class=\"headerlink\" title=\"模版\"></a>模版</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//使用 数组 的形式</span></span><br><span class=\"line\"><span class=\"type\">int</span> preSum[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>(nums.length+<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class=\"line\">    preSum[i] = preSum[i-<span class=\"number\">1</span>]+nums[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//返回某一个 区间的 值</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> preSum[right + <span class=\"number\">1</span>] - preSum[left];</span><br><span class=\"line\"><span class=\"comment\">//Presum 的 第一位 默认为 0 ;  赋值是从 第二位（i=1）开始的  </span></span><br><span class=\"line\"><span class=\"comment\">//所以是   right + 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//使用求和的形式</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span><span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class=\"line\">       sum += nums[i];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//使用map 集合的形式：</span></span><br><span class=\"line\">HashMap&lt;Integer, Integer&gt; preSumMap = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;Integer, Integer&gt;();</span><br><span class=\"line\">    <span class=\"comment\">//前缀和map集合 第一位一样为0</span></span><br><span class=\"line\">   preSumMap.put(<span class=\"number\">0</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">   <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class=\"line\">       sum+=nums[i];</span><br><span class=\"line\">        ...</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"原理：\"><a href=\"#原理：\" class=\"headerlink\" title=\"原理：\"></a>原理：</h4><p><img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202303241717648.png\" alt=\"image-20230324171756609\" style=\"zoom:25%;\"></p>\n<h3 id=\"二维数组\"><a href=\"#二维数组\" class=\"headerlink\" title=\"二维数组\"></a>二维数组</h3><h4 id=\"模版-4\"><a href=\"#模版-4\" class=\"headerlink\" title=\"模版\"></a>模版</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> [][]preSum = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">   <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">         <span class=\"comment\">// 计算每个矩阵 [0, 0, i, j] 的元素和</span></span><br><span class=\"line\">         preSum[i][j] = preSum[i-<span class=\"number\">1</span>][j] + preSum[i][j-<span class=\"number\">1</span>] + matrix[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] - preSum[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>];</span><br><span class=\"line\">          <span class=\"comment\">//获得每个矩阵的大小</span></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span> preSum[x2+<span class=\"number\">1</span>][y2+<span class=\"number\">1</span>] - preSum[x1][y2+<span class=\"number\">1</span>] - preSum[x2+<span class=\"number\">1</span>][y1] + preSum[x1][y1];</span><br></pre></td></tr></table></figure>\n<h4 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h4><p>​    1、<code>preSum[i][j] = preSum[i-1][j] + preSum[i][j-1] + matrix[i - 1][j - 1] - preSum[i-1][j-1];</code></p>\n<ul>\n<li><p>这是来获得矩阵中每一位的 值，preSum矩阵的 行<code>i</code> 列<code>j</code>表示  原矩阵  的第<code>(i-1)</code>行第<code>(j-1)</code>列的元素之和是多少</p>\n</li>\n<li><p>这个公式的含义就是：</p>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202303241646207.png\" alt=\"image-20230324164633137\"></p>\n<p>将已知的 <code>矩阵面积[i-1,j]（红色部分）</code> 和<code>矩阵面积[i,j-1]（绿色部分）</code>之和 减去 <code>重叠矩阵面积[i,j-1]（黄色字体部分）</code> 再加上<code>原矩阵的当前值matrix[i-1,j-1]</code>   就是所求得到<code>原矩阵[i-1,j-1]面积之和</code>  存放在 <code>现在矩阵preSum[i][j]</code>中</p>\n<p><strong>注意：</strong><code>i，j</code>都是以preSum为基准，上图的矩阵是 <code>matirx</code>中的矩阵</p>\n<p>2、<code>preSum[x2+1][y2+1] - preSum[x1][y2+1] - preSum[x2+1][y1] + preSum[x1][y1];</code></p>\n<p>​    <strong>原理图</strong>：</p>\n<p><img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202303241707744.png\" alt=\"image-20230324170718702\" style=\"zoom:25%;\"></p>\n<h3 id=\"例题\"><a href=\"#例题\" class=\"headerlink\" title=\"例题\"></a>例题</h3><h4 id=\"模版题\"><a href=\"#模版题\" class=\"headerlink\" title=\"模版题\"></a>模版题</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * 一维数组前缀和</span></span><br><span class=\"line\"><span class=\"comment\">    * <span class=\"doctag\">@param</span> nums</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">   int [] presum;</span></span><br><span class=\"line\"><span class=\"comment\">   public NumArray(int[] nums) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">   presum = new int[nums.length+1];</span></span><br><span class=\"line\"><span class=\"comment\">   for (int i = 1; i &lt;= nums.length; i++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">   presum[i] = presum[i-1] + nums[i-1];</span></span><br><span class=\"line\"><span class=\"comment\">   &#125;</span></span><br><span class=\"line\"><span class=\"comment\">   &#125;</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">   public int sumRange(int left, int right) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">   return presum[right+1] - presum[left];</span></span><br><span class=\"line\"><span class=\"comment\">   &#125;</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * 二维数组前缀和</span></span><br><span class=\"line\"><span class=\"comment\">    *</span></span><br><span class=\"line\"><span class=\"comment\">    * <span class=\"doctag\">@param</span> matrix</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">   int[][] presum;</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">   public NumMatrix(int[][] matrix) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">   if (matrix.length == 0 || matrix[0].length == 0) return;</span></span><br><span class=\"line\"><span class=\"comment\">   presum = new int[matrix.length + 1][matrix[0].length + 1];</span></span><br><span class=\"line\"><span class=\"comment\">   for (int i = 1; i &lt;= matrix.length; i++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">   for (int j = 1; j &lt;= matrix[0].length; j++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">   presum[i][j] = presum[i - 1][j] + presum[i][j - 1] + matrix[i - 1][j - 1] - presum[i - 1][j - 1];</span></span><br><span class=\"line\"><span class=\"comment\">   &#125;</span></span><br><span class=\"line\"><span class=\"comment\">   &#125;</span></span><br><span class=\"line\"><span class=\"comment\">   &#125;</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">   public int sumRegion(int row1, int col1, int row2, int col2) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">   return presum[row2 + 1][col2 + 1] - presum[row1][col2 + 1] - presum[row2 + 1][col1] + presum[row1][col1];</span></span><br><span class=\"line\"><span class=\"comment\">   &#125;</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"和为-K-的子数组-的个数\"><a href=\"#和为-K-的子数组-的个数\" class=\"headerlink\" title=\"和为 K 的子数组 的个数\"></a>和为 K 的子数组 的个数</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">subarraySum</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">    HashMap&lt;Integer, Integer&gt; presum = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>();</span><br><span class=\"line\">    presum.put(<span class=\"number\">0</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">cnt</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> a : nums) &#123;</span><br><span class=\"line\">        sum += a;</span><br><span class=\"line\">        <span class=\"comment\">// 需要进行遍历</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (presum.containsKey(sum - k)) &#123;</span><br><span class=\"line\">            cnt += presum.get(sum - k);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        presum.put(sum, presum.getOrDefault(sum, <span class=\"number\">0</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cnt;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"统计「优美子数组」\"><a href=\"#统计「优美子数组」\" class=\"headerlink\" title=\"统计「优美子数组」\"></a>统计「优美子数组」</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">numberOfSubarrays</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 偶数 =0   奇数 = 1   和为 K</span></span><br><span class=\"line\">    HashMap&lt;Integer, Integer&gt; presum = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">    presum.put(<span class=\"number\">0</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">cnt</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> a : nums) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (a % <span class=\"number\">2</span> == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            a = <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            a = <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        sum += a;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (presum.containsKey(sum - k)) &#123;</span><br><span class=\"line\">            cnt += presum.get(sum - k);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        presum.put(sum, presum.getOrDefault(sum, <span class=\"number\">0</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cnt;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"寻找数组的中心下标\"><a href=\"#寻找数组的中心下标\" class=\"headerlink\" title=\"寻找数组的中心下标\"></a>寻找数组的中心下标</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">pivotIndex</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> a : nums) &#123;</span><br><span class=\"line\">        sum += a;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        sum -= nums[i];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (sum == left) <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">        left += nums[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"差分数组\"><a href=\"#差分数组\" class=\"headerlink\" title=\"差分数组\"></a>差分数组</h2><blockquote>\n<ol>\n<li><strong>主要适用场景</strong> 是频繁对原始数组的<strong>某个区间的元素进行增减</strong>。</li>\n<li>总共需要<code>三个数组</code>  <code>diff[]差分数组  nums[]原始数组   res []还原后的数组</code></li>\n</ol>\n</blockquote>\n<h4 id=\"模版-5\"><a href=\"#模版-5\" class=\"headerlink\" title=\"模版\"></a>模版</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">diff[]   i  j  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 得到 差分数组</span></span><br><span class=\"line\">diff[<span class=\"number\">0</span>] = nums[<span class=\"number\">0</span>];  <span class=\"comment\">//区别</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= <span class=\"number\">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class=\"line\">    diff[i] = nums[i]-nums[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">&#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 还原原数组</span></span><br><span class=\"line\"><span class=\"type\">int</span> res[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span> [diff.length];</span><br><span class=\"line\">res[<span class=\"number\">0</span>] = diff[<span class=\"number\">0</span>];  <span class=\"comment\">// 同上 </span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i&lt;diff.length;i++)&#123;</span><br><span class=\"line\">    res[i] = res[i-<span class=\"number\">1</span>]+diff[i];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"原理-1\"><a href=\"#原理-1\" class=\"headerlink\" title=\"原理\"></a>原理</h4><p><img src=\"https://gitee.com/Ryang1118/typora/raw/master/images/202303241742451.png\" style=\"zoom:25%;\"></p>\n<h4 id=\"航班预订统计\"><a href=\"#航班预订统计\" class=\"headerlink\" title=\"航班预订统计\"></a>航班预订统计</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span>[] corpFlightBookings(<span class=\"type\">int</span>[][] bookings, <span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> diff[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n];</span><br><span class=\"line\">    <span class=\"type\">int</span> res[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span>[] ijval : bookings) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//bookings 下标 是从 1 开始的</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> ijval[<span class=\"number\">0</span>] - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> ijval[<span class=\"number\">1</span>] - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">val</span> <span class=\"operator\">=</span> ijval[<span class=\"number\">2</span>];</span><br><span class=\"line\">        diff[i] += val;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (j + <span class=\"number\">1</span> &lt; diff.length) diff[j + <span class=\"number\">1</span>] -= val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    res[<span class=\"number\">0</span>] = diff[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">        res[i] = res[i - <span class=\"number\">1</span>] + diff[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"拼车\"><a href=\"#拼车\" class=\"headerlink\" title=\"拼车\"></a>拼车</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">carPooling</span><span class=\"params\">(<span class=\"type\">int</span>[][] trips, <span class=\"type\">int</span> capacity)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//1001 为题目提示： 1 &lt;= trips.length &lt;= 1000</span></span><br><span class=\"line\">    <span class=\"type\">int</span> diff[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">1001</span>];</span><br><span class=\"line\">    <span class=\"type\">int</span>[] res = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">1001</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (trips[<span class=\"number\">0</span>][<span class=\"number\">0</span>] &gt; capacity) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span>[] valij : trips) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 因为返回的不是数组，所以和行程的起点是不是 0没什么关系，只要判断与否就可以了</span></span><br><span class=\"line\">        <span class=\"comment\">//但是到站（j）会有一批人下车，所以会  减 1</span></span><br><span class=\"line\">        <span class=\"comment\">//而且  此处的 i 是可以取到 0 的 所以就不能 减 1</span></span><br><span class=\"line\">        <span class=\"comment\">// 所以面对 [[9,0,1],[3,3,7]]的情况要  对trip[0][0]进行 单独判断</span></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">val</span> <span class=\"operator\">=</span> valij[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> valij[<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> valij[<span class=\"number\">2</span>] - <span class=\"number\">1</span>;</span><br><span class=\"line\">        diff[i] += val;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (j + <span class=\"number\">1</span> &lt; diff.length) diff[j + <span class=\"number\">1</span>] -= val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    res[<span class=\"number\">0</span>] = diff[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; res.length; i++) &#123;</span><br><span class=\"line\">        res[i] = res[i - <span class=\"number\">1</span>] + diff[i];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (res[i] &gt; capacity) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"滑动窗口\"><a href=\"#滑动窗口\" class=\"headerlink\" title=\"滑动窗口\"></a>滑动窗口</h2><blockquote>\n<ul>\n<li><code>[,)</code>称为一个窗口</li>\n</ul>\n<p>思考：</p>\n<ol>\n<li>什么时候应该移动 <code>right</code> 扩大窗口？扩大窗口加入字符时应该更新哪些数据？</li>\n<li>什么时候应该移动 <code>left</code> 缩小窗口？缩小窗口移出字符时应该更新哪些数据？</li>\n<li>我们要的<strong>结果</strong>应该在扩大窗口时还是缩小窗口时进行更新？</li>\n</ol>\n</blockquote>\n<h4 id=\"核心逻辑框架\"><a href=\"#核心逻辑框架\" class=\"headerlink\" title=\"核心逻辑框架\"></a>核心逻辑框架</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 核心逻辑</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>, right = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">while</span> (right &lt; s.size()) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 增大窗口</span></span><br><span class=\"line\">    <span class=\"type\">char</span> add= s[right];</span><br><span class=\"line\">    right++;   </span><br><span class=\"line\">    window.add(add);</span><br><span class=\"line\">    ........</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (window needs shrink) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 缩小窗口</span></span><br><span class=\"line\">        <span class=\"type\">char</span> <span class=\"variable\">remove</span> <span class=\"operator\">=</span> s[left]</span><br><span class=\"line\">        left++;</span><br><span class=\"line\">      \twindow.remove(remove);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"完整模版\"><a href=\"#完整模版\" class=\"headerlink\" title=\"完整模版\"></a>完整模版</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">完整框架</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">/* 滑动窗口算法框架 */</span></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">slidingWindow</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">    Map&lt;Character, Integer&gt; window = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\"><span class=\"comment\">//（ 变量 ）</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>, right = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (right &lt; s.length()) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// c 是将移入窗口的字符</span></span><br><span class=\"line\">        <span class=\"type\">char</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> s.charAt(right);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 增大窗口</span></span><br><span class=\"line\">        right++;</span><br><span class=\"line\"><span class=\"comment\">// 进行窗口内数据的一系列更新</span></span><br><span class=\"line\">        ...</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/*** debug 输出的位置 ***/</span></span><br><span class=\"line\">        <span class=\"comment\">// 注意在最终的解法代码中不要 print</span></span><br><span class=\"line\">        <span class=\"comment\">// 因为 IO 操作很耗时，可能导致超时</span></span><br><span class=\"line\">        System.out.printf(<span class=\"string\">&quot;window: [%d, %d)\\n&quot;</span>, left, right);</span><br><span class=\"line\">        <span class=\"comment\">/********************/</span></span><br><span class=\"line\">        </span><br><span class=\"line\"><span class=\"comment\">// 判断左侧窗口是否要收缩</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (window needs shrink) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// d 是将移出窗口的字符</span></span><br><span class=\"line\">            <span class=\"type\">char</span> <span class=\"variable\">d</span> <span class=\"operator\">=</span> s.charAt(left);</span><br><span class=\"line\">            <span class=\"comment\">// 缩小窗口</span></span><br><span class=\"line\">            left++;</span><br><span class=\"line\"><span class=\"comment\">// 进行窗口内数据的一系列更新</span></span><br><span class=\"line\">            ...</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">其中两处 ... 表示的更新窗口数据的地方，到时候直接往里面填就行了。</span><br><span class=\"line\">而且，这两个 ... 处的操作分别是扩大和缩小窗口的更新操作，等会你会发现它们操作是完全对称的。</span><br></pre></td></tr></table></figure>\n<h4 id=\"长度最小的子数组\"><a href=\"#长度最小的子数组\" class=\"headerlink\" title=\"长度最小的子数组\"></a>长度最小的子数组</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">minSubArrayLen</span><span class=\"params\">(<span class=\"type\">int</span> target, <span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> Integer.MAX_VALUE;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">cnt</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (right &lt; nums.length) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">add</span> <span class=\"operator\">=</span> nums[right];</span><br><span class=\"line\">        right++;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (sum &lt; target) &#123;</span><br><span class=\"line\">            sum += add;</span><br><span class=\"line\">            cnt++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (sum &gt;= target) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> <span class=\"variable\">discard</span> <span class=\"operator\">=</span> nums[left];</span><br><span class=\"line\">            left++;</span><br><span class=\"line\">            <span class=\"comment\">//先统计再--；防止减掉之后 sum &lt; target ，就不准了</span></span><br><span class=\"line\">            res = Math.min(res, cnt);</span><br><span class=\"line\">            sum -= discard;</span><br><span class=\"line\">            cnt--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res == Integer.MAX_VALUE ? <span class=\"number\">0</span> : res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"最大连续1的个数-可翻转最多-k个-0\"><a href=\"#最大连续1的个数-可翻转最多-k个-0\" class=\"headerlink\" title=\"最大连续1的个数 可翻转最多 k个 0\"></a>最大连续1的个数 可翻转最多 k个 0</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">longestOnes</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> k)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">left</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">right</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> k;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">cnt</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (right &lt; nums.length) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 可以取 =0  是因为 防止k=0 不断后面的是不是 1 都不会继续计算了</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums[right] == <span class=\"number\">0</span> &amp;&amp; k &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            k--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        right++;</span><br><span class=\"line\">        cnt++;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (k &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 假设是 1 不是真的变为了 1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[left] == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                k++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            left++;</span><br><span class=\"line\">            cnt--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        res = Math.max(res, cnt);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","_path":"post/340249a9.html","_link":"http://rycan.top/post/340249a9.html","_id":"clo9tj5vx005pl10p2j32gwoa"}}