<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Random Article</title>
    <url>/post/0.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/post/16107.html</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start">Quick Start</h2>
<h3 id="Create-a-new-post">Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server">Run server</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files">Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites">Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>a-æ­å»ºæ•´ä¸ªåšå®¢çš„è¿‡ç¨‹ç®€å•è®°å½•</title>
    <url>/post/19656.html</url>
    <content><![CDATA[<!-- rawçš„å¤–æŒ‚æ ‡ç­¾æ˜¯å‘Šè¯‰æ¸²æŸ“å¼•æ“è¿™æ®µä»£ç ä¸ç”¨æ¸²æŸ“ã€‚ -->

<div class="example wow animate__bounceInUp">

<meta name="referrer" content="no-referrer">
# åŸºç¡€
## ç®€å•æ­å»º

- [å®˜ç½‘][http://nodejs.cn/]å®‰è£…`nodejs`
- å®‰è£… `git`    `brew install git`

- æŸ¥çœ‹nodejsç‰ˆæœ¬     `npm -version`

- å®‰è£…cnpm ä¾èµ–äºæ·˜å®æºï¼š`npm install -g cnpm --registry=https://registry.npm.taobao.org`
- æŸ¥çœ‹cnpm ç‰ˆæœ¬  `cnpm -v`
- æˆ‘ä½¿ç”¨` cnpm install -g hexo-cli`   å‡ºç°äº†é—®é¢˜   ä½†æ˜¯  ä½¿ç”¨` npm install -g hexo-cli`å¯ä»¥
- æŸ¥çœ‹ `hexo -v`
- `mkdir RyCanBlog`
- `cd /Users/yangrui/RycanBlog`
- ` hexo init `      é€‚å½“è¿æ¥æ‰‹æœºçƒ­ç‚¹         
  - å®‰è£…æˆåŠŸï¼š `INFO  Start blogging with Hexo!`
-  `  hexo s`  å¯åŠ¨æœåŠ¡   `http://localhost:4000/`   å¹³æ—¶å†™åšå®¢çš„æ—¶å€™å¯ä»¥è¿›è¡Œ`é¢„è§ˆ`
- `cd source/_posts`
- ` hexo n "æ­å»ºæ•´ä¸ªåšå®¢çš„è¿‡ç¨‹ç®€å•è®°å½•"`  åˆ›å»ºæ–‡ç« 
- `vim æ­å»ºæ•´ä¸ªåšå®¢çš„è¿‡ç¨‹ç®€å•è®°å½•`
- ` cd /Users/yangrui/Z_RycanBlog`

- `hexo clean`
- `hexo g`
- `hexo s`  æµè§ˆ

## éƒ¨ç½²

- `Github ` ç™»å½•æ–°å»ºä¸€ä¸ªä»“åº“ï¼Œå¿…é¡»è¦å’Œè‡ªå·±çš„ç”¨æˆ·åä¸€æ ·  ï¼š å‘½åè§„åˆ™`XXX.github.io`
- `/Users/yangrui/Z_RycanBlog` ä¸‹å®‰è£…æ’ä»¶`npm install --save hexo-deployer-git`

- è®¾ç½®`vim _config.yml `     å¿…é¡»è¦æ˜¯ sshæ‰èƒ½è·å–æˆåŠŸ

  <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">--</span> <span class="string">æœ€åã®ä½ç½®</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:YangruiY/YangruiY.github.io.git</span> </span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure>

- `hexo clean`
- `hexo g`
- `hexo d`

- æµè§ˆå™¨ç›´æ¥è®¿é—®è‡ªå·±çš„`XXX.github.io` å³å¯

## æ›´æ¢ä¸»é¢˜

`cd /Users/yangrui/Z_RycanBlog`

- ä¸‹è½½ä¸»é¢˜ `git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia`
- ä¿®æ”¹hexoæ ¹ç›®å½•ä¸‹çš„ `_config.yml` ï¼š `theme: yilia`

- `vim _config.yml `

  <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">yilia</span></span><br></pre></td></tr></table></figure>

- `hexo clean & hexo g &hexo s`

![æˆåŠŸæ•ˆæœ](https://gitee.com/Ryang1118/typora/raw/master/images/202306210117794.png)

## æå‡

- DIYå®šåˆ¶åŒ–ä¸»é¢˜   `butteryfly`
- `npm install hexo-renderer-pug hexo-renderer-stylus --save`å®‰è£…pug ä»¥åŠ stylus çš„æ¸²æŸ“å™¨

- `npm install hexo-abbrlink --save`   ç»™æ¯ä¸€ç¯‡æ–‡ç« æ¥ä¸Šä¸€ä¸ªå±äºè‡ªå·±çš„é“¾æ¥æ‰€éœ€è¦çš„æ’ä»¶

- `vim _config.yml`

  <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#permalink: :year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">post/:abbrlink.html</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line"><span class="attr">alg:</span> <span class="string">crc32</span></span><br><span class="line"><span class="attr">rep:</span> <span class="string">hex</span></span><br></pre></td></tr></table></figure>

- æ–°å»ºæ–‡ç« 

  <figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm i hexo-deployer-git</span><br><span class="line">hexo new post <span class="string">&quot;è‰ç¨¿&quot;</span></span><br><span class="line">hexo cl &amp;&amp; hexo g  &amp;&amp; hexo d  &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>

  

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  é¦–é¡µ: https://haiyong.site/ || fas fas fa-home</span><br><span class="line">  èµ„æºåˆé›†|| fas fa-tags: </span><br><span class="line">    å…è´¹èµ„æº: https://code.haiyong.site/ziyuan/free/ || fas fa-tools</span><br><span class="line">    ç½‘ç«™æ¨¡æ¿: https://code.haiyong.site/moban/ || fas fa-gamepad</span><br><span class="line">    æ¸¸æˆæºç : https://code.haiyong.site/ziyuan/game/ || fas fa-anchor</span><br><span class="line">    ç¼–ç¨‹èµ„æ–™: https://code.haiyong.site/program/ || fas fa-tools</span><br><span class="line">    pptæ¨¡æ¿: https://code.haiyong.site/ziyuan/ppt/ || fas fa-gamepad</span><br><span class="line">    PCè½¯ä»¶: https://code.haiyong.site/ziyuan/pc/ || fas fa-anchor</span><br><span class="line">  å¯¼èˆª||fas fa-list:</span><br><span class="line">    æºç èµ„æºåº“: https://code.haiyong.site/ || fas fa-tags</span><br><span class="line">    å­¦ä¹ èµ„æ–™: https://haiyong.site/doc/ || fas fa-folder-open</span><br><span class="line">    æ—¶é—´çº¿: /archives/ || fas fa-archive</span><br><span class="line">    æ ‡ç­¾: /tags/ || fas fa-tags</span><br><span class="line">  æ‘¸é±¼||fas fa-fish:</span><br><span class="line">    æ¸¸æˆ: /moyu/ || fas fa-gamepad</span><br><span class="line">    å·¥å…·: /tools/ || fas fa-tools</span><br><span class="line">    åŠ¨ç”»: /demo/ || fas fa-anchor</span><br><span class="line">  æ‘¸é±¼å¤§å†›: /chat/ || fas fa-place-of-worship</span><br><span class="line">  å‹äººå¸: /link/ || fas fa-link</span><br><span class="line">  å…³äºæˆ‘: /about/ || fas fa-heart</span><br></pre></td></tr></table></figure>

</div>
]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>b-è‰ç¨¿</title>
    <url>/post/57317.html</url>
    <content><![CDATA[<meta name="referrer" content="no-referrer">
<p>ğŸ˜Š</p>
<!-- rawçš„å¤–æŒ‚æ ‡ç­¾æ˜¯å‘Šè¯‰æ¸²æŸ“å¼•æ“è¿™æ®µä»£ç ä¸ç”¨æ¸²æŸ“ã€‚ -->

<div class="example wow animate__bounceInUp">
Content to Reveal Here
</div>
]]></content>
  </entry>
  <entry>
    <title>test3</title>
    <url>/post/64bcbdce.html</url>
    <content><![CDATA[<h1>ä½ å¥½</h1>
<p>è¿™æ˜¯å…³äºæ¡†æ¶å¾—æµ‹è¯•</p>
]]></content>
      <categories>
        <category>Java</category>
        <category>æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>test</tag>
      </tags>
  </entry>
  <entry>
    <title>test1-md</title>
    <url>/post/f7dce0fd.html</url>
    <content><![CDATA[<h1>ä½ å¥½</h1>
<p>è¿™æ˜¯å…³äºæ¡†æ¶å¾—æµ‹è¯•</p>
]]></content>
      <categories>
        <category>Java</category>
        <category>æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>test</tag>
      </tags>
  </entry>
  <entry>
    <title>test2</title>
    <url>/post/13bb8d58.html</url>
    <content><![CDATA[<h1>ä½ å¥½</h1>
<p>è¿™æ˜¯å…³äºä¸­é—´è§å¾—æµ‹è¯•</p>
]]></content>
      <categories>
        <category>Java</category>
        <category>ä¸­é—´ä»¶</category>
      </categories>
      <tags>
        <tag>test</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­å»ºæ•´ä¸ªåšå®¢çš„è¿‡ç¨‹ç®€å•è®°å½•</title>
    <url>/post/44109.html</url>
    <content><![CDATA[<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
  <iframe src="//player.bilibili.com/player.html?aid=xxx&cid=yyy&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe>
</div>
]]></content>
  </entry>
  <entry>
    <title>æ­å»ºæ•´ä¸ªåšå®¢çš„è¿‡ç¨‹ç®€å•è®°å½•</title>
    <url>/post/44108.html</url>
    <content><![CDATA[<div class="note [class] [no-icon] [style] flat"><p>Any content (support inline tags <a href="http://too.io">too.io</a>).</p>
</div>
<div class="note simple"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note default simple"><p>default æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note primary simple"><p>primary æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note success simple"><p>success æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note info simple"><p>info æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note warning simple"><p>warning æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note danger simple"><p>danger æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note modern"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note default modern"><p>default æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note primary modern"><p>primary æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note success modern"><p>success æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note info modern"><p>info æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note warning modern"><p>warning æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note danger modern"><p>danger æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note flat"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note default flat"><p>default æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note primary flat"><p>primary æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note success flat"><p>success æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note info flat"><p>info æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note warning flat"><p>warning æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note danger flat"><p>danger æç¤ºå—æ ‡ç­¾</p>
</div>
<div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p>
</div>
<div class="note blue icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦</p>
</div>
<div class="note pink icon-padding simple"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p>
</div>
<div class="note red icon-padding simple"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p>
</div>
<div class="note orange icon-padding simple"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p>
</div>
<div class="note purple icon-padding simple"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p>
</div>
<div class="note green icon-padding simple"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p>
</div>
<div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">ç¬¬ä¸€ä¸ªTab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>ç‚¸å¼¹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>åå­—+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/post/4a17b156.html</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">
  <script id="hbeData" type="hbeData" data-hmacdigest="ce555f8107aa346036f38ee0d9093d97aaa00878620100a7075deb6b15873be7">d36d2f4437a113f718ffbdd57d70fc1d628e1e65798aa0d4c5b9bf1e1585a7be4385f0363055d3c721157334e0363cdddb70a9f1732c0bd60e848eb7ca98efdf9221e2fe4f9696b7124aa22dffa0dd80</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-xray">
      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>
      </label>
      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">
        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>
        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>
      </svg>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>ç§å¯†æ–‡ç« </tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•çš„æ‰‹è®°</title>
    <url>/post/7608.html</url>
    <content><![CDATA[<meta name="referrer" content="no-referrer">
<h2 id="ACMé¢˜è§£æ³¨æ„">ACMé¢˜è§£æ³¨æ„</h2>
<h3 id="è¾“å…¥è¾“å‡º">è¾“å…¥è¾“å‡º</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> scanner.nextLine();   æ•´è¡Œè¯»å…¥</span><br><span class="line"> String[] s = str.split(<span class="string">&quot; &quot;</span>);    å°†è¯»å…¥çš„è¡ŒæŒ‰â€œ â€åˆ†å‰²</span><br><span class="line"> Integer.parseInt(c);   å°†å­—ç¬¦ä¸²c  è½¬ä¸º  æ•´æ•°</span><br><span class="line"> System.out.println(String.join(<span class="string">&quot; &quot;</span>,s1));    åœ¨s1ä¸­åŠ ä¸Šç©ºæ ¼</span><br><span class="line"></span><br><span class="line">Q:</span><br><span class="line"></span><br><span class="line">è¾“å…¥æ•°æ®æœ‰å¤šç»„, æ¯è¡Œè¡¨ç¤ºä¸€ç»„è¾“å…¥æ•°æ®ã€‚</span><br><span class="line">æ¯è¡Œä¸å®šæœ‰nä¸ªæ•´æ•°ï¼Œç©ºæ ¼éš”å¼€ã€‚(<span class="number">1</span> &lt;= n &lt;= <span class="number">100</span>)ã€‚</span><br><span class="line">    </span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">A:</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestMain</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        </span><br><span class="line">            <span class="keyword">while</span> (scanner.hasNext()) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">                <span class="type">String</span> <span class="variable">num</span> <span class="operator">=</span> scanner.nextLine();  <span class="comment">//Line</span></span><br><span class="line">                String[] s = num.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">                <span class="keyword">for</span>(String c:s)&#123;</span><br><span class="line">                    sum += Integer.parseInt(c);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(sum);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Q:</span><br><span class="line">è¾“å…¥æœ‰ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œn</span><br><span class="line">ç¬¬äºŒè¡Œæ˜¯nä¸ªå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€</span><br><span class="line">    </span><br><span class="line"><span class="number">5</span></span><br><span class="line">c d a bb e</span><br><span class="line"></span><br><span class="line">a bb c d e</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">A:</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestMain</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">        String s[] = <span class="keyword">new</span> <span class="title class_">String</span>[a];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a; i++) &#123;</span><br><span class="line">                <span class="type">String</span>  <span class="variable">num</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">                 s[i] = num;</span><br><span class="line">            &#125;</span><br><span class="line">            Arrays.sort(s);</span><br><span class="line">            <span class="keyword">for</span> (String c : s) &#123;</span><br><span class="line">                System.out.print(c+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Q:</span><br><span class="line">å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸€è¡Œã€‚</span><br><span class="line">æ¯è¡Œé€šè¿‡ç©ºæ ¼éš”å¼€ï¼Œæœ‰nä¸ªå­—ç¬¦ï¼Œnï¼œ<span class="number">100</span></span><br><span class="line">    </span><br><span class="line">a c bb</span><br><span class="line">f dddd</span><br><span class="line">nowcoder</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">a bb c</span><br><span class="line">dddd f</span><br><span class="line">nowcoder</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">A:</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span>(scanner.hasNext()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> scanner.nextLine();</span><br><span class="line">            String[] s = str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            Arrays.sort(s);</span><br><span class="line">            System.out.println(String.join(<span class="string">&quot; &quot;</span>,s));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Q: ä¸¤æ•°ä¹‹å’Œ     è¾“å…¥æœ‰å¤šç»„æµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ç»„ç©ºæ ¼éš”å¼€ä¸¤ä¸ªæ•´æ•°</span><br><span class="line"><span class="number">0</span>&lt;a,</span><br><span class="line">b&lt;<span class="number">2</span>Ã—<span class="number">10</span>çš„<span class="number">10</span>æ¬¡æ–¹</span><br><span class="line">     </span><br><span class="line">A:</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span>(scanner.hasNext()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> scanner.nextLine();</span><br><span class="line">            String[] s = str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="type">int</span> n= s.length;</span><br><span class="line">            <span class="type">Long</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0L</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;n; i++) &#123;</span><br><span class="line">                sum += Long.parseLong(s[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(sum);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//res   è½¬ä¸º   Stringæ•°ç»„</span></span><br><span class="line">String[] strings = res.toArray(<span class="keyword">new</span> <span class="title class_">String</span>[res.size()]);</span><br></pre></td></tr></table></figure>
<h3 id="æ ‘">æ ‘</h3>
<h4 id="åˆ›å»ºèŠ‚ç‚¹">åˆ›å»ºèŠ‚ç‚¹</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å…ˆåˆ›å»ºHeroNodeç»“ç‚¹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HeroNode</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> no;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> HeroNode left;.<span class="comment">//é»˜è®¤null</span></span><br><span class="line">    <span class="keyword">private</span> HeroNode right;<span class="comment">//é»˜è®¤null</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HeroNode</span><span class="params">(<span class="type">int</span> no,String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.no=no;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getNo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> no;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNo</span><span class="params">(<span class="type">int</span> no)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.no = no;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> HeroNode <span class="title function_">getLeft</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLeft</span><span class="params">(HeroNode left)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.left=left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> HeroNode getRightO&#123;</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRight</span><span class="params">(HeroNode right)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.right right;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;HeroNode [no=&quot;</span>no <span class="string">&quot;name=&quot;</span>name <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//å‰åºéå†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>);<span class="comment">//å…ˆè¾“å‡ºçˆ¶ç»“ç‚¹</span></span><br><span class="line">        <span class="comment">//é€’å½’å‘å·¦å­æ ‘å‰åºéå†</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.left !<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.left.preOrder();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//é€’å½’å‘å³å­æ ‘å‰åºéå†</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.right !=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.right.preOrderO;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸­åºéå†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//é€’å½’å‘å·¦å­æ ‘ä¸­åºéå†</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.left !<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.left.infixOrder();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è¾“å‡ºçˆ¶ç»“ç‚¹</span></span><br><span class="line">        System.out.println(<span class="built_in">this</span>);</span><br><span class="line">        <span class="comment">//é€’å½’å‘å³å­æ ‘ä¸­åºéå†</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.right !<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.right.infixOrderO;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">//ååºéå†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postOrder</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.left !<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.left.postOrderO);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.right !<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.right.postOrderO;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>);<span class="comment">//å…ˆè¾“å‡ºçˆ¶ç»“ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å»ºæ ‘ï¼š">å»ºæ ‘ï¼š</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰ä¸€é¢—äºŒå‰æ ‘</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BinaryTree</span>&#123;	</span><br><span class="line">    <span class="keyword">private</span> HeroNode root;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRoot</span><span class="params">(HeroNode root)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.root=root;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//å‰åºéå†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.root !=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.root.preOrder();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;äºŒå‰æ ‘ä¸ºç©ºï¼Œæ— æ³•éå†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//ä¸­åºéå†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">()</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.root !=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.root.infixOrder();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;äºŒå‰æ ‘ä¸ºç©ºï¼Œæ— æ³•éå†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//ååºéå†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postOrder</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.root !=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.root.postOrderO;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;äºŒå‰æ ‘ä¸ºç©ºï¼Œæ— æ³•éå†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ä½¿ç”¨æ ‘">ä½¿ç”¨æ ‘</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[]args)</span>&#123;</span><br><span class="line">    <span class="comment">//å…ˆéœ€è¦åˆ›å»ºä¸€é¢—äºŒå‰æ ‘</span></span><br><span class="line">    BinaryTree binaryTree <span class="keyword">new</span> <span class="title class_">BinaryTree</span>();</span><br><span class="line">    <span class="comment">//åˆ›å»ºéœ€è¦çš„ç»“ç‚¹</span></span><br><span class="line">    HeroNode root=<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">1</span>,<span class="string">&quot;å®‹æ±Ÿ&quot;</span>);</span><br><span class="line">    HeroNode node2=<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">2</span>,<span class="string">&quot;å´ç”¨&quot;</span>);</span><br><span class="line">    HeroNode node<span class="number">.3</span>=<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">3</span>,<span class="string">&quot;å¢ä¿Šä¹‰&quot;</span>);</span><br><span class="line">    HeroNode node4=<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">4</span>,<span class="string">&quot;æ—å†²&quot;</span>);</span><br><span class="line">	HeroNode node5=<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">5</span>,<span class="string">&quot;å…³èƒœ&quot;</span>)ï¼›</span><br><span class="line">	<span class="comment">//æˆ‘ä»¬å…ˆæ‰‹åŠ¨åˆ›å»ºè¯¥äºŒå‰æ ‘ï¼Œåé¢æˆ‘ä»¬å­¦ä¹ é€’å½’çš„æ–¹å¼åˆ›å»ºäºŒå‰æ ‘</span></span><br><span class="line">    root.setLeft(node2);</span><br><span class="line">    root.setRight(node3);</span><br><span class="line">    node3.setRight(node4);</span><br><span class="line">    node3.setLeft(node5);</span><br><span class="line">    binary Tree.setRoot(root);</span><br><span class="line"><span class="comment">//æµ‹è¯•</span></span><br><span class="line">    System.out.printlne(<span class="string">&quot;å‰åºéå†&quot;</span>);<span class="comment">//1,2,3,5,4</span></span><br><span class="line">    binaryTree.preOrder();</span><br><span class="line"><span class="comment">//æµ‹è¯•</span></span><br><span class="line">    System.out.println(<span class="string">&quot;ä¸­åºéå†&quot;</span>);</span><br><span class="line">    binaryTree.infixOrder();<span class="comment">//2,1,5,3,4</span></span><br><span class="line"><span class="comment">//æµ‹è¯•</span></span><br><span class="line">    System.out.println(<span class="string">&quot;ååºéå†&quot;</span>);</span><br><span class="line">    binaryTree.postOrder();<span class="comment">//2,5,4,3,1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åŠ›æ‰£è§£é¢˜æ—¶æ³¨æ„">åŠ›æ‰£è§£é¢˜æ—¶æ³¨æ„</h2>
<h2 id="æ•°å­¦">æ•°å­¦</h2>
<h4 id="è´¨æ•°">è´¨æ•°</h4>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="type">boolean</span> <span class="title function_">isPrim</span><span class="params">(<span class="type">int</span> x)</span> &#123; <span class="comment">/* è´¨æ•°åˆ¤æ–­ */</span></span><br><span class="line">  <span class="keyword">if</span> (x == <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= Math.sqrt(x); i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (x % i == <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="å›æ–‡æ•°">å›æ–‡æ•°</h4>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPalindrome</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(x&lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> x;</span><br><span class="line">  <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>(tmp&gt;<span class="number">0</span>)&#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">last_num</span> <span class="operator">=</span> tmp%<span class="number">10</span>;</span><br><span class="line">      tmp = tmp/<span class="number">10</span>;</span><br><span class="line">      y= y * <span class="number">10</span> + last_num;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> y == x;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="äºŒå‰æ ‘">äºŒå‰æ ‘</h2>
<h3 id="é€’å½’-ä¸‰æ­¥åˆ†ææ³•">&lt;é€’å½’&gt;ä¸‰æ­¥åˆ†ææ³•</h3>
<h5 id="ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ï¼š"><strong>ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ï¼š</strong></h5>
<p>ç¡®å®šå“ªäº›å‚æ•°æ˜¯é€’å½’çš„è¿‡ç¨‹ä¸­éœ€è¦å¤„ç†çš„ï¼Œé‚£ä¹ˆå°±åœ¨é€’å½’å‡½æ•°é‡ŒåŠ ä¸Šè¿™ä¸ªå‚æ•°ï¼Œ å¹¶ä¸”è¿˜è¦æ˜ç¡®æ¯æ¬¡é€’å½’çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆè¿›è€Œç¡®å®šé€’å½’å‡½æ•°çš„è¿”å›ç±»å‹ã€‚</p>
<blockquote>
<p>äºŒå‰æ ‘çš„å‚æ•°ä¸€èˆ¬éƒ½æ˜¯   ==æ ¹èŠ‚ç‚¹  +   æ•°ç»„== ï¼ˆå­˜æ”¾éå†çš„å…ƒç´ ï¼‰</p>
</blockquote>
<h5 id="ç¡®å®šç»ˆæ­¢æ¡ä»¶ï¼š"><strong>ç¡®å®šç»ˆæ­¢æ¡ä»¶ï¼š</strong></h5>
<p>å†™å®Œäº†é€’å½’ç®—æ³•, è¿è¡Œçš„æ—¶å€™ï¼Œç»å¸¸ä¼šé‡åˆ°æ ˆæº¢å‡ºçš„é”™è¯¯ï¼Œå°±æ˜¯æ²¡å†™ç»ˆæ­¢æ¡ä»¶æˆ–è€…ç»ˆæ­¢æ¡ä»¶å†™çš„ä¸å¯¹ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿæ˜¯ç”¨ä¸€ä¸ªæ ˆçš„ç»“æ„æ¥ä¿å­˜æ¯ä¸€å±‚é€’å½’çš„ä¿¡æ¯ï¼Œå¦‚æœé€’å½’æ²¡æœ‰ç»ˆæ­¢ï¼Œæ“ä½œç³»ç»Ÿçš„å†…å­˜æ ˆå¿…ç„¶å°±ä¼šæº¢å‡ºã€‚</p>
<h5 id="ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘ï¼š"><strong>ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘ï¼š</strong></h5>
<p>ç¡®å®šæ¯ä¸€å±‚é€’å½’éœ€è¦å¤„ç†çš„ä¿¡æ¯ã€‚åœ¨è¿™é‡Œä¹Ÿå°±ä¼šé‡å¤è°ƒç”¨è‡ªå·±æ¥å®ç°é€’å½’çš„è¿‡ç¨‹ã€‚</p>
<h3 id="çº²é¢†ï¼š">çº²é¢†ï¼š</h3>
<p>ä¸¤ç§æ€ç»´ï¼š&lt;éƒ½æ˜¯é€’å½’&gt;</p>
<ul>
<li>éå†â€”â€” å›æº¯   ä½¿ç”¨ <strong>traverseå‡½æ•°</strong> çš„éå†é€’å½’      traverse + å¤–éƒ¨å˜é‡</li>
<li>åˆ†è§£é—®é¢˜â€”â€”dp/åˆ†æ²»   ä½¿ç”¨<strong>étraverseå‡½æ•°</strong> é€’å½’       å‡½æ•° + è¿”å›å€¼</li>
</ul>
<p>äºŒå‰æ ‘<strong>éå†æ¡†æ¶</strong>éƒ½æ˜¯ é€’å½’ çš„</p>
<p>ä¸‰ä¸ªç‰¹æ®Šæ—¶é—´ç‚¹</p>
<blockquote>
<p>å‰åºä½ç½®çš„ä»£ç åœ¨==åˆšåˆšè¿›å…¥==ä¸€ä¸ªäºŒå‰æ ‘èŠ‚ç‚¹çš„æ—¶å€™æ‰§è¡Œ</p>
<blockquote>
<p><strong>å‰åºä½ç½®çš„ä»£ç  åªèƒ½ ä»å‡½æ•°å‚æ•°ä¸­è·å–çˆ¶èŠ‚ç‚¹ä¼ é€’æ¥çš„æ•°æ®</strong></p>
</blockquote>
<p>ååºä½ç½®çš„ä»£ç åœ¨==å°†è¦ç¦»å¼€==ä¸€ä¸ªäºŒå‰æ ‘èŠ‚ç‚¹çš„æ—¶å€™æ‰§è¡Œ</p>
<blockquote>
<p><strong>ååºä½ç½®çš„ä»£ç   ä¸ä»…  å¯ä»¥è·å–å‚æ•°æ•°æ®ï¼Œè¿˜å¯ä»¥  è·å–åˆ°å­æ ‘é€šè¿‡å‡½æ•°è¿”å›å€¼ä¼ é€’å›æ¥çš„æ•°æ®</strong></p>
</blockquote>
<p>ä¸­åºä½ç½®çš„ä»£ç åœ¨ä¸€ä¸ªäºŒå‰æ ‘èŠ‚ç‚¹å·¦å­æ ‘éƒ½éå†å®Œï¼Œ==å³å°†å¼€å§‹==éå†å³å­æ ‘çš„æ—¶å€™æ‰§è¡Œ</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">104</span> æœ€å¤§æ·±åº¦å’Œ</span><br><span class="line"><span class="comment">// é€’å½’ï¼Œåˆ†è§£å­é—®é¢˜æœ€ä¸ºç®€å• </span></span><br><span class="line">    </span><br><span class="line">----å­é—®é¢˜    <span class="number">1</span>ã€å› ä¸ºéœ€è¦ å·¦å³å‡½æ•°çš„é€’å½’å€¼ï¼Œæ‰€ä»¥è¦åœ¨é€’å½’æ—¶è¿›è¡Œå˜é‡èµ‹å€¼ (ä¸ä¸€å®šæœ‰)  ï¼ˆæ­¤å¤„æœ‰ï¼‰ <span class="type">int</span> XX= XXmethod();</span><br><span class="line">			 <span class="number">2</span>ã€æ‰€æœ‰åˆ©ç”¨å­é—®é¢˜æ±‚è§£çš„å‡½æ•°ç»è¿‡å¤šæ¬¡é€’å½’æœ€ç»ˆä¼šå¾—åˆ°ç­”æ¡ˆï¼Œæ‰€ä»¥ç›´æ¥å°±éƒ½è§†ä¸º  å·²ç»å¾—å‡ºç­”æ¡ˆçš„å‡½æ•°ï¼Œè¿™æ ·åœ¨è°ƒåŠ¨ç”¨çš„æ—¶å€™å°±ä¸ç”¨æƒ³å¤ªå¤š</span><br><span class="line">    <span class="comment">//æ±‚æ·±åº¦æ‰€ä»¥ç»“æœåŠ 1</span></span><br><span class="line">    </span><br><span class="line"><span class="number">144</span> å‰åºéå†</span><br><span class="line"><span class="comment">// traverse å‡½æ•°ä¸ä¼šæœ‰é—®é¢˜ï¼Œåœ¨å‰åºéå†çš„ä½ç½®ä¸Šæœ‰addæ“ä½œ</span></span><br><span class="line">    </span><br><span class="line"><span class="number">543</span> ç›´å¾„</span><br><span class="line">    <span class="comment">// åˆ©ç”¨104æ±‚æ·±åº¦çš„å‡½æ•°ï¼Œ104ç»“æœæœª+1æ—¶ï¼Œæ‰€æ±‚çš„å°±æ˜¯æ‰€è°“çš„ç›´å¾„ï¼Œæ‰€ä»¥åœ¨è¿™æ—¶å€™ç›´æ¥æ±‚å’Œè¿›è¡Œå¯¹æ¯”æ›¿æ¢</span></span><br><span class="line"></span><br><span class="line"> ----å­é—®é¢˜    <span class="number">1</span>ã€å› ä¸ºéœ€è¦ å·¦å³å‡½æ•°çš„é€’å½’å€¼ï¼Œæ‰€ä»¥è¦åœ¨é€’å½’æ—¶è¿›è¡Œå˜é‡èµ‹å€¼ (ä¸ä¸€å®šæœ‰)  ï¼ˆæ­¤å¤„æœ‰ï¼‰ <span class="type">int</span> XX= XXmethod();</span><br><span class="line">			 <span class="number">2</span>ã€æ‰€æœ‰åˆ©ç”¨å­é—®é¢˜æ±‚è§£çš„å‡½æ•°ç»è¿‡å¤šæ¬¡é€’å½’æœ€ç»ˆä¼šå¾—åˆ°ç­”æ¡ˆï¼Œæ‰€ä»¥ç›´æ¥å°±éƒ½è§†ä¸º  å·²ç»å¾—å‡ºç­”æ¡ˆçš„å‡½æ•°ï¼Œè¿™æ ·åœ¨è°ƒåŠ¨ç”¨çš„æ—¶å€™å°±ä¸ç”¨æƒ³å¤ªå¤š</span><br><span class="line">    </span><br><span class="line"><span class="comment">// åˆ†è§£å­é—®é¢˜çš„æ—¶å€™è¦è¿›è¡Œæ¯”è¾ƒï¼Œ</span></span><br><span class="line">    ä¹Ÿå°±æ˜¯è¯´</span><br><span class="line">    	è¦æ±‚ç›´å¾„å¿…å…ˆæ±‚æ·±åº¦ï¼Œå› ä¸ºå°±å•è¾¹è€Œè¨€ ç›´å¾„çš„è·ç¦»æ˜¯å°äºæ·±åº¦çš„</span><br><span class="line">    æ­¤å¤„å°±æ˜¯åœ¨æ±‚æ·±åº¦çš„æ—¶å€™åŠ ä¸Šäº†ä¸¤è¡Œä»£ç </span><br><span class="line">    	<span class="comment">// æ±‚ç›´å¾„</span></span><br><span class="line">    	<span class="type">int</span> <span class="variable">lfsum</span> <span class="operator">=</span>  leftdepth+rightdepth;</span><br><span class="line">        <span class="comment">// è®¡ç®—å·¦å³ä¹‹å’Œæœ€å¤§å€¼å¹¶è¿›è¡Œæ›¿æ¢ç»“æœå€¼</span></span><br><span class="line">        maxdis = Math.max(lfsum,maxdis);</span><br><span class="line">		å…¶ä¸­leftdepth å’Œ rightdepthçš„å¤§å°å°±æ˜¯ç”±è°ƒç”¨è‡ªå·±çš„æ·±åº¦è€Œæ¥</span><br><span class="line">         ä½†æ˜¯è¿™ä¸ª+<span class="number">1</span>æ‰æ˜¯æ·±åº¦ï¼Œæ­¤å¤„æ²¡æœ‰åœ¨æœ€ç»ˆç»“æœä¸­ +<span class="number">1</span> ï¼Œæ‰€ä»¥å°±æ˜¯ç›´å¾„ï¼Œç›´å¾„ä¹‹å’Œ  å’Œ  maxdis æ¯”è¾ƒå¾—åˆ°ç»“æœï¼Œéšåé€’å½’å³å¯ </span><br></pre></td></tr></table></figure>
<h3 id="æ€è·¯ï¼š">æ€è·¯ï¼š</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="number">226</span> åè½¬äºŒå‰æ ‘  </span><br><span class="line">----å­é—®é¢˜    <span class="number">1</span>ã€å› ä¸ºéœ€è¦ å·¦å³å‡½æ•°çš„é€’å½’å€¼ï¼Œæ‰€ä»¥è¦åœ¨é€’å½’æ—¶è¿›è¡Œå˜é‡èµ‹å€¼   (ä¸ä¸€å®šæœ‰)  ï¼ˆæ­¤å¤„æœ‰ï¼‰</span><br><span class="line">			 <span class="number">2</span>ã€æ‰€æœ‰åˆ©ç”¨å­é—®é¢˜æ±‚è§£çš„å‡½æ•°ç»è¿‡å¤šæ¬¡é€’å½’æœ€ç»ˆä¼šå¾—åˆ°ç­”æ¡ˆï¼Œæ‰€ä»¥ç›´æ¥å°±éƒ½è§†ä¸º  å·²ç»å¾—å‡ºç­”æ¡ˆçš„å‡½æ•°ï¼Œè¿™æ ·åœ¨è°ƒåŠ¨ç”¨çš„æ—¶å€™å°±ä¸ç”¨æƒ³å¤ªå¤š   </span><br><span class="line">   	<span class="comment">//è¿™é‡Œä¹Ÿæ˜¯ï¼Œå­é—®é¢˜è§†ä¸ºå·²ç»å°†æ‰€æœ‰å­æ ‘è¿›å¥½äº†åè½¬ï¼Œç°åœ¨éœ€è¦å¯¹ root è¿›è¡Œç¿»è½¬å°±å¯ä»¥äº†ï¼Œæ‰€ä»¥å°±æ˜¯</span></span><br><span class="line">        root.right = leftnode;  </span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line"><span class="comment">// ä½†æ˜¯è¿™é‡Œè°ƒæ¢æ˜¾ç„¶æ˜¯è¦ç”¨åˆ°å·¦å³å­æ ‘ è°ƒæ¢çš„ ç»“æœ æ‰èƒ½è¿›è¡Œå·¦å³å­æ ‘è°ƒæ¢ï¼Œæ‰€ä»¥ä¹Ÿè¦å¯¹é€’å½’å‡½æ•°è¿›è¡Œèµ‹å€¼æ‰èƒ½è°ƒç”¨    éœ€è¦  åˆ©ç”¨å­é—®é¢˜çš„è¿”å›å€¼</span></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="number">116</span> å¡«å……èŠ‚ç‚¹çš„å³ä¾§æŒ‡é’ˆ </span><br><span class="line">    </span><br><span class="line">        <span class="comment">//è¯¥åˆ¤ç©ºå°±åˆ¤ç©ºï¼Œæ”¹ä¸º ä¸‰å‰æ ‘ </span></span><br><span class="line">        <span class="comment">// ä½¿ç”¨nextè¿›è¡Œè¿æ¥</span></span><br><span class="line">        <span class="comment">// ç›´æ¥å°±æ˜¯ä¸€ä¸ªéå†ï¼Œtraverse </span></span><br><span class="line"></span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">   </span><br><span class="line">   <span class="number">114</span> äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</span><br><span class="line">----å­é—®é¢˜    <span class="number">1</span>ã€å› ä¸ºéœ€è¦ å·¦å³å‡½æ•°çš„é€’å½’å€¼ï¼Œæ‰€ä»¥è¦åœ¨é€’å½’æ—¶è¿›è¡Œå˜é‡èµ‹å€¼ (ä¸ä¸€å®šæœ‰)  ã€ä¸å¯èµ‹å€¼ã€‘</span><br><span class="line">			 <span class="number">2</span>ã€æ‰€æœ‰åˆ©ç”¨å­é—®é¢˜æ±‚è§£çš„å‡½æ•°ç»è¿‡å¤šæ¬¡é€’å½’æœ€ç»ˆä¼šå¾—åˆ°ç­”æ¡ˆï¼Œæ‰€ä»¥ç›´æ¥å°±éƒ½è§†ä¸º  å·²ç»å¾—å‡ºç­”æ¡ˆçš„å‡½æ•°ï¼Œè¿™æ ·åœ¨è°ƒåŠ¨ç”¨çš„æ—¶å€™å°±ä¸ç”¨æƒ³å¤ªå¤š   </span><br><span class="line">       åœ¨è¿™é‡Œçš„ç»™å®šå‡½æ•° <span class="keyword">void</span>  <span class="title function_">flatten</span><span class="params">()</span>&#123;&#125;  å°±æ˜¯ç»è¿‡æ‹‰ç›´ä¹‹åå¾—åˆ°çš„ç»“æœï¼Œæ‰€ä»¥çš†å¯ä»¥ç›´æ¥å°†å…¶è§†ä¸ºæœ€ç»ˆç»“æœï¼Œ</span><br><span class="line">       åœ¨root.left   root.right  ä¹‹åå°±å¯ä»¥ç›´æ¥å¯¹ æ ¹èŠ‚ç‚¹ è¿›è¡Œæ¨¡æ‹Ÿåˆå¹¶æ“ä½œï¼Œå…¶å¯¹äºæ‰€æœ‰çš„å…¶ä»–èŠ‚ç‚¹ä¸€æ ·é€‚ç”¨ï¼Œä½†æ˜¯å‡½æ•°è¿”å›å€¼æ˜¯  <span class="keyword">void</span> æ‰€ä»¥ä¸å¯ä»¥èµ‹å€¼   åªèƒ½å¦å¤– èµ‹å€¼ç»™ä¸´æ—¶å˜é‡ï¼Œå€¼ä¸ºå¯¹ root.leftï¼Œroot.right ä¹‹åå°±å¯ä»¥ç›´æ¥åœ¨   root.leftï¼Œroot.right   è¿›è¡Œæ“ä½œäº†</span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">     </span><br><span class="line">       æ³¨æ„ï¼šå­é—®é¢˜å’Œæºé—®é¢˜çš„æ€è·¯ ç›®æ ‡ æ˜¯ä¸€æ ·çš„ ï¼Œç”šè‡³ç»“æœä¹Ÿåªæ˜¯ç¼©å°åŒ–åŸé—®é¢˜çš„ç»“æœ</span><br><span class="line">        		<span class="comment">// æ‰€ä»¥å¯ä»¥ç›´æ¥å¯¹å¾—åˆ°å­é—®é¢˜çš„ç»“æœè¿›è¡Œæ“ä½œï¼Œäº¤æ¢ï¼Œé‡æ’åºç­‰ç­‰</span></span><br><span class="line">      	<span class="comment">// å°±åƒæ˜¯è¿™é‡Œï¼Œå­é—®é¢˜çš„ç»“æœ æ˜¯å°† å·¦å³å­æ ‘çš„ ç»“æœæ‹‰æˆä¸€æ¡é“¾ï¼Œ åŸé—®é¢˜æ˜¯å°†æ‰€æœ‰èŠ‚ç‚¹æ‹‰æˆä¸€æ¡é“¾</span></span><br><span class="line">		<span class="comment">// æ‰€ä»¥å½“ç„¶å°±ç›´æ¥å¯¹ä¸¤ä¸ªå­ç»“æœåŠæ“ä½œå°±å¯ä»¥äº†ï¼Œå·¦è¾¹ç§»åŠ¨è¿‡å»ï¼Œå³è¾¹çš„ç»“æœæ¥åˆ°å·¦è¾¹æœ€åçš„ä½ç½®</span></span><br><span class="line">        <span class="comment">// åˆ«å¿˜äº†è¦å¯¹æ ‘çš„ å·¦è¾¹ç½® null </span></span><br><span class="line">  </span><br></pre></td></tr></table></figure>
<h3 id="æ„é€ é—®é¢˜">æ„é€ é—®é¢˜</h3>
<p><strong>æ„é€ æ•´æ£µæ ‘ = æ ¹èŠ‚ç‚¹ + æ„é€ å·¦å­æ ‘ + æ„é€ å³å­æ ‘</strong>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="number">654</span> ç”±æ•°ç»„æ„é€ æœ€å¤§äºŒå‰æ ‘</span><br><span class="line">----å­é—®é¢˜    <span class="number">1</span>ã€å› ä¸ºéœ€è¦ å·¦å³å‡½æ•°çš„é€’å½’å€¼ï¼Œæ‰€ä»¥è¦åœ¨é€’å½’æ—¶è¿›è¡Œå˜é‡èµ‹å€¼ (ä¸ä¸€å®šæœ‰)  ã€èµ‹å€¼ã€‘</span><br><span class="line">			 <span class="number">2</span>ã€æ‰€æœ‰åˆ©ç”¨å­é—®é¢˜æ±‚è§£çš„å‡½æ•°ç»è¿‡å¤šæ¬¡é€’å½’æœ€ç»ˆä¼šå¾—åˆ°ç­”æ¡ˆï¼Œæ‰€ä»¥ç›´æ¥å°±éƒ½è§†ä¸º  å·²ç»å¾—å‡ºç­”æ¡ˆçš„å‡½æ•°ï¼Œè¿™æ ·åœ¨è°ƒåŠ¨ç”¨çš„æ—¶å€™å°±ä¸ç”¨æƒ³å¤ªå¤š  </span><br><span class="line">     </span><br><span class="line"> æ€è€ƒ<span class="number">1</span>--è‡ªå·±æ„å»ºå‡½æ•°éœ€è¦çš„å‚æ•°ï¼Ÿ   å·²çŸ¥çš„åªæœ‰æ•°ç»„   é‚£å°±æ˜¯  nums æ•°ç»„çš„èµ·å§‹åæ ‡</span><br><span class="line">	å¦‚æ­¤ä¸€æ¥ï¼Œå°±å¯ä»¥ä¸æ–­åœ°é€’å½’ä»è€Œç¼©å°æ•°ç»„çš„å¤§å°ï¼Œå°±èƒ½å¤Ÿæ„å»ºå‡ºå€¼</span><br><span class="line">   ç»™å®šå‡½æ•°ï¼šTreeNode constructMaximumBinaryTree  ï¼Œæ‰€ä»¥è®¾ç½®çš„å‡½æ•°ä¹Ÿæ˜¯ TreeNode è¿”å›å€¼ç±»å‹çš„</span><br><span class="line">     <span class="comment">//æ‰¾åˆ°æ ¹èŠ‚ç‚¹    </span></span><br><span class="line">     æ­¤å¤„å°±æ˜¯maxVal è¾…åŠ©å˜é‡  Integer.MIN_VALUE,å¯¹æ•°ç»„å¾ªç¯æ¯”è¾ƒå¾—åˆ°æ ¹èŠ‚ç‚¹å€¼ï¼Œå¹¶ç”±æ­¤å€¼ æ„å»ºå‡ºæ ‘ã€‚</span><br><span class="line">æ€è€ƒ<span class="number">2</span>---   <span class="comment">//æ„é€ å·¦å­æ ‘ï¼Œå³å­æ ‘   // æ˜¾ç„¶æ˜¯ä¸¤ä¸ªéå†ã€‚  é‡ç‚¹å°±æ˜¯ å¡«å‚æ•°-----èµ·å§‹åæ ‡ å°±æ˜¯å–å¾—æœ€å¤§å€¼æ—¶éå†çš„æ•°ç»„ä¸‹æ ‡  æ‰€ä»¥è¿˜éœ€è¦å¯¹æ•°ç»„ä¸‹æ ‡ è®¾ç½®å¯¹åº”å˜é‡   è¿›è¡Œè¿”å›</span></span><br><span class="line">æ€è€ƒ<span class="number">1</span>-    æ˜¾ç„¶æ–¹æ³•è¦æœ‰è¿”å›å€¼çš„ï¼Œè¿™é‡Œçš„è¿”å›å€¼å°±æ˜¯ TreeNode å‹çš„ ï¼Œè€Œä¸”å†ç»“æœè¿”å›çš„è¿˜æ˜¯ root&lt;è‡ªå®šä¹‰çš„æ ‘çš„å˜é‡&gt;   æ‰€ä»¥ä¾¿åˆ©çš„æ—¶å€™è¿”å›å€¼å°±è®¾ç½®ä¸º  .left   .right </span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line">     -- ä¸‹é¢ä¸‰é¢˜è€ƒè™‘ å­é—®é¢˜çš„ æ€è·¯ä¸è¿™é‡Œè¿‘ä¹ä¸€è‡´åªæ˜¯åœ¨ç»†èŠ‚ä¸Šæœ‰ä¼˜åŒ–   ã€ä¸‹é¢ä¸‰ä¸ªå…¨èµ‹å€¼ã€‘</span><br><span class="line">     ä¼˜åŒ–ä¸€ï¼š HashMap&lt;Integer, Integer&gt; inmap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">             <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; inorder.length; i++) &#123;</span><br><span class="line">                        inmap.put(inorder[i], i);</span><br><span class="line">                    &#125;</span><br><span class="line">				åŒæ•°ç»„ï¼Œ hashMap ä¾¿äºå–ä¸‹æ ‡å€¼ ï¼ˆæ‰€ä»¥putçš„æ—¶å€™  k:æ•°ç»„çš„å€¼ï¼Œ v:ä¸‹æ ‡ï¼‰</span><br><span class="line">      åŒºåˆ«ï¼šä¸Šé¢çš„æ˜¯æ‰¾max    ä¸‹é¢çš„æ˜¯åŠªåŠ›æ‰¾æ ¹èŠ‚ç‚¹ã€‚</span><br><span class="line">                    </span><br><span class="line">      ä¸‹é¢æµç¨‹éƒ½æ˜¯è¿‘ä¹ä¸€è‡´çš„ï¼š</span><br><span class="line">                    <span class="comment">// è¿™é‡Œæ‰¾æ ¹èŠ‚ç‚¹çš„å€¼å’Œä½ç½®   æ³¨æ„è¿™ä¸¤ä¸ªæ“ä½œ æ˜¯è¦åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­è¿›è¡Œçš„</span></span><br><span class="line">        --æ³¨æ„ <span class="number">889</span>  è¿™é‡Œæ˜¯æœ‰äº›åŒºåˆ«ï¼Œè¿™é‡Œçš„æ ¹èŠ‚ç‚¹å€¼å¾ˆå¥½ç¡®å®šï¼Œæ‰€ä»¥å¹¶ä¸èƒ½ç”±æ­¤è·å¾—ä½ç½®ï¼Œéœ€è¦å†åœ¨å…ˆåºéå†ä¸­æ‰¾åˆ°å·¦è¾¹çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ ¹å·¦å³  ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯æ ¹ï¼Œåœ¨ååºä¸­ï¼Œå·¦å³æ ¹ï¼Œæ ¹æ°å¥½å°±æ˜¯åˆ†éš”ç‚¹ï¼Œæ‰€ä»¥åº”è¯¥æ‰¾ preorder é‡Œé¢çš„å·¦å­æ ‘çš„æ ¹ï¼Œç„¶åå» postorder ä¸­æ‰¾ä½ç½®ï¼Œ åä¹‹ï¼Œä»postorder æ‰¾å€¼ preorder ä¸­æ‰¾ä½ç½®  æ˜¯æ— æ³•å¾—åˆ°å·¦å­æ ‘å‡†å¤‡çš„æ•°é‡çš„</span><br><span class="line">                    <span class="comment">// å·¦å­æ ‘é•¿åº¦</span></span><br><span class="line">                    <span class="comment">// new ä¸€æ£µæ ‘ rootï¼ˆæ ¹æ®æ ¹èŠ‚ç‚¹çš„å€¼ï¼‰</span></span><br><span class="line">                    <span class="comment">// é€’å½’      --  ä¹Ÿè¦èµ‹å€¼çš„</span></span><br><span class="line">                    <span class="comment">//return       root</span></span><br><span class="line">                    </span><br><span class="line">            é™¤æ­¤ä¹‹å¤–å°±æ˜¯ç»†èŠ‚é—®é¢˜ï¼Œé€’å½’æ—¶ç´¢å¼•çš„å€¼ï¼Œå·¦å­æ ‘é•¿åº¦  éœ€è¦æ ¼å¤–æ³¨æ„ </span><br><span class="line"><span class="number">105</span> é€šè¿‡å‰åºå’Œä¸­åºéå†ç»“æœæ„é€ äºŒå‰æ ‘</span><br><span class="line"></span><br><span class="line">     </span><br><span class="line">        </span><br><span class="line"><span class="number">106</span> é€šè¿‡ååºå’Œä¸­åºéå†ç»“æœæ„é€ äºŒå‰æ ‘</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"><span class="number">889</span> é€šè¿‡ååºå’Œå‰åºéå†ç»“æœæ„é€ äºŒå‰æ ‘ï¼ˆ**ï¼‰</span><br><span class="line">    </span><br><span class="line">     </span><br><span class="line">     </span><br></pre></td></tr></table></figure>
<h3 id="BST">BST</h3>
<p>äºŒå‰æœç´¢æ ‘ã€Œä¸­åºéå†æœ‰åºã€</p>
<p>BST ç›¸å…³çš„é—®é¢˜</p>
<p>â€‹	è¦ä¹ˆåˆ©ç”¨ BST å·¦å°å³å¤§çš„ç‰¹æ€§æå‡ç®—æ³•æ•ˆç‡</p>
<p>â€‹	è¦ä¹ˆåˆ©ç”¨ä¸­åºéå†çš„ç‰¹æ€§æ»¡è¶³é¢˜ç›®çš„è¦æ±‚</p>
<ul>
<li>
<p>å¦‚æœå½“å‰èŠ‚ç‚¹ä¼šå¯¹ä¸‹é¢çš„å­èŠ‚ç‚¹æœ‰æ•´ä½“å½±å“ï¼Œå¯ä»¥é€šè¿‡è¾…åŠ©å‡½æ•°å¢é•¿å‚æ•°åˆ—è¡¨ï¼Œå€ŸåŠ©å‚æ•°ä¼ é€’ä¿¡æ¯ã€‚</p>
</li>
<li>
<p>é€šè¿‡ä½¿ç”¨è¾…åŠ©å‡½æ•°ï¼Œå¢åŠ å‡½æ•°å‚æ•°åˆ—è¡¨ï¼Œåœ¨å‚æ•°ä¸­æºå¸¦é¢å¤–ä¿¡æ¯ï¼Œå°†è¿™ç§çº¦æŸä¼ é€’ç»™å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿™ä¹Ÿæ˜¯äºŒå‰æ ‘ç®—æ³•çš„ä¸€ä¸ªå°æŠ€å·§å§ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  åˆ©ç”¨ä¸­åºæ’åºçš„ç‰¹ç‚¹ï¼Œ æœ‰åºçš„ ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†ä»£ç åº”è¯¥å†™åœ¨ä¸­åºä½ç½®ä¸Šçš„</span><br><span class="line"></span><br><span class="line"><span class="number">230</span> ã€Œ äºŒå‰æœç´¢æ ‘ä¸­ç¬¬ K å°çš„å…ƒç´ ã€ -- æ˜¾ç„¶æ˜¯è¦æ’åºçš„ </span><br><span class="line">      </span><br><span class="line"> traverserå‡½æ•° ï¼Œåœ¨ä¸­åºä½ç½®ä¸Šè¿›è¡Œæ£€ç´¢å°±OKäº†  </span><br><span class="line">    </span><br><span class="line"><span class="number">538</span>   <span class="number">1038</span>  BST è½¬åŒ–ç´¯åŠ æ ‘</span><br><span class="line">    </span><br><span class="line">traverserå‡½æ•° ï¼Œå¯¹é€†åºçš„åºåˆ—è¿›è¡ŒåŠ å€¼èµ‹å€¼æ“ä½œ   è¿˜æ˜¯åœ¨ä¸­åºä½ç½®ä¸Šè¿›è¡Œæ“ä½œ å°±OKäº†  </span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">BST æ¡†æ¶</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">BST</span><span class="params">(TreeNode root, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root.val == target)</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°ç›®æ ‡ï¼Œåšç‚¹ä»€ä¹ˆ</span></span><br><span class="line">    <span class="keyword">if</span> (root.val &lt; target) </span><br><span class="line">        BST(root.right, target);</span><br><span class="line">    <span class="keyword">if</span> (root.val &gt; target)</span><br><span class="line">        BST(root.left, target);</span><br><span class="line">&#125;</span><br><span class="line">      </span><br><span class="line">     </span><br><span class="line"> </span><br><span class="line"><span class="number">700</span>   æœç´¢å­æ ‘</span><br><span class="line"> ---å­é—®é¢˜ï¼š  <span class="number">1</span>ã€å› ä¸ºéœ€è¦ å·¦å³å‡½æ•°çš„é€’å½’å€¼ï¼Œæ‰€ä»¥è¦åœ¨é€’å½’æ—¶è¿›è¡Œå˜é‡èµ‹å€¼ (ä¸ä¸€å®šæœ‰)  ã€èµ‹å€¼ã€‘</span><br><span class="line">			 <span class="number">2</span>ã€æ‰€æœ‰åˆ©ç”¨å­é—®é¢˜æ±‚è§£çš„å‡½æ•°ç»è¿‡å¤šæ¬¡é€’å½’æœ€ç»ˆä¼šå¾—åˆ°ç­”æ¡ˆï¼Œæ‰€ä»¥ç›´æ¥å°±éƒ½è§†ä¸º  å·²ç»å¾—å‡ºç­”æ¡ˆçš„å‡½æ•°ï¼Œè¿™æ ·åœ¨è°ƒåŠ¨ç”¨çš„æ—¶å€™å°±ä¸ç”¨æƒ³å¤ªå¤š  </span><br><span class="line">    è¿”å›å€¼ï¼š TreeNode   ï¼Œè¦èµ‹å€¼  åˆ©ç”¨bst æ¨¡ç‰ˆ  ç›´æ¥å°†åˆ†ç±»çš„æœç´¢éå†ç»“æœ<span class="comment">/**è§†ä¸ºæœ€ç»ˆç»“æœ */</span>è¿”å›ï¼ˆä¹Ÿå¯ä»¥èµ‹å€¼ï¼Œè¿”å›èµ‹å€¼çš„å€¼ï¼‰</span><br><span class="line">    </span><br><span class="line">      </span><br><span class="line"><span class="number">701</span>  æ’å…¥æ“ä½œã€‚</span><br><span class="line">      åŒç† </span><br><span class="line"> ---å­é—®é¢˜ï¼š  <span class="number">1</span>ã€å› ä¸ºéœ€è¦ å·¦å³å‡½æ•°çš„é€’å½’å€¼ï¼Œæ‰€ä»¥è¦åœ¨é€’å½’æ—¶è¿›è¡Œå˜é‡èµ‹å€¼ (ä¸ä¸€å®šæœ‰)  ã€èµ‹å€¼ã€‘</span><br><span class="line">			 <span class="number">2</span>ã€æ‰€æœ‰åˆ©ç”¨å­é—®é¢˜æ±‚è§£çš„å‡½æ•°ç»è¿‡å¤šæ¬¡é€’å½’æœ€ç»ˆä¼šå¾—åˆ°ç­”æ¡ˆï¼Œæ‰€ä»¥ç›´æ¥å°±éƒ½è§†ä¸º  å·²ç»å¾—å‡ºç­”æ¡ˆçš„å‡½æ•°ï¼Œè¿™æ ·åœ¨è°ƒåŠ¨ç”¨çš„æ—¶å€™å°±ä¸ç”¨æƒ³å¤ªå¤š  </span><br><span class="line">    è¿”å›å€¼ï¼š TreeNode   ï¼Œè¦èµ‹å€¼  åˆ©ç”¨bst æ¨¡ç‰ˆã€</span><br><span class="line">    ä½†æ˜¯è¿™æ˜¯ä¸èƒ½ç›´æ¥è¿”å›ï¼Œæ­¤æ—¶çš„å·¦å³å­æ ‘åªæ˜¯ä¸€æ£µæ ‘çš„ä¸€éƒ¨åˆ†ï¼Œè¦å¾—åˆ°æœ€ç»ˆå®Œå¥½çš„æ ‘ï¼Œè¿˜æ˜¯éœ€è¦è¿›è¡Œèµ‹å€¼ç»™ root.left  root.right çš„ï¼Œæœ€å <span class="keyword">return</span> root  è¿™æ ·å°±èƒ½ç›´æ¥å¾—åˆ°ä¸€æ£µæ’å¥½å…ƒç´ çš„æ ‘äº†</span><br><span class="line">    </span><br><span class="line"><span class="number">450</span> åˆ é™¤</span><br><span class="line"> ---å­é—®é¢˜ï¼š  <span class="number">1</span>ã€å› ä¸ºéœ€è¦ å·¦å³å‡½æ•°çš„é€’å½’å€¼ï¼Œæ‰€ä»¥è¦åœ¨é€’å½’æ—¶è¿›è¡Œå˜é‡èµ‹å€¼ (ä¸ä¸€å®šæœ‰)  ã€èµ‹å€¼ã€‘</span><br><span class="line">			 <span class="number">2</span>ã€æ‰€æœ‰åˆ©ç”¨å­é—®é¢˜æ±‚è§£çš„å‡½æ•°ç»è¿‡å¤šæ¬¡é€’å½’æœ€ç»ˆä¼šå¾—åˆ°ç­”æ¡ˆï¼Œæ‰€ä»¥ç›´æ¥å°±éƒ½è§†ä¸º  å·²ç»å¾—å‡ºç­”æ¡ˆçš„å‡½æ•°ï¼Œè¿™æ ·åœ¨è°ƒåŠ¨ç”¨çš„æ—¶å€™å°±ä¸ç”¨æƒ³å¤ªå¤š  </span><br><span class="line">    è¿”å›å€¼ï¼š TreeNode   ï¼Œè¦èµ‹å€¼  è¿˜æ˜¯è¦åˆ©ç”¨bst æ¨¡ç‰ˆ</span><br><span class="line">      åŒæ ·ï¼šä½†æ˜¯è¿™æ˜¯ä¸èƒ½ç›´æ¥è¿”å›ï¼Œæ­¤æ—¶çš„å·¦å³å­æ ‘åªæ˜¯ä¸€æ£µæ ‘çš„ä¸€éƒ¨åˆ†ï¼Œè¦å¾—åˆ°æœ€ç»ˆå®Œå¥½çš„æ ‘ï¼Œè¿˜æ˜¯éœ€è¦è¿›è¡Œèµ‹å€¼ç»™ root.left  root.right çš„ï¼Œæœ€å <span class="keyword">return</span> root  è¿™æ ·å°±èƒ½ç›´æ¥å¾—åˆ°ä¸€æ£µ åˆ å®Œ å…ƒç´ çš„æ ‘äº†</span><br><span class="line">      ä½†æ˜¯åŒºåˆ«æ˜¯ï¼š</span><br><span class="line">      ä¸æœç´¢æ’å…¥ä¸åŒçš„æ˜¯ï¼šè¿™é‡Œçš„åˆ é™¤æ˜¯è¦åˆ†ç±»è®¨è®ºçš„ï¼Œroot.val == val æ—¶åˆ†ä¸‰ç§æƒ…å†µè®¨è®ºï¼Œå…¶ä¸­è®¨è®ºçš„æ—¶å€™è¿˜æ˜¯ä¼šè¿›è¡Œè°ƒç”¨çš„   ---- å¯ä»¥ç»†å“</span><br><span class="line">      </span><br><span class="line">      å¦å¤–è¿˜è°ƒç”¨äº† æœ€å°å€¼å¾—å‡½æ•°ï¼ˆéé€’å½’ï¼‰ </span><br><span class="line">      </span><br><span class="line">    </span><br><span class="line"><span class="number">98</span> åˆ¤å®š</span><br><span class="line">      é€šè¿‡ <span class="number">450</span> ç»™äºˆçš„å¯å‘  ç›´æ¥å®šä¹‰æœ€å¤§ æœ€å°å‡½æ•°ï¼Œç”±æ­¤è·å¾—å·¦å­æ ‘çš„æœ€æ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘çš„æœ€å·¦æ ¹èŠ‚ç‚¹  éšåå¯¹ç»™å®šå‡½æ•°è¿›è¡Œåˆ¤å®š </span><br><span class="line">    	åˆ¤å®šæ¡ä»¶å°±æ˜¯å·¦éç©ºå°±è¦å·¦å°æ ¹  å³éç©ºå°±è¦å³å¤§æ ¹ã€Šè¿™é‡Œçš„å·¦å³æ ¹èŠ‚ç‚¹çš„å€¼ å°±æ˜¯é€šè¿‡ä¸Šè¿°å‡½æ•° .val è·å¾—çš„ã€‹ å¦åˆ™<span class="literal">false</span>;   = ä¹Ÿæ˜¯<span class="literal">false</span></span><br><span class="line">      <span class="type">boolean</span> å¯ä»¥èµ‹å€¼ä¹Ÿå¯ä»¥ç›´æ¥è¿”å›ã€‚</span><br><span class="line">      </span><br><span class="line">    </span><br><span class="line">  </span><br></pre></td></tr></table></figure>
<h2 id="é“¾è¡¨">é“¾è¡¨</h2>
<p>1ã€<strong>å­é—®é¢˜ï¼ˆåé¢è¿™éƒ¨åˆ†é“¾è¡¨ï¼‰å’ŒåŸé—®é¢˜ï¼ˆæ•´æ¡é“¾è¡¨ï¼‰çš„ç»“æ„å®Œå…¨ç›¸åŒï¼Œè¿™å°±æ˜¯æ‰€è°“çš„é€’å½’æ€§è´¨</strong></p>
<p>2ã€<strong>é€’å½’å‡½æ•°éƒ½æœ‰ä¸ª base case</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">206</span>     åè½¬é“¾è¡¨</span><br><span class="line">    </span><br><span class="line">    å°±ç”¨<span class="keyword">while</span>å¾ªç¯å†™</span><br><span class="line">    ListNode pre,cur,nxt;</span><br><span class="line">          pre = <span class="literal">null</span>;</span><br><span class="line">          cur = nxt = head;</span><br><span class="line">             <span class="keyword">while</span>(cur!= <span class="literal">null</span>)&#123;</span><br><span class="line">                 nxt = cur.next;</span><br><span class="line">                 cur.next = pre;</span><br><span class="line">                  pre = cur;</span><br><span class="line">                  cur = nxt;              </span><br><span class="line">             &#125;</span><br><span class="line">	<span class="keyword">return</span> pre ;</span><br><span class="line">    </span><br><span class="line"><span class="number">92</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//206 92  é€’å½’çš„åŒºåˆ«ï¼š  1 basecase  å‰è€…ï¼šif (head == null || head.next == null) &#123;return head;&#125;  </span></span><br><span class="line">							<span class="comment">//åè€…ï¼šbase case å˜ä¸º n == 1ï¼Œåè½¬ä¸€ä¸ªå…ƒç´ ï¼Œå°±æ˜¯å®ƒæœ¬èº«ï¼ŒåŒæ—¶è¦è®°å½•åé©±èŠ‚ç‚¹ã€‚</span></span><br><span class="line">    				<span class="comment">//2ã€å‰è€…ä¸è¦é“¾æ¥æœªåè½¬çš„ç‚¹ï¼Œ ç›´æ¥æŠŠ head.next è®¾ç½®ä¸º null</span></span><br><span class="line">    				<span class="comment">//   åè€…éœ€è¦  è¦è®°å½•åé©± successorï¼ˆç¬¬ n + 1 ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œåè½¬ä¹‹åå°† head è¿æ¥ä¸Šã€‚</span></span><br><span class="line"><span class="number">1</span>ã€å½“  left =<span class="number">1</span> æ—¶è¦åˆ†å¼€è®¨è®ºã€‚</span><br><span class="line">    <span class="keyword">while</span> å¾ªç¯</span><br><span class="line">   ListNode <span class="title function_">reverse</span><span class="params">(ListNode head, <span class="type">int</span> right)</span>&#123;   <span class="comment">// è¿™é‡Œç»™çš„æ˜¯ç¬¬å‡ ä¸ªæ¥ç‚¹</span></span><br><span class="line">        ListNode pre,cur,b,nxt;</span><br><span class="line">        b=cur = nxt= head;</span><br><span class="line">        pre = <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//å¾—åˆ°ç¬¬rightä¸ªèŠ‚ç‚¹çš„ä½ç½®</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ;i&lt;right;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(b == <span class="literal">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">            b = b.next;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">while</span>(cur != b)&#123;</span><br><span class="line">            nxt = cur.next;</span><br><span class="line">            cur.next = pre;</span><br><span class="line">            pre = cur;</span><br><span class="line">            cur = nxt;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¤´æŒ‡é’ˆæŒ‡å‘å°¾éƒ¨</span></span><br><span class="line">        head.next = b;</span><br><span class="line">        <span class="keyword">return</span> pre;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€ left != <span class="number">1</span> æ—¶å°±è¿›è¡Œé€’å½’</span><br><span class="line">  		<span class="comment">// å¼€å§‹é€’å½’</span></span><br><span class="line">       a.next = reverseBetween(head.next,left-<span class="number">1</span>,right-<span class="number">1</span>);   </span><br><span class="line">			<span class="comment">// è¿™é‡Œçš„a.next å°±æ˜¯å°† è¿›è¡Œå°†æŒ‡é’ˆè¿›è¡Œç¿»è½¬éå†çš„</span></span><br><span class="line"><span class="number">25</span></span><br><span class="line">    æ¯ k ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬</span><br><span class="line">                </span><br><span class="line">    <span class="number">1</span>ã€æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹</span><br><span class="line">                 ListNode a,  b;  </span><br><span class="line">          a =b = head;</span><br><span class="line">          <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span> ;i&lt;k;i++)&#123;</span><br><span class="line">              <span class="keyword">if</span>( b == <span class="literal">null</span>)  <span class="keyword">return</span> head;</span><br><span class="line">              b=b.next;</span><br><span class="line">          &#125;</span><br><span class="line">      </span><br><span class="line">	<span class="number">2</span>ã€è¿˜æ˜¯è°ƒç”¨ <span class="keyword">while</span>  å¾ªç¯è¿›è¡Œéå† æ­¤æ—¶éå†å¾—åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œä¸‹è¿›è¡Œç¨å¾®æ”¹åŠ¨</span><br><span class="line">         ListNode <span class="title function_">reverse</span><span class="params">(ListNode head,ListNode node)</span> &#123;</span><br><span class="line">            ListNode pre=node,nxt=head,cur=head;</span><br><span class="line">            <span class="keyword">while</span>(cur != node)&#123;</span><br><span class="line">                nxt = cur.next;</span><br><span class="line">                cur.next = pre;</span><br><span class="line">                pre = cur;</span><br><span class="line">                cur = nxt;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> pre;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">  	<span class="number">3</span>ã€  </span><br><span class="line">         <span class="type">ListNode</span> <span class="variable">res</span> <span class="operator">=</span> reverse(a,b);  <span class="comment">// å…ˆåè½¬ä»å¤´å¼€å§‹çš„å‰é¢å‡ ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">			<span class="comment">//å†è¿›è¡Œä¸‹é¢çš„é€’å½’,æ¯æ¬¡é€’å½’å°±åˆæ˜¯ä¸Šä¸€æ¬¡çš„bä¸ºå¤´ï¼Œå¼€å§‹æ–°çš„ä¸€è½®é€’å½’ å¹¶å°†a.next (headçš„ä¸‹ä¸€ä¸ª æŒ‡å‘æ–°çš„åè½¬é“¾è¡¨çš„æŒ‡é’ˆ)</span></span><br><span class="line">		<span class="comment">//æ­¤å¤„çš„ a.next å¾ˆå…³é”®ã€‚aæ­¤æ—¶æ˜¯å°† å¤´ç»“ç‚¹æŒ‡å‘ä¸‹ä¸€ä¸ªè¦åè½¬çš„å¤´èŠ‚ç‚¹</span></span><br><span class="line">         a.next = reverseKGroup(b, k); </span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¶å®è¿™é‡Œçš„1 2 ä¸¤æ­¥éª¤  å’Œä¸Šä¸€é—®çš„while å¾ªç¯å…¶å®æ˜¯ä¸€æ ·çš„  ï¼Œå¯ä»¥éšæ„æ›¿æ¢</span></span><br><span class="line">    </span><br><span class="line"><span class="number">234</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//é¦–å…ˆå…ˆæ‰¾åˆ°ä¸­ç‚¹ï¼Œç„¶åå°†ä¸­é—´ç‚¹å¼€å§‹å°†åé¢çš„å­—ç¬¦ä¸²è¿›è¡Œç¿»è½¬æœ€åè¿›è¡Œæ¯”è¾ƒã€</span></span><br><span class="line">    æ‰¾ä¸­é—´èŠ‚ç‚¹      åŒæŒ‡é’ˆ</span><br><span class="line">    åè½¬ï¼š   <span class="keyword">while</span> å¾ªç¯</span><br><span class="line">    æ¯”è¾ƒ    æŒ‡é’ˆå‘ä¸­é—´ç§»åŠ¨</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<h2 id="æ•°ç»„">æ•°ç»„</h2>
<h2 id="å­—ç¬¦ä¸²">å­—ç¬¦ä¸²</h2>
<h4 id="å›æ–‡ä¸²">å›æ–‡ä¸²</h4>
<blockquote>
<p>==ä¸­å¿ƒæ‰©å±•æ³•ï¼š==</p>
<p>å®è´¨çš„æ€è·¯å’ŒåŠ¨æ€è§„åˆ’çš„æ€è·¯ç±»ä¼¼ã€‚</p>
<ul>
<li>æ¯”å¦‚å¯¹ä¸€ä¸ªå­—ç¬¦ä¸²<code> ababa</code>ï¼Œé€‰æ‹©æœ€ä¸­é—´çš„ <code>a </code>ä½œä¸º<code>ä¸­å¿ƒç‚¹</code>ï¼Œå¾€ä¸¤è¾¹æ‰©æ•£ï¼Œ</li>
<li>ç¬¬ä¸€æ¬¡æ‰©æ•£å‘ç° left æŒ‡å‘çš„æ˜¯ bï¼Œright æŒ‡å‘çš„ä¹Ÿæ˜¯ bï¼Œæ‰€ä»¥æ˜¯å›æ–‡ä¸²ï¼Œç»§ç»­æ‰©æ•£ï¼ŒåŒç† ababa ä¹Ÿæ˜¯å›æ–‡ä¸²ã€‚</li>
</ul>
<p>è¿™ä¸ªæ˜¯ç¡®å®šäº†ä¸€ä¸ªä¸­å¿ƒç‚¹åçš„å¯»æ‰¾çš„è·¯å¾„ï¼Œç„¶åæˆ‘ä»¬<code>åªè¦å¯»æ‰¾åˆ°æ‰€æœ‰çš„ä¸­å¿ƒç‚¹ï¼Œé—®é¢˜å°±è§£å†³äº†</code>ã€‚</p>
<ul>
<li>ä¸­å¿ƒç‚¹ä¸€å…±æœ‰å¤šå°‘ä¸ªå‘¢ï¼Ÿ</li>
<li>çœ‹èµ·æ¥åƒæ˜¯å’Œå­—ç¬¦ä¸²é•¿åº¦ç›¸ç­‰ï¼Œä½†ä½ ä¼šå‘ç°ï¼Œå¦‚æœæ˜¯è¿™æ ·ï¼Œä¸Šé¢çš„ä¾‹å­æ°¸è¿œä¹Ÿæœä¸åˆ° ababï¼Œ
<ul>
<li>æƒ³è±¡ä¸€ä¸‹å•ä¸ªå­—ç¬¦çš„å“ªä¸ªä¸­å¿ƒç‚¹æ‰©å±•å¯ä»¥å¾—åˆ°è¿™ä¸ªå­ä¸²ï¼Ÿä¼¼ä¹ä¸å¯èƒ½ã€‚</li>
</ul>
</li>
<li>æ‰€ä»¥ä¸­å¿ƒç‚¹ä¸èƒ½åªæœ‰å•ä¸ªå­—ç¬¦æ„æˆï¼Œè¿˜è¦åŒ…æ‹¬ä¸¤ä¸ªå­—ç¬¦ï¼Œ
<ul>
<li>æ¯”å¦‚ä¸Šé¢è¿™ä¸ªå­ä¸² ababï¼Œå°±å¯ä»¥æœ‰ä¸­å¿ƒç‚¹ ba æ‰©å±•ä¸€æ¬¡å¾—åˆ°ï¼Œæ‰€ä»¥æœ€ç»ˆçš„ä¸­å¿ƒç‚¹ç”±<code> 2 * len - 1</code> ä¸ªï¼Œåˆ†åˆ«æ˜¯ <code>len ä¸ªå•å­—ç¬¦</code>å’Œ <code>len - 1 ä¸ªåŒå­—ç¬¦</code>ã€‚</li>
</ul>
</li>
</ul>
<p>å¦‚æœä¸Šé¢çœ‹ä¸å¤ªæ‡‚çš„è¯ï¼Œè¿˜å¯ä»¥çœ‹çœ‹ä¸‹é¢å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>
<p>ä¸ºä»€ä¹ˆæœ‰ 2 * len - 1 ä¸ªä¸­å¿ƒç‚¹ï¼Ÿ</p>
</li>
<li>
<p>aba æœ‰5ä¸ªä¸­å¿ƒç‚¹ï¼Œåˆ†åˆ«æ˜¯ aã€bã€cã€abã€ba</p>
</li>
<li>
<p>abba æœ‰7ä¸ªä¸­å¿ƒç‚¹ï¼Œåˆ†åˆ«æ˜¯ aã€bã€bã€aã€abã€bbã€ba</p>
</li>
<li>
<p>ä»€ä¹ˆæ˜¯ä¸­å¿ƒç‚¹ï¼Ÿ</p>
</li>
<li>
<p>ä¸­å¿ƒç‚¹å³ left æŒ‡é’ˆå’Œ right æŒ‡é’ˆåˆå§‹åŒ–æŒ‡å‘çš„åœ°æ–¹ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªä¹Ÿå¯èƒ½æ˜¯ä¸¤ä¸ª</p>
</li>
<li>
<p>ä¸ºä»€ä¹ˆä¸å¯èƒ½æ˜¯ä¸‰ä¸ªæˆ–è€…æ›´å¤šï¼Ÿ<br>
å› ä¸º 3 ä¸ªå¯ä»¥ç”± 1 ä¸ªæ‰©å±•ä¸€æ¬¡å¾—åˆ°ï¼Œ4 ä¸ªå¯ä»¥ç”± 2 ä¸ªæ‰©å±•ä¸€æ¬¡å¾—åˆ°</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">//5  æœ€é•¿å›æ–‡å­ä¸²</span></span><br><span class="line"></span><br><span class="line">&gt;String res= <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">         String oddString= substr(s,i,i);</span><br><span class="line">         <span class="type">String</span> <span class="variable">evenString</span> <span class="operator">=</span> substr(s,i,i+<span class="number">1</span>);</span><br><span class="line">         res = res.length()&lt;oddString.length() ? oddString:res;</span><br><span class="line">         res = res.length()&lt;evenString.length()? evenString:res;</span><br><span class="line">      &#125;</span><br><span class="line">     <span class="keyword">return</span>  res;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//      å›æ–‡ä¸²        å·¦è¾¹ä¸­ç‚¹   å³è¾¹ä¸­ç‚¹</span></span><br><span class="line">  <span class="keyword">private</span> String <span class="title function_">substr</span><span class="params">(String s, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">      <span class="keyword">while</span>(i&gt;=<span class="number">0</span> &amp;&amp; j&lt;s.length() &amp;&amp; s.charAt(i)==s.charAt(j))&#123;</span><br><span class="line">          i--;</span><br><span class="line">          j++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//å› ä¸ºä¸Šé¢å·²ç» ++  -- è¿‡äº†</span></span><br><span class="line">      <span class="keyword">return</span> s.substring(i+<span class="number">1</span>,j);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// 647 å›æ–‡å­ä¸²   </span></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countSubstrings</span><span class="params">(String s)</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">          count += substr(s,i,i);</span><br><span class="line">          count += substr(s,i,i+<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  <span class="keyword">return</span> count;</span><br><span class="line">  &#125;</span><br><span class="line">              <span class="comment">//      å›æ–‡ä¸²      å·¦è¾¹ä¸­ç‚¹  å³è¾¹ä¸­ç‚¹</span></span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">substr</span><span class="params">(String s, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">      <span class="type">int</span> res= <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span>(i&gt;=<span class="number">0</span> &amp;&amp; j&lt;s.length() &amp;&amp; s.charAt(i)==s.charAt(j))&#123;</span><br><span class="line">         <span class="comment">// System.out.println(s.substring(i,j+1));</span></span><br><span class="line">          i--;</span><br><span class="line">          j++;</span><br><span class="line">          res++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æ¨èè¿˜æ˜¯ä¸­å¿ƒæ‰©æ•£æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;DP çš„å†™æ³•</span><br><span class="line">&gt;<span class="comment">//5</span></span><br><span class="line">&gt;<span class="comment">//åŠ¨æ€è§„åˆ’</span></span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> s.length();</span><br><span class="line">      <span class="comment">//ç‰¹æ®Šæƒ…å†µ  ,ç©ºä¸²  å°±è¿”å›ç©º</span></span><br><span class="line">      <span class="keyword">if</span> (s == <span class="literal">null</span> || length == <span class="number">0</span>)</span><br><span class="line">          <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">      <span class="keyword">if</span> (length == <span class="number">1</span>)</span><br><span class="line">          <span class="keyword">return</span> s;</span><br><span class="line">      <span class="comment">//å®šä¹‰ä¸‹åˆ—å˜é‡ï¼Œåˆ†åˆ«è¡¨ç¤ºå¼€å§‹ä½ç½® ç»“æŸä½ç½® çš„å˜é‡ ä»¥åŠ æœ€å¤§é•¿åº¦ã€‚</span></span><br><span class="line">      <span class="type">int</span> <span class="variable">begin</span> <span class="operator">=</span> <span class="number">0</span>, end = <span class="number">0</span>,subLen = <span class="number">1</span>;</span><br><span class="line">      <span class="comment">//å®šä¹‰åŠ¨æ€äºŒç»´æ•°ç»„</span></span><br><span class="line">      <span class="type">boolean</span> [][] dp = <span class="keyword">new</span> <span class="title class_">boolean</span>[length][length];</span><br><span class="line"></span><br><span class="line">      <span class="comment">//åŠ¨æ€è§„åˆ’çš„æ•°ç»„æ˜¯ä»åˆ—å¼€å§‹å¡«å†™è¡¨æ ¼çš„</span></span><br><span class="line">         <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> s.length()-<span class="number">1</span>; i &gt;=<span class="number">0</span> ; i--) &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; s.length(); j++) &#123;</span><br><span class="line">              <span class="keyword">if</span> (s.charAt(i)==s.charAt(j)  &amp;&amp; (j-i &lt;= <span class="number">2</span> || dp[i+<span class="number">1</span>][j-<span class="number">1</span>]))&#123;</span><br><span class="line">                 dp[i][j] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                 <span class="keyword">if</span>(j-i+<span class="number">1</span>&gt; subLen)&#123;</span><br><span class="line">                  subLen = j-i+<span class="number">1</span>;</span><br><span class="line">                  begin = i;</span><br><span class="line">                 &#125;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//è¿”å›å­ä¸²çš„ï¼Œå¼€å§‹ä½ç½®ä»¥åŠç»“æŸä½ç½®</span></span><br><span class="line">      <span class="keyword">return</span> s.substring(begin,begin+subLen);</span><br><span class="line">  &#125;    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// 647   </span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countSubstrings</span><span class="params">(String s)</span> &#123;</span><br><span class="line">      <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">      <span class="comment">//dp[][]</span></span><br><span class="line">      <span class="type">boolean</span> dp[][] = <span class="keyword">new</span> <span class="title class_">boolean</span>[s.length()][s.length()];</span><br><span class="line">      <span class="comment">//é€’æ¨å…¬å¼s[i] ==s[j] â‘ j-i=0  â‘¡j-i=1 â‘¢dp[i+1][j-1]    VS  s[i] !=s[j]</span></span><br><span class="line">      <span class="comment">//åˆå§‹åŒ–dp[][]</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">          dp[i][i] = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//éå†é¡ºåº</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> s.length()-<span class="number">1</span>; i &gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; s.length(); j++) &#123;</span><br><span class="line">              <span class="keyword">if</span>(s.charAt(j) == s.charAt(i) &amp;&amp; (j-i&lt;<span class="number">2</span> || dp[i+<span class="number">1</span>][j-<span class="number">1</span>]))&#123;      <span class="comment">// j-i&lt;2 å¿…é¡»è¦å†™åœ¨å‰é¢</span></span><br><span class="line">                      res++;</span><br><span class="line">                      dp[i][j] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> res;</span><br><span class="line">      <span class="comment">//æ‰“å°dpæ•°ç»„</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="ä¸€èˆ¬ä¸²">ä¸€èˆ¬ä¸²</h4>
<blockquote>
<p>43 : ç»™å®šä¸¤ä¸ªä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„éè´Ÿæ•´æ•° <code>num1</code> å’Œ <code>num2</code>ï¼Œè¿”å› <code>num1</code> å’Œ <code>num2</code> çš„ä¹˜ç§¯ï¼Œå®ƒä»¬çš„ä¹˜ç§¯ä¹Ÿè¡¨ç¤ºä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">&gt;<span class="keyword">public</span> String <span class="title function_">multiply</span><span class="params">(String num1, String num2)</span> &#123;</span><br><span class="line">   <span class="keyword">if</span>(<span class="string">&quot;0&quot;</span>.equals(num1) || <span class="string">&quot;0&quot;</span>.equals(num2)) <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">  <span class="comment">//ç»“æœé›†çš„æ¥æ”¶</span></span><br><span class="line">  <span class="type">int</span> res[]=<span class="keyword">new</span> <span class="title class_">int</span>[num1.length()+num2.length()];</span><br><span class="line">  <span class="comment">//ä»æœ€ä½ä½å¼€å§‹ç›¸ä¹˜ï¼Œ -&#x27;0&#x27;æ˜¯ Charå­—ç¬¦ è½¬ä¸ºæ•°å­—çš„æ–¹å¼</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span> num1.length()-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">t1</span> <span class="operator">=</span>  num1.charAt(i)-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> num2.length()-<span class="number">1</span>;j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line">          <span class="type">int</span> <span class="variable">t2</span> <span class="operator">=</span> num2.charAt(j)-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">           <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> res[i+j+<span class="number">1</span>]+t1*t2;</span><br><span class="line">           <span class="comment">// ä½ä½æ˜¯å–ä½™çš„ç»“æœ</span></span><br><span class="line">           res[i+j+<span class="number">1</span>] = sum % <span class="number">10</span>;</span><br><span class="line">           <span class="comment">// é«˜ä½è¿›è¡Œ å–æ¨¡</span></span><br><span class="line">          res[i+j] += sum / <span class="number">10</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">StringBuilder</span> <span class="variable">stringBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">   <span class="comment">// å»é™¤å‰é¢å‡ ä½çš„0</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;res.length;i++)&#123;</span><br><span class="line">      <span class="keyword">if</span>(i==<span class="number">0</span> &amp;&amp; res[i] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">      stringBuilder.append(res[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> stringBuilder.toString();</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="æ•°å­—ä¸ä¸²">æ•°å­—ä¸ä¸²</h4>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;8264&quot;</span>;</span><br><span class="line">&gt;<span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&gt;<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.size(); i++) &#123;</span><br><span class="line">&gt;<span class="comment">// å°†å­—ç¬¦è½¬åŒ–æˆæ•°å­—</span></span><br><span class="line">&gt;number = <span class="number">10</span> * number + (s[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&gt;print(number);</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;<span class="comment">// æ‰“å°è¾“å‡ºï¼š</span></span><br><span class="line">&gt;<span class="comment">// 8</span></span><br><span class="line">&gt;<span class="comment">// 82</span></span><br><span class="line">&gt;<span class="comment">// 826</span></span><br><span class="line">&gt;<span class="comment">// 8264</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="åŒæŒ‡é’ˆå¯¹é“¾è¡¨">åŒæŒ‡é’ˆå¯¹é“¾è¡¨:</h2>
<h4 id="æŠ€å·§">æŠ€å·§</h4>
<p>æŠ€å·§ä¸€</p>
<ul>
<li>
<p>åˆå¹¶åˆ†è§£åŒæŒ‡é’ˆ</p>
<ul>
<li>
<p>å½“ä½ éœ€è¦åˆ›é€ ä¸€æ¡æ–°é“¾è¡¨çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨è™šæ‹Ÿå¤´ç»“ç‚¹ç®€åŒ–è¾¹ç•Œæƒ…å†µçš„å¤„ç†ã€é˜²æ­¢ç©ºæŒ‡é’ˆçš„çš„æƒ…å†µ</p>
</li>
<li>
<p>è®©ä½ æŠŠä¸¤æ¡æœ‰åºé“¾è¡¨åˆå¹¶æˆä¸€æ¡æ–°çš„æœ‰åºé“¾è¡¨ï¼ˆåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼‰ã€æŠŠä¸€æ¡é“¾è¡¨åˆ†è§£æˆä¸¤æ¡é“¾è¡¨æ—¶(å•é“¾è¡¨åˆ†è§£)</p>
</li>
</ul>
</li>
</ul>
<p>æŠ€å·§äºŒï¼šå¿«æ…¢æŒ‡é’ˆ</p>
<ul>
<li>
<p>ä¸€æ¡é“¾è¡¨çš„é—´éš”åŒæŒ‡é’ˆï¼ˆæ‰¾åˆ°å€’æ•°ç¬¬Kä¸ªèŠ‚ç‚¹ï¼Œåˆ é™¤ç¬¬nä¸ªèŠ‚ç‚¹ï¼‰</p>
</li>
<li>
<p>nå€é€Ÿå¿«æ…¢æŒ‡é’ˆï¼ˆä¸­é—´èŠ‚ç‚¹ æ˜¯å¦æœ‰æ¢  æ˜¯å¦æ˜¯ç¯  ç¯çš„äº¤ç‚¹åœ¨å“ª   æ˜¯å¦ç›¸äº¤  ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">23</span> åˆå¹¶å¤šä¸ªå‡åºåˆ—è¡¨&lt;éš¾é¢˜&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeKLists</span><span class="params">(ListNode[] lists)</span> &#123;</span><br><span class="line">            <span class="comment">//éš¾é¢˜ï¼š</span></span><br><span class="line">        <span class="keyword">if</span>(lists.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ListNode</span>  <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p</span> <span class="operator">=</span> list;</span><br><span class="line"></span><br><span class="line">        PriorityQueue&lt;ListNode&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(</span><br><span class="line">            lists.length,</span><br><span class="line">            (a,b)-&gt;(a.val-b.val)</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(ListNode list1:lists)&#123;</span><br><span class="line">            <span class="keyword">if</span>(list1!=<span class="literal">null</span>)&#123;</span><br><span class="line">                pq.add(list1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!pq.isEmpty())&#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">node</span> <span class="operator">=</span> pq.poll();</span><br><span class="line">            p.next = node;</span><br><span class="line">            <span class="keyword">if</span>(node.next != <span class="literal">null</span>)&#123;</span><br><span class="line">                pq.add(node.next);</span><br><span class="line">            &#125;</span><br><span class="line">            p = p.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="å¤§è‡´æ ¸å¿ƒæ¨¡å—">å¤§è‡´æ ¸å¿ƒæ¨¡å—</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰åŒæŒ‡é’ˆ</span></span><br><span class="line"><span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head;</span><br><span class="line"><span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head;</span><br><span class="line"><span class="comment">// ä¸€è€…</span></span><br><span class="line"><span class="keyword">while</span>(fast != <span class="literal">null</span> &amp;&amp; fast.next != <span class="literal">null</span> )&#123;</span><br><span class="line">   fast = fast.next.next;</span><br><span class="line">   slow = slow.next;</span><br><span class="line">   ......</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å†è€…</span></span><br><span class="line">	<span class="keyword">while</span>( q!=<span class="literal">null</span>)&#123;       <span class="comment">//while(p1!= null &amp;&amp; p2 != null)</span></span><br><span class="line">           <span class="keyword">if</span>(q.val &lt; x)&#123;</span><br><span class="line">               s.next = q;</span><br><span class="line">               s= s.next;              </span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               b.next = q;</span><br><span class="line">               b=b.next;</span><br><span class="line">           &#125; </span><br><span class="line">        ......</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="é¢˜è§£">é¢˜è§£</h4>
  <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¿«æ…¢æŒ‡é’ˆ é“¾è¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="number">141</span> é“¾è¡¨æ˜¯å¦æœ‰ç¯</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¿”å›å€¼ boolean</span></span><br><span class="line">    <span class="comment">// å®šä¹‰å¿«æ…¢æŒ‡é’ˆ,åˆå§‹å€¼ä¸ºhead; ---å”¯äºŒçš„å˜é‡</span></span><br><span class="line">    <span class="comment">//  while(fast != null &amp;&amp; fast.next != null  &amp;&amp; fast.next.next != null)å¾ªç¯æ¡ä»¶</span></span><br><span class="line">    </span><br><span class="line"><span class="number">142</span> ç¯çš„èŠ‚ç‚¹åœ¨å“ª</span><br><span class="line">    <span class="comment">// è¿”å›å€¼ ListNode</span></span><br><span class="line">    <span class="comment">// å®šä¹‰å¿«æ…¢æŒ‡é’ˆ,åˆå§‹å€¼ä¸ºhead; ---å”¯äºŒçš„å˜é‡</span></span><br><span class="line">    <span class="comment">//  while(fast != null &amp;&amp; fast.next != null  &amp;&amp; fast.next.next != null)å¾ªç¯æ¡ä»¶1 </span></span><br><span class="line">    <span class="comment">// å•ç‹¬åˆ¤æ–­ä¸€ä¸‹ if(fast == null || fast.next == null) return null;</span></span><br><span class="line">    <span class="comment">// æ…¢æŒ‡é’ˆä»å¤´å¼€å§‹ï¼Œå†ä¸€æ¬¡  while(slow != fast) å¾ªç¯</span></span><br><span class="line"><span class="number">876</span> æ‰¾ä¸­é—´ç‚¹</span><br><span class="line">    <span class="comment">//// è¿”å›å€¼ ListNode</span></span><br><span class="line">    <span class="comment">// å®šä¹‰å¿«æ…¢æŒ‡é’ˆ,åˆå§‹å€¼ä¸ºhead; ---å”¯äºŒçš„å˜é‡</span></span><br><span class="line">    <span class="comment">//  while(fast != null &amp;&amp; fast.next != null)å¾ªç¯æ¡ä»¶</span></span><br><span class="line">    </span><br><span class="line">---- ä¸Šé¢çš„ ä¸‰é¢˜å‡æ˜¯åœ¨ å¾ªç¯æ¡ä»¶ä¸€ ä¸­è¿›è¡Œ  fast = fast.next.next;  slow = slow.next; æ“ä½œ  å…¶ä»–æ“ä½œæ˜¯ç»†è‡´æœ«èŠ‚çš„å˜åŒ–</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="number">160</span> ä¸¤ä¸ªé“¾è¡¨ç›¸äº¤çš„ç‚¹</span><br><span class="line">    <span class="comment">// ä¸¤ä¸ªé“¾è¡¨ï¼Œæ‰€ä»¥è¦æœ‰ä¸¤ä¸ªæŒ‡é’ˆ   ---å”¯äºŒçš„å˜é‡</span></span><br><span class="line">    <span class="comment">// ä¸¤ä¸ªé“¾è¡¨é•¿çŸ­ä¸ä¸€ï¼Œä¾æ¬¡ä¸€æ¬¡éå†ï¼Œé‡åˆå³ä¸ºäº¤ç‚¹</span></span><br><span class="line">    <span class="comment">//å¾ªç¯æ¡ä»¶ while(p1 != p2)</span></span><br><span class="line">    </span><br><span class="line">---  åˆ›å»ºè™šæ‹Ÿé“¾è¡¨å¤´ç»“ç‚¹</span><br><span class="line"></span><br><span class="line"><span class="number">19</span> åˆ é™¤å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹</span><br><span class="line">    <span class="comment">//åˆ›å»ºè¾…åŠ©é“¾è¡¨,è™šæ‹Ÿé“¾è¡¨å¤´ç»“ç‚¹demo ï¼ˆ-1ï¼‰     ä¸€ä¸ªå˜é‡ </span></span><br><span class="line">    <span class="comment">//demo.next =head;</span></span><br><span class="line">    <span class="comment">//è°ƒç”¨æ‰¾ç¬¬kä¸ªå…ƒç´ çš„æ–¹æ³•æ‰¾åˆ°ç¬¬len-n+1ä¸ªå…ƒç´   ä¼ çš„å‚æ•°å°±è¦æ˜¯ å®šä¹‰çš„è™šé“¾è¡¨</span></span><br><span class="line">    	<span class="comment">//å®šä¹‰å¿«æ…¢æŒ‡é’ˆ  ---å”¯äºŒçš„å˜é‡</span></span><br><span class="line">    	<span class="comment">//for(int i=1;i&lt;k;i++)   fast å…ˆè·‘çš„é—´éš”</span></span><br><span class="line">    	<span class="comment">//å¾ªç¯æ¡ä»¶ while(fast.next != null)</span></span><br><span class="line"> 	<span class="comment">// åˆ é™¤æ‰¾åˆ°èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">	<span class="comment">// demo å…¨ç¨‹ä¸å‚åŠ å·¥ä½œï¼Œåªæœ‰åœ¨åˆ›å»ºçš„æ—¶å€™æŒ‡å‘åŸé“¾è¡¨ï¼Œæ‰€ä»¥è¾“å‡ºçš„è¿”å›å€¼å°±æ˜¯ï¼šdemo.next</span></span><br><span class="line">    </span><br><span class="line">   </span><br><span class="line"><span class="number">86</span> åˆ†éš”é“¾è¡¨</span><br><span class="line">    <span class="comment">// ä¸€åˆ†ä¸º2   2ä¸ªè™šæ‹Ÿé“¾è¡¨å¤´ç»“ç‚¹  small  big   åŸé“¾è¡¨è¿˜æ˜¯ç”¨head   æ¢åšå˜é‡ på¯¹åŸé“¾è¡¨æ“ä½œ  è¿›è¡Œè·å–      --- 3 å˜é‡ + 1 ä¸´æ—¶å˜é‡</span></span><br><span class="line">    <span class="comment">//è™šæ‹ŸèŠ‚ç‚¹ä¸å‚ä¸å·¥ä½œï¼Œæ‰€ä»¥å¯¹è¿™ä¸¤ä¸ªè¡¨å¤´ç»“ç‚¹å†æ¬¡è¿›è¡Œåˆ›å»ºå¯¹åº”çš„ æ“ä½œèŠ‚ç‚¹ s b</span></span><br><span class="line">    <span class="comment">//å¾ªç¯æ¡ä»¶ä¸­  while( q!=null)    q ç½®ä¸ºhead,è¡¨ç¤ºè®©qå¯¹è¯¥é“¾è¡¨è¿›è¡Œå¾ªç¯è·å–      --  åªæ¯”è¾ƒå½“å‰å€¼</span></span><br><span class="line">    		<span class="comment">//ä¸­æ¯”è¾ƒå¤§å°ï¼Œå°çš„è¿› s ï¼Œsç»§ç»­åç§»    å¤§çš„è¿› b   bç»§ç»­åç§»    </span></span><br><span class="line">    		<span class="comment">//é‡ç‚¹:æ–­å¼€åŸé“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„ next æŒ‡é’ˆ,å¦åˆ™ä¼šæˆç¯	</span></span><br><span class="line">    			<span class="comment">// ----- æ€ä¹ˆæ–­ --&gt;  ä¸´æ—¶å˜é‡å­˜å‚¨p å½“å‰å€¼p.next      pç½®ä¸º null      pè¿›è¡Œèµ‹å€¼ä¿è¯å¾ªç¯ç»§ç»­æ‰§è¡Œ</span></span><br><span class="line">   <span class="comment">// big  å°±æ˜¯	bå¯¹åº”çš„ç»“æœé›†ï¼Œä½†æ˜¯big ä¸ºè™šæ‹Ÿçš„ï¼Œä¹Ÿå°±æ˜¯è¯´   big.nextæ‰æ˜¯b   </span></span><br><span class="line">   <span class="comment">// s æ˜¯ä¸€ç›´åç§»çš„ æ‰€ä»¥s.next = big.next   å°† big.next èµ‹å€¼ç»™s</span></span><br><span class="line">   <span class="comment">//åŒç† è¿”å›çš„å°±æ˜¯small.next</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="number">21</span> åˆå¹¶é“¾è¡¨</span><br><span class="line">	<span class="comment">//äºŒåˆä¸€   ä¸¤ä¸ªåŸé“¾è¡¨  list1 list2  ä¸€ä¸ªæ–°é“¾è¡¨  list ä½†æ˜¯éƒ½ä¸èƒ½ç›´æ¥æ“ä½œï¼Œæ‰€ä»¥  è¦2ä¸ªè™šæ‹Ÿé“¾è¡¨å¤´ç»“ç‚¹  small  bigå¯¹è€é“¾è¡¨è¿›è¡Œæ“ä½œ ä»¥åŠä¸€ä¸ª p å¯¹æ–°å»ºçš„é“¾è¡¨è¿›è¡Œæ“ä½œ </span></span><br><span class="line">    		<span class="comment">// 3å˜é‡</span></span><br><span class="line">    <span class="comment">//while(big!= null &amp;&amp; small != null) æ¯”è¾ƒå¤§å°ï¼Œ  -- åªæ¯”è¾ƒå½“å‰å€¼</span></span><br><span class="line">    			<span class="comment">//å€¼å°çš„ å°±è¿›æ–°é“¾è¡¨ï¼Œsmall åç§»  /bigåç§»      å¹¶å°†å½“å‰å€¼å­˜åˆ° pçš„ä¸‹ä¸€ä¸ªå€¼    æ¯”å®Œå¤§å°  -------&gt; ç‰¹è‰²ï¼špæŒç»­åç§»  -- å¦åˆ™å€¼å°†è¢«è¦†ç›–</span></span><br><span class="line">    <span class="comment">//æ¯”å®Œå¿…æœ‰ä¸€ä¸ªä¸”åªæœ‰ä¸€ä¸ªï¼ˆåªæ¯”è¾ƒå½“å‰å€¼ï¼‰ ï¼Œæ‰€ä»¥åˆ†å¼€åˆ¤æ–­  é€»è¾‘éƒ½æ˜¯ï¼Œç›´æ¥åŠ åˆ°æ–°é“¾è¡¨ï¼Œp.next = small /big;</span></span><br><span class="line">    <span class="comment">//åŒç† è¿”å›çš„å°±æ˜¯list.next</span></span><br><span class="line">    </span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<h2 id="åŒæŒ‡é’ˆå¯¹æ•°ç»„">åŒæŒ‡é’ˆå¯¹æ•°ç»„</h2>
<h4 id="é¢˜è§£-2">é¢˜è§£</h4>
  <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¿«æ…¢æŒ‡é’ˆ æ•°ç»„</span></span><br><span class="line"><span class="comment">// æ­¤å¤„çš„æ•°ç»„å…¨æ˜¯åŸåœ°æ“ä½œï¼Œä¸èƒ½new æ–°çš„</span></span><br><span class="line"><span class="number">26</span> æ•°ç»„åŸåœ°å»é‡   --ä¸èƒ½<span class="keyword">new</span> ä¸€ä¸ªæ–°çš„æ•°ç»„            ç¬¬ä¸€ä¸ªå€¼è‚¯å®šæ˜¯ä¿ç•™çš„  </span><br><span class="line"><span class="comment">//åˆ†æï¼šå·²ç»æ’å¥½åºçš„ï¼Œåˆ é™¤ä¼šæ¶‰åŠ ç´¢å¼•çš„å˜åŒ–</span></span><br><span class="line"><span class="comment">// fast slow  ä¸¤ä¸ªæŒ‡é’ˆï¼Œ</span></span><br><span class="line">    <span class="comment">//ç‰¹ç‚¹ï¼šå…ˆ++ å†èµ‹å€¼ï¼Œfast åˆå§‹å€¼= 1 /0 éƒ½å¯ä»¥</span></span><br><span class="line">    		<span class="comment">// å› ä¸ºæ­¤æ—¶slowæ˜¯æœ‰å€¼çš„ï¼Œç¬¬ä¸€ä¸ªå€¼è‚¯å®šæ˜¯ä¿ç•™çš„</span></span><br><span class="line">	<span class="comment">//while(fast&lt;nums.length)&#123;å¾ªç¯</span></span><br><span class="line">            <span class="comment">//if(nums[fast] != nums[slow])&#123; åŸåœ°æ“ä½œçš„åˆ¤å®š</span></span><br><span class="line">    </span><br><span class="line"><span class="number">83</span>  åˆ é™¤æ’åºåˆ—è¡¨ä¸­é‡å¤å…ƒç´                           ç¬¬ä¸€ä¸ªå€¼è‚¯å®šæ˜¯ä¿ç•™çš„</span><br><span class="line"><span class="comment">//é“¾è¡¨  å€¼å¾—æ¯”è¾ƒ æ˜¯  .val</span></span><br><span class="line">    <span class="comment">// fast slow  ä¸¤ä¸ªæŒ‡é’ˆï¼Œ</span></span><br><span class="line">    <span class="comment">//while(fast!= null)&#123;å¾ªç¯</span></span><br><span class="line">          <span class="comment">//if(fast.val != slow.val)&#123; åŸåœ°æ“ä½œçš„åˆ¤å®š</span></span><br><span class="line">    <span class="comment">// å…ˆé“¾æ¥å†åç§»æŒ‡é’ˆ</span></span><br><span class="line">----------<span class="comment">//é‡ç‚¹: æ–­å¼€ä¸é‡å¤å…ƒç´ çš„é“¾æ¥</span></span><br><span class="line">        <span class="comment">//slow.next = null;</span></span><br><span class="line"><span class="number">27</span> æ•°ç»„ä¸­çš„æŸäº›å…ƒç´ è¿›è¡Œã€ŒåŸåœ°åˆ é™¤ã€                ç¬¬ä¸€ä¸ªå€¼ä¸ä¸€å®šæ˜¯ä¿ç•™çš„</span><br><span class="line">    <span class="comment">// fast slow  ä¸¤ä¸ªæŒ‡é’ˆ</span></span><br><span class="line">    <span class="comment">//while(fast&lt;nums.length)&#123;å¾ªç¯</span></span><br><span class="line">            <span class="comment">//if(nums[fast] != val )&#123; åŸåœ°æ“ä½œçš„åˆ¤å®š   -- ç‰¹å®šå€¼val</span></span><br><span class="line">   <span class="comment">// å++  å…ˆèµ‹å€¼    å› ä¸ºç¬¬ä¸€ä¸ªå€¼ä¸ä¸€å®šæ˜¯ä¿ç•™çš„   æ­¤æ—¶çš„slowæ˜¯ä¸ä¸€å®šæœ‰å€¼çš„</span></span><br><span class="line"><span class="number">283</span> ç§»åŠ¨<span class="number">0</span></span><br><span class="line">    <span class="comment">// fast slow  ä¸¤ä¸ªæŒ‡é’ˆ</span></span><br><span class="line">    <span class="comment">//while(fast&lt;nums.length)&#123;å¾ªç¯</span></span><br><span class="line">            <span class="comment">//if(nums[fast] != 0 )&#123; åŸåœ°æ“ä½œçš„åˆ¤å®š   -- ç‰¹å®šå€¼     0</span></span><br><span class="line">   <span class="comment">// å++  å…ˆèµ‹å€¼    å› ä¸ºç¬¬ä¸€ä¸ªå€¼ä¸ä¸€å®šæ˜¯ä¿ç•™çš„   æ­¤æ—¶çš„slowæ˜¯ä¸ä¸€å®šæœ‰å€¼çš„</span></span><br><span class="line">   <span class="comment">//åé¢çš„å€¼å…¨ä¸º0  å°±æ˜¯è¦ä» slow+1 ï¼ˆä½ç½®ï¼‰/    -1ï¼ˆè§’æ ‡ï¼‰ åˆ° fast  è§’æ ‡ã€low,fast)å…¨ç½®ä¸º 0</span></span><br><span class="line">         <span class="comment">//if(fast&gt;slow)&#123;</span></span><br><span class="line">            <span class="comment">// for(int i=slow; i &lt;fast;i++)&#123;</span></span><br><span class="line">            <span class="comment">//    nums[i] =0;</span></span><br><span class="line">            <span class="comment">//&#125;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">// å·¦å³æŒ‡é’ˆ æ•°ç»„</span></span><br><span class="line"><span class="number">167</span> ä¸¤æ•°å’Œ</span><br><span class="line">   <span class="comment">// left right å·¦å³ä¸¤æŒ‡é’ˆï¼Œ&gt; target å°±right-- å¦åˆ™++ ç›´åˆ° else (ä¸èƒ½ä¸¢)   return</span></span><br><span class="line">    </span><br><span class="line"><span class="number">344</span> åè½¬æ•°ç»„</span><br><span class="line">    <span class="comment">//left right å·¦å³ä¸¤æŒ‡é’ˆ  ç»ç”±è¾…åŠ©å˜é‡ï¼ˆè®¾ç«‹è¾…åŠ©å˜é‡ï¼‰è¿›è¡Œäº¤æ¢   éšåæŒ‡é’ˆ++  -- </span></span><br><span class="line">    </span><br><span class="line"><span class="number">5</span> æœ€é•¿å›æ–‡ä¸²</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é€’å½’</span></span><br><span class="line">    <span class="comment">// é€’å½’å‡½æ•°ï¼š</span></span><br><span class="line">    <span class="comment">//  ä¸­é—´å‘ä¸¤è¾¹æ‰©å±•   ++    --</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">Palindrome</span><span class="params">(String s, <span class="type">int</span> start,<span class="type">int</span> end)</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(start&gt; -<span class="number">1</span> &amp;&amp; end&lt;s.length()</span><br><span class="line">                &amp;&amp; s.charAt(start)==s.charAt(end))&#123;</span><br><span class="line">            start--;</span><br><span class="line">            end++;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">// è¿”å›å­ä¸²</span></span><br><span class="line">        <span class="keyword">return</span> s.substring(start+<span class="number">1</span>,end);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//è°ƒç”¨é€’å½’</span></span><br><span class="line">	 <span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="type">String</span> <span class="variable">nowStr</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;length;i++)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">odd</span> <span class="operator">=</span>  Palindrome(s,i,i);</span><br><span class="line">            <span class="type">String</span> <span class="variable">even</span> <span class="operator">=</span>  Palindrome(s,i,i+<span class="number">1</span>);</span><br><span class="line">		<span class="comment">//è¿™é‡Œæ–­ç‚¹è°ƒè¯•ä¹‹åå‘ç°  è¦åˆ¤å®š  ä¸ç„¶ä¼šå‡ºç°bug ,å¦åˆ™ä¼šä½¿nowStr çš„è¾ƒå¤§çš„å€¼è¢«æ›¿æ¢æˆä¸ºæ–°çš„å°å€¼ </span></span><br><span class="line">        <span class="keyword">if</span>(nowStr.length()&lt; even.length()  || nowStr.length()&lt; odd.length() )</span><br><span class="line">            nowStr = even.length() &gt; odd.length()?even:odd;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nowStr;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="åŸåœ°å¤„ç†æ•°ç»„å¤§è‡´æ¨¡ç‰ˆ">åŸåœ°å¤„ç†æ•°ç»„å¤§è‡´æ¨¡ç‰ˆ</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(fast&lt;nums.length)&#123;</span><br><span class="line">           <span class="keyword">if</span>(nums[fast] != nums[slow])&#123;</span><br><span class="line">               <span class="comment">//å…ˆ++ å†èµ‹å€¼ï¼Œå› ä¸ºæ­¤æ—¶slowæ˜¯æœ‰å€¼çš„ï¼Œç¬¬ä¸€ä¸ªå€¼è‚¯å®šæ˜¯ä¿ç•™çš„</span></span><br><span class="line">                slow++;        <span class="comment">//â‘ </span></span><br><span class="line">               nums[slow] = nums[fast];      <span class="comment">//â‘¡</span></span><br><span class="line">               </span><br><span class="line">               <span class="comment">// ç¬¬ä¸€ä¸ªå€¼å¦‚æœæ˜¯è¦ä¿ç•™çš„ï¼Œé‚£ä¹ˆé¡ºåºå°±æ˜¯â‘ â‘¡</span></span><br><span class="line">               <span class="comment">// ç¬¬ä¸€ä¸ªå€¼å¦‚æœæ˜¯ä¸ä¸€å®šä¿ç•™çš„ï¼Œé‚£ä¹ˆé¡ºåºå°±æ˜¯â‘¡â‘ </span></span><br><span class="line">               </span><br><span class="line">           &#125;</span><br><span class="line">           fast++;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<h2 id="dp">dp</h2>
<p>å­é—®é¢˜ï¼š</p>
<p>æœ€ä¼˜å­ç»“æ„ï¼š</p>
<p>â€‹	<strong>è¦ç¬¦åˆã€Œæœ€ä¼˜å­ç»“æ„ã€ï¼Œå­é—®é¢˜é—´å¿…é¡»äº’ç›¸ç‹¬ç«‹</strong></p>
<p>â€‹			ä½ åªéœ€è¦æŠŠå­é—®é¢˜çš„ç­”æ¡ˆåŠ ä¸€ï¼Œæ±‚ä¸ªæœ€å°å€¼ï¼Œå°±æ˜¯åŸé—®é¢˜çš„ç­”æ¡ˆã€‚</p>
<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<p>â€‹	<strong>ç¡®å®š base case</strong></p>
<p>â€‹	<strong>ç¡®å®šã€ŒçŠ¶æ€ã€ï¼Œä¹Ÿå°±æ˜¯åŸé—®é¢˜å’Œå­é—®é¢˜ä¸­ä¼šå˜åŒ–çš„</strong>    ==å˜é‡==</p>
<p>â€‹	<strong>ç¡®å®šã€Œé€‰æ‹©ã€ï¼Œä¹Ÿå°±æ˜¯å¯¼è‡´ã€ŒçŠ¶æ€ã€äº§ç”Ÿå˜åŒ–çš„è¡Œä¸º</strong>    æ‰€è°“çš„é€‰æ‹©å°±æ˜¯ç›®å‰å¯ä»¥é€‰çš„å˜é‡çš„èŒƒå›´  å–å€¼;</p>
<p>â€‹	<strong>æ˜ç¡® <code>dp</code> å‡½æ•°(è‡ªé¡¶å‘ä¸‹)/æ•°ç»„(è‡ªåº•å‘ä¸Š)çš„å®šä¹‰</strong></p>
<p>â€‹				ä¸€èˆ¬æ¥è¯´å‡½æ•°çš„==å‚æ•°==å°±æ˜¯çŠ¶æ€è½¬ç§»ä¸­ä¼šå˜åŒ–çš„é‡ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è¯´åˆ°çš„==ã€ŒçŠ¶æ€ã€==</p>
<blockquote>
<p>==æ³¨ï¼š==</p>
<p>å­ä¸²ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œè€Œå­åºåˆ—ä¸ä¸€å®šæ˜¯è¿ç»­çš„</p>
</blockquote>
<h3 id="åŠ¨æ€è§„åˆ’è§£æ³•">åŠ¨æ€è§„åˆ’è§£æ³•</h3>
<p>åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯<strong>æ•°å­¦å½’çº³æ³•</strong>ã€‚</p>
<p>å¯ä»¥å‡è®¾ <code>dp[0...i-1]</code> éƒ½å·²ç»è¢«ç®—å‡ºæ¥äº†ï¼Œç„¶åé—®è‡ªå·±ï¼šæ€ä¹ˆé€šè¿‡è¿™äº›ç»“æœç®—å‡º <code>dp[i]</code></p>
<p>æ€è€ƒçŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„ä¸€ä¸ªåŸºæœ¬æ–¹æ³•æ˜¯æ•°å­¦å½’çº³æ³•ï¼Œå³æ˜ç¡® <code>dp</code> å‡½æ•°æˆ–æ•°ç»„çš„å®šä¹‰ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªå®šä¹‰ï¼Œä»å·²çŸ¥çš„ã€ŒçŠ¶æ€ã€ä¸­æ¨å¯¼å‡ºæœªçŸ¥çš„ã€ŒçŠ¶æ€ã€ã€‚</p>
<p>åŠ¨æ€è§„åˆ’çš„çŠ¶æ€è½¬ç§»å…³ç³»ï¼š</p>
<p>1ã€æ˜ç¡® <code>dp</code> æ•°ç»„çš„å®šä¹‰ã€‚</p>
<p>2ã€æ ¹æ® <code>dp</code> æ•°ç»„çš„å®šä¹‰ï¼Œè¿ç”¨æ•°å­¦å½’çº³æ³•çš„æ€æƒ³ï¼Œå‡è®¾ <code>dp[0...i-1]</code> éƒ½å·²çŸ¥ï¼Œæƒ³åŠæ³•æ±‚å‡º <code>dp[i]</code>ï¼Œä¸€æ—¦è¿™ä¸€æ­¥å®Œæˆï¼Œæ•´ä¸ªé¢˜ç›®åŸºæœ¬å°±è§£å†³äº†</p>
<p>ä½†å¦‚æœæ— æ³•å®Œæˆè¿™ä¸€æ­¥ï¼Œå¾ˆå¯èƒ½å°±æ˜¯ <code>dp</code> æ•°ç»„çš„å®šä¹‰ä¸å¤Ÿæ°å½“ï¼Œéœ€è¦é‡æ–°å®šä¹‰ <code>dp</code> æ•°ç»„çš„å«ä¹‰ï¼›æˆ–è€…å¯èƒ½æ˜¯ <code>dp</code> æ•°ç»„å­˜å‚¨çš„ä¿¡æ¯è¿˜ä¸å¤Ÿï¼Œä¸è¶³ä»¥æ¨å‡ºä¸‹ä¸€æ­¥çš„ç­”æ¡ˆï¼Œéœ€è¦æŠŠ <code>dp</code> æ•°ç»„æ‰©å¤§æˆäºŒç»´æ•°ç»„ç”šè‡³ä¸‰ç»´æ•°ç»„ã€‚</p>
<blockquote>
<p>1ã€åˆ°åº•ä»€ä¹ˆæ‰å«ã€Œæœ€ä¼˜å­ç»“æ„ã€ï¼Œå’ŒåŠ¨æ€è§„åˆ’ä»€ä¹ˆå…³ç³»</p>
<p>â€‹				å¯ä»¥ä»å­é—®é¢˜çš„æœ€ä¼˜ç»“æœæ¨å‡ºæ›´å¤§è§„æ¨¡é—®é¢˜çš„æœ€ä¼˜ç»“æœ  ä¹‹å‰çš„å­é—®é¢˜å°±æ˜¯æœ€ä¼˜å­ç»“æ„</p>
<p>â€‹				æœ€ä¼˜å­ç»“æ„å¹¶ä¸æ˜¯åŠ¨æ€è§„åˆ’ç‹¬æœ‰çš„ä¸€ç§æ€§è´¨ï¼Œèƒ½æ±‚æœ€å€¼çš„é—®é¢˜å¤§éƒ¨åˆ†éƒ½å…·æœ‰è¿™ä¸ªæ€§è´¨ï¼›<strong>ä½†åè¿‡æ¥ï¼Œæœ€ä¼˜å­ç»“æ„æ€§è´¨ä½œä¸ºåŠ¨æ€è§„åˆ’é—®é¢˜çš„å¿…è¦æ¡ä»¶ï¼Œä¸€å®šæ˜¯è®©ä½ æ±‚æœ€å€¼çš„</strong>ï¼Œä»¥åç¢°åˆ°é‚£ç§æ¶å¿ƒäººçš„æœ€å€¼é¢˜ï¼Œæ€è·¯å¾€åŠ¨æ€è§„åˆ’æƒ³å°±å¯¹äº†ï¼Œè¿™å°±æ˜¯å¥—è·¯</p>
<p>â€‹				åŠ¨æ€è§„åˆ’ä¸å°±æ˜¯ä»æœ€ç®€å•çš„ base case å¾€åæ¨å¯¼å—ï¼Œå¯ä»¥æƒ³è±¡æˆä¸€ä¸ªé“¾å¼ååº”ï¼Œä»¥å°åšå¤§ã€‚ä½†åªæœ‰ç¬¦åˆæœ€ä¼˜å­ç»“æ„çš„é—®é¢˜ï¼Œæ‰æœ‰å‘ç”Ÿè¿™ç§é“¾å¼ååº”çš„æ€§è´¨</p>
<p>â€‹				æ‰¾æœ€ä¼˜å­ç»“æ„çš„è¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯è¯æ˜çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ­£ç¡®æ€§çš„è¿‡ç¨‹ï¼Œæ–¹ç¨‹ç¬¦åˆæœ€ä¼˜å­ç»“æ„å°±å¯ä»¥å†™æš´åŠ›è§£äº†ï¼Œå†™å‡ºæš´åŠ›è§£å°±å¯ä»¥çœ‹å‡ºæœ‰æ²¡æœ‰é‡å å­é—®é¢˜äº†ï¼Œæœ‰åˆ™ä¼˜åŒ–ï¼Œæ— åˆ™ OKã€‚è¿™ä¹Ÿæ˜¯å¥—è·¯ï¼Œç»å¸¸åˆ·é¢˜çš„è¯»è€…åº”è¯¥èƒ½ä½“ä¼šã€‚</p>
</blockquote>
<blockquote>
<p>2ã€å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªé—®é¢˜æ˜¯åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œå³å¦‚ä½•çœ‹å‡ºæ˜¯å¦å­˜åœ¨é‡å å­é—®é¢˜</p>
<p>â€‹				<strong>é¦–å…ˆï¼Œæœ€ç®€å•ç²—æš´çš„æ–¹å¼å°±æ˜¯ç”»å›¾ï¼ŒæŠŠé€’å½’æ ‘ç”»å‡ºæ¥ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰é‡å¤çš„èŠ‚ç‚¹</strong>ã€‚</p>
<p>â€‹					å®é™…çš„åŠ¨æ€è§„åˆ’é—®é¢˜æ¯”è¾ƒå¤æ‚ï¼Œæ¯”å¦‚äºŒç»´ç”šè‡³ä¸‰ç»´çš„åŠ¨æ€è§„åˆ’ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”»é€’å½’æ ‘ï¼Œä½†ä¸å…æœ‰äº›å¤æ‚</p>
<p>â€‹				<strong>å¯ä»¥é€šè¿‡é€’å½’æ¡†æ¶ç›´æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å å­é—®é¢˜</strong>ã€‚</p>
<p>â€‹					ä»çŠ¶æ€ <code>(i, j)</code> è½¬ç§»åˆ° <code>(i+2, j+2)</code>ï¼Œæœ‰å‡ ç§è·¯å¾„ï¼Ÿä»çŠ¶æ€ <code>(i, j)</code> è½¬ç§»åˆ° <code>(i-1, j-1)</code>ï¼Œæœ‰å‡ ç§è·¯å¾„ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>3ã€ä¸ºä»€ä¹ˆç»å¸¸çœ‹åˆ°å°† <code>dp</code> æ•°ç»„çš„å¤§å°è®¾ç½®ä¸º <code>n + 1</code> è€Œä¸æ˜¯ <code>n</code></p>
<p>ä¸ºä»€ä¹ˆè¿­ä»£è§£æ³•ä¸­çš„ <code>dp</code> æ•°ç»„åˆå§‹åŒ–å¤§å°è¦è®¾ç½®ä¸º <code>int[m+1][n+1]</code>ï¼Ÿ</p>
<p>ä¸ºä»€ä¹ˆ <code>s1[0..i]</code> å’Œ <code>s2[0..j]</code> çš„æœ€å°ç¼–è¾‘è·ç¦»è¦å­˜å‚¨åœ¨ <code>dp[i+1][j+1]</code> ä¸­ï¼Œæœ‰ä¸€ä½ç´¢å¼•åç§»ï¼Ÿ</p>
<p>å†çœ‹ <code>dp</code> æ•°ç»„ï¼Œä½ å½“ç„¶ä¹Ÿå¯ä»¥å®šä¹‰ <code>dp[i][j]</code> å­˜å‚¨ <code>s1[0..i]</code> å’Œ <code>s2[0..j]</code> çš„ç¼–è¾‘è·ç¦»ï¼Œä½†é—®é¢˜æ˜¯ base case æ€ä¹ˆæï¼Ÿç´¢å¼•æ€ä¹ˆèƒ½æ˜¯ -1 å‘¢ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>4ã€ä¸ºä»€ä¹ˆåŠ¨æ€è§„åˆ’éå† <code>dp</code> æ•°ç»„çš„æ–¹å¼äº”èŠ±å…«é—¨ï¼Œæœ‰çš„æ­£ç€éå†ï¼Œæœ‰çš„å€’ç€éå†ï¼Œæœ‰çš„æ–œç€éå†</p>
<p><strong>1ã€éå†çš„è¿‡ç¨‹ä¸­ï¼Œæ‰€éœ€çš„çŠ¶æ€å¿…é¡»æ˜¯å·²ç»è®¡ç®—å‡ºæ¥çš„</strong>ã€‚</p>
<p><strong>2ã€éå†ç»“æŸåï¼Œå­˜å‚¨ç»“æœçš„é‚£ä¸ªä½ç½®å¿…é¡»å·²ç»è¢«è®¡ç®—å‡ºæ¥</strong>ã€‚</p>
<p>â€‹	ä¸»è¦å°±æ˜¯çœ‹ base case å’Œæœ€ç»ˆç»“æœçš„å­˜å‚¨ä½ç½®ï¼Œä¿è¯éå†è¿‡ç¨‹ä¸­ä½¿ç”¨çš„æ•°æ®éƒ½æ˜¯è®¡ç®—å®Œæ¯•çš„å°±è¡Œï¼Œæœ‰æ—¶å€™ç¡®å®å­˜åœ¨å¤šç§æ–¹æ³•å¯ä»¥å¾—åˆ°æ­£ç¡®ç­”æ¡ˆï¼Œå¯æ ¹æ®ä¸ªäººå£å‘³è‡ªè¡Œé€‰æ‹©ã€‚</p>
</blockquote>
<blockquote>
<p>5ã€ BASE CASE å’Œå¤‡å¿˜å½•çš„åˆå§‹å€¼æ€ä¹ˆå®šï¼Ÿ</p>
<p>base case çš„è¿”å›å€¼    <strong>èµ·å§‹æ¡ä»¶å†³å®šçš„</strong></p>
<p>å¤‡å¿˜å½•çš„åˆå§‹å€¼          <strong>ç”±é¢˜ç›®ç»™å‡ºçš„æ•°æ®èŒƒå›´å†³å®šçš„</strong></p>
<p>ç´¢å¼•è¶Šç•Œæƒ…å†µçš„è¿”å›å€¼</p>
<p>5.1ã€å¯¹äºä¸åˆæ³•çš„ç´¢å¼•ï¼Œè¿”å›å€¼åº”è¯¥å¦‚ä½•ç¡®å®š</p>
<p>â€‹		<strong>æ ¹æ®æˆ‘ä»¬çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„é€»è¾‘ç¡®å®š</strong>ã€‚å¯¹äºç´¢å¼•è¶Šç•Œçš„ <code>dp</code> å‡½æ•°ï¼Œåº”è¯¥è¿”å›ä¸€ä¸ªä¸å¯èƒ½è¢«å–åˆ°çš„å€¼ã€‚</p>
<p>5.2ã€base case ä¸ºä»€ä¹ˆæ˜¯ <code>i == 0</code>ï¼Ÿ</p>
<p>â€‹		<strong>æ ¹æ® <code>dp</code> å‡½æ•°çš„å®šä¹‰æ‰€å†³å®šçš„</strong>ã€‚</p>
<p>5.3ã€å¤‡å¿˜å½• <code>memo</code> çš„åˆå§‹å€¼ä¸ºä»€ä¹ˆæ˜¯ 66666ï¼Ÿå…¶ä»–å€¼è¡Œä¸è¡Œï¼Ÿ</p>
<p>â€‹		<strong>é¢˜ç›®ç»™å‡ºçš„æ•°æ®èŒƒå›´å†³å®šçš„</strong>ã€‚<code>memo</code>çš„åˆå§‹å€¼ä¸€å®šå¾—æ˜¯ç‰¹æ®Šå€¼ï¼Œå’Œåˆæ³•çš„ç­”æ¡ˆåŒºé—´æœ‰æ‰€åŒºåˆ†</p>
<p>æ³¨ï¼š</p>
<p>â€‹		<strong>ä¸è¦å¿½è§†é¢˜ç›®ç»™å®šçš„å…¶ä»–ä¿¡æ¯</strong></p>
</blockquote>
<h3 id="åŠ¨æ€è§„åˆ’è§£é¢˜ç»„åˆæ‹³">åŠ¨æ€è§„åˆ’è§£é¢˜ç»„åˆæ‹³</h3>
<p><strong>å°±ç®— <code>dp</code> å‡½æ•°/æ•°ç»„çš„å®šä¹‰ç›¸åŒï¼Œå¦‚æœä½ ä½¿ç”¨ä¸åŒçš„ã€Œè§†è§’ã€è¿›è¡Œç©·ä¸¾ï¼Œæ•ˆç‡ä¹Ÿä¸è§å¾—æ˜¯ç›¸åŒçš„</strong>ã€‚</p>
<p>ä¸¤ç§å®Œå…¨ä¸åŒä½†éƒ½æ˜¯æ­£ç¡®çš„çŠ¶æ€è½¬ç§»é€»è¾‘ï¼Œä¸è¿‡ä¸¤ç§é€»è¾‘åœ¨ä»£ç å®ç°ä¸Šæœ‰æ•ˆç‡çš„å·®å¼‚</p>
<h5 id="æ€»ç»“ï¼š">æ€»ç»“ï¼š</h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>ã€basecase            </span><br><span class="line"> 		èµ·å§‹æ¡ä»¶å†³å®šï¼Œä¹Ÿæ˜¯ç”±dp[i]çš„å®šä¹‰å†³å®š      è¦æ˜¯ä½¿ç”¨å¤‡å¿˜å½•ï¼šåˆ™å…¶åˆå§‹æ¡ä»¶å°±ç”±é¢˜ç›®èŒƒå›´å†³å®š </span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>ã€çŠ¶æ€â€”å˜é‡</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>ã€é€‰æ‹©â€”å˜é‡å‘ç”Ÿå˜åŒ–çš„è¡Œä¸º å¯èƒ½æ˜¯å˜é‡çš„å–å€¼èŒƒå›´</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>ã€dp[i] / dp[m][n]  çš„å®šä¹‰/å«ä¹‰    dp å‚æ•°å°±æ˜¯çŠ¶æ€â€”å˜é‡</span><br><span class="line"></span><br><span class="line"> è§£é¢˜æ€è·¯ï¼š </span><br><span class="line"></span><br><span class="line"> æ•°å­¦å½’çº³æ³•ï¼š</span><br><span class="line"> 					<span class="number">1</span>ã€dp[i] çš„å®šä¹‰/å«ä¹‰</span><br><span class="line">					<span class="number">2</span>ã€å‡è®¾dp[<span class="number">0</span>â€¦i-<span class="number">1</span>] å·²çŸ¥ï¼Œæ±‚dp[i]     ä»å·²çŸ¥æ¨æœªçŸ¥</span><br><span class="line"></span><br><span class="line"> æ˜¯å¦å…·æœ‰é‡å å­é—®é¢˜ï¼š</span><br><span class="line">                   <span class="number">1</span>ã€ç”»é€’å½’æ•°çš„å›¾</span><br><span class="line">                   <span class="number">2</span>ã€æŠ½è±¡å‡º é€’å½’æ¡†æ¶ è¿›è¡Œåˆ¤æ–­				</span><br><span class="line"></span><br><span class="line"> è§£é¢˜æ³¨æ„ç‚¹ï¼š</span><br><span class="line"></span><br><span class="line">               dp[]    æ•°ç»„å¤§å°æ˜¯ n+<span class="number">1</span>			dp[][]è®¾ç½®ä¸ºï¼š [m+<span class="number">1</span>][n+<span class="number">1</span>]		</span><br></pre></td></tr></table></figure>
<h3 id="äº”æ­¥èµ°ï¼š">äº”æ­¥èµ°ï¼š</h3>
<h6 id="1ã€ç¡®å®šdpæ•°ç»„ï¼ˆdp-tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰">1ã€ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰</h6>
<h6 id="2ã€ç¡®å®šé€’æ¨å…¬å¼ã€å…¶åœ¨å‰çš„åŸå› ï¼š-â¼€äº›æƒ…å†µæ˜¯é€’æ¨å…¬å¼å†³å®šäº†dpæ•°ç»„è¦å¦‚ä½•åˆå§‹åŒ–ã€‘">2ã€ç¡®å®šé€’æ¨å…¬å¼ã€å…¶åœ¨å‰çš„åŸå› ï¼š â¼€äº›æƒ…å†µæ˜¯é€’æ¨å…¬å¼å†³å®šäº†<strong>dp</strong>æ•°ç»„è¦å¦‚ä½•åˆå§‹åŒ–ã€‘</h6>
<h6 id="3ã€dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–">3ã€dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</h6>
<h6 id="4ã€ç¡®å®šéå†é¡ºåº">4ã€ç¡®å®šéå†é¡ºåº</h6>
<h6 id="5ã€ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„">5ã€ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„</h6>
<h3 id="åŸºç¡€é—®é¢˜">åŸºç¡€é—®é¢˜</h3>
<blockquote>
<h6 id="çˆ¬æ¥¼æ¢¯çš„æ¶ˆè´¹æœ€å°‘">çˆ¬æ¥¼æ¢¯çš„æ¶ˆè´¹æœ€å°‘</h6>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;  dp[i] = Math.min(dp[i-<span class="number">1</span>]+cost[i-<span class="number">1</span>],dp[i-<span class="number">2</span>]+cost[i-<span class="number">2</span>]);</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<h6 id="ä¸åŒè·¯å¾„">ä¸åŒè·¯å¾„</h6>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;dp[i][j] = dp[i-<span class="number">1</span>][j]+ dp[i][j-<span class="number">1</span>];</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h6 id="ä¸åŒè·¯å¾„II">ä¸åŒè·¯å¾„II</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">if</span>(obstacleGrid[i][j] == <span class="number">1</span>)  <span class="keyword">continue</span>;</span><br><span class="line">&gt;dp[i][j] = dp[i-<span class="number">1</span>][j] + dp[i][j-<span class="number">1</span>];  </span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="å›°éš¾é—®é¢˜">å›°éš¾é—®é¢˜</h6>
<blockquote>
<h6 id="ä¸åŒçš„æœç´¢äºŒå‰æ ‘">ä¸åŒçš„æœç´¢äºŒå‰æ ‘</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;æ‰¾è§„å¾‹</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// ä»¥ j ä¸ºå¤´èŠ‚ç‚¹çš„ï¼Œå·¦å­æ ‘æœ‰ j-1 ä¸ªèŠ‚ç‚¹   å³å­æ ‘æœ‰ i-j ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">&gt;dp[i] += dp[j-<span class="number">1</span>]*dp[i-j];</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h6 id="æ•´æ•°æ‹†åˆ†">æ•´æ•°æ‹†åˆ†</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">// æ‹† i, i-j,å¾ªç¯æ‹†  </span></span><br><span class="line">&gt;dp[i] = max(j*(i-j),j*dp[i-j],dp[i]);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="èƒŒåŒ…é—®é¢˜æ€»ç»“å¤§å…¨">èƒŒåŒ…é—®é¢˜æ€»ç»“å¤§å…¨</h3>
<ul>
<li>
<p>åŸºç¡€é¢˜</p>
</li>
<li>
<p>èƒŒåŒ…</p>
<p>01  èƒŒåŒ…ï¼š</p>
</li>
</ul>
<blockquote>
<p>äºŒç»´æ•°ç»„ï¼š</p>
<ul>
<li>dpæ•°ç»„å«ä¹‰ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">å³dp[i][j] è¡¨â½°ä»ä¸‹æ ‡ä¸º[<span class="number">0</span>-i]çš„ç‰©å“â¾¥ä»»æ„å–ï¼Œæ”¾è¿›å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œä»·å€¼æ€»å’Œæœ€â¼¤æ˜¯å¤šå°‘</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¦æ—¶åˆ»è®°ç€è¿™ä¸ª<strong>dp</strong>æ•°ç»„çš„å«ä¹‰ï¼Œä¸‹â¾¯çš„â¼€äº›æ­¥éª¤éƒ½å›´ç»•è¿™<strong>dp</strong>æ•°ç»„çš„å«ä¹‰è¿›â¾çš„ï¼Œå¦‚æœå“ªâ¾¥çœ‹æ‡µäº†ï¼Œå°±æ¥å›é¡¾â¼€ä¸‹iä»£è¡¨ä»€ä¹ˆï¼Œjåˆä»£è¡¨ä»€ä¹ˆã€‚</p>
</blockquote>
<ul>
<li>é€’æ¨å…¬å¼ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dp[i][j] = max(dp[i - <span class="number">1</span>][j], dp[i - <span class="number">1</span>][j - weight[i]] + value[i]);</span><br><span class="line"></span><br><span class="line">			ä¸æ”¾çš„æ—¶å€™			æ”¾çš„æ—¶å€™</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>æ•°ç»„åˆå§‹åŒ–</p>
</li>
<li>
<p>éå†é¡ºåº</p>
</li>
</ul>
<p>å…ˆéå† ç‰©å“è¿˜æ˜¯å…ˆéå†èƒŒåŒ…é‡é‡éƒ½å¯ä»¥</p>
<p><code>dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]);</code> é€’å½’å…¬å¼ä¸­å¯ä»¥çœ‹å‡º<code>dp[i][j]</code>æ˜¯é </p>
<p><code>dp[i-1][j]å’Œdp[i - 1][j - weight[i]]</code>æ¨å¯¼å‡ºæ¥çš„ã€‚<code>dp[i-1][j]å’Œdp[i - 1][j - weight[i]] </code>éƒ½åœ¨<code>dp[i][j]</code>çš„å·¦ä¸Šâ¾“â½…å‘</p>
<ul>
<li>åŠ¨â¼¿æ¨å¯¼â¼€ä¸‹dpæ•°ç»„</li>
</ul>
<p>è‡ªå·±æ¨å¯¼ å’Œ ç¨‹åºæ‰“å°</p>
<p>ä¸€ç»´æ•°ç»„ï¼š</p>
<blockquote>
<p>æ»šåŠ¨æ•°ç»„çš„ç”±æ¥ï¼Œéœ€è¦æ»¡â¾œçš„æ¡ä»¶æ˜¯ä¸Šâ¼€å±‚å¯ä»¥é‡å¤åˆ©â½¤ï¼Œç›´æ¥æ‹·è´åˆ°å½“å‰å±‚<br>
å…¶å®å¯ä»¥å‘ç°å¦‚æœæŠŠdp[i - 1]é‚£â¼€å±‚æ‹·è´åˆ°dp[i]ä¸Šï¼Œè¡¨è¾¾å¼å¯ä»¥æ˜¯ï¼š<br>
<code>dp[i][j] =max(dp[i][j], dp[i][j - weight[i]] + value[i])</code>; iæ˜¯ç‰©å“ï¼Œjæ˜¯èƒŒåŒ…å®¹é‡</p>
</blockquote>
<blockquote>
<ul>
<li>â¼€ç»´dpæ•°ç»„ä¸­ï¼Œdp[j]è¡¨â½°ï¼šå®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œæ‰€èƒŒçš„ç‰©å“ä»·å€¼å¯ä»¥æœ€â¼¤ä¸ºdp[j]ã€‚</li>
<li><code>dp[j - weight[i]]</code>è¡¨â½°å®¹é‡ä¸ºj-weight[i]çš„èƒŒåŒ…æ‰€èƒŒçš„æœ€â¼¤ä»·å€¼<br>
<code>dp[j - weight[i]] + value[i]</code> è¡¨â½° å®¹é‡ä¸º <code>j - ç‰©å“ié‡é‡</code> çš„èƒŒåŒ… + <code>ç‰©å“içš„ä»·å€¼</code></li>
<li><code>dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);</code>ç›¸å¯¹äºâ¼†ç»´dpæ•°ç»„çš„å†™æ³•ï¼Œå°±æ˜¯æŠŠ<code>dp[i][j]</code>ä¸­<code>i</code>çš„ç»´åº¦å»æ‰äº†</li>
<li>dp[0] = 0ï¼Œåˆå› ä¸º æ˜¯ å–ä»·å€¼æœ€â¼¤çš„æ•°   æ‰€ä»¥éƒ½åˆå§‹ä¸º0å°±å¯ä»¥äº†</li>
<li>å€’åº éå†ï¼Œå°±å¯ä»¥ä¿è¯ç‰©å“åªæ”¾â¼Šâ¼€æ¬¡å‘¢  è€Œä¸”å¿…é¡» å…ˆéå†ç‰©å“åµŒå¥—éå†èƒŒåŒ…å®¹é‡</li>
<li>è‡ªå·±æ¨å¯¼ å’Œ ç¨‹åºæ‰“å°</li>
</ul>
</blockquote>
<p>åˆ†å‰²ç­‰å’Œå­é›†   /  çŸ³å¤´ç›¸æ’   /</p>
<p>ä»·å€¼  å’Œé‡é‡éƒ½çœ‹åšæ•°ç»„ä¸­   å€¼çš„å¤§å°</p>
</blockquote>
<h4 id="01èƒŒåŒ…">01èƒŒåŒ…</h4>
<h6 id="1ã€ç¡®å®šdpæ•°ç»„ï¼ˆdp-tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰-2">1ã€ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dp[j]  è¡¨ç¤º   æ€»å®¹é‡ä¸º jçš„  èƒŒåŒ…  æœ€å¤§å€¼ä¸º  dp[j];</span><br></pre></td></tr></table></figure>
<h6 id="2ã€ç¡®å®šé€’æ¨å…¬å¼ã€å…¶åœ¨å‰çš„åŸå› ï¼š-â¼€äº›æƒ…å†µæ˜¯é€’æ¨å…¬å¼å†³å®šäº†dpæ•°ç»„è¦å¦‚ä½•åˆå§‹åŒ–ã€‘-2">2ã€ç¡®å®šé€’æ¨å…¬å¼ã€å…¶åœ¨å‰çš„åŸå› ï¼š â¼€äº›æƒ…å†µæ˜¯é€’æ¨å…¬å¼å†³å®šäº†dpæ•°ç»„è¦å¦‚ä½•åˆå§‹åŒ–ã€‘</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ç»å¤§å¤šæ•°æ˜¯ï¼š</span><br><span class="line">    </span><br><span class="line">dp[j] = Math.max(dp[j],dp[j-içš„é‡é‡]+içš„ä»·å€¼);</span><br><span class="line">æˆ–è€…</span><br><span class="line">dp[j] += dp[j-içš„é‡é‡];</span><br></pre></td></tr></table></figure>
<h6 id="3ã€dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–-2">3ã€dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dp[<span class="number">0</span>] = <span class="number">0</span>; ----dp[j] = Math.max(dp[j],dp[j-nums[i]]+nums[i]); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">dp[<span class="number">0</span>] = <span class="number">1</span>; ----dp[j] += dp[j-nums[i]];</span><br></pre></td></tr></table></figure>
<h6 id="4ã€ç¡®å®šéå†é¡ºåº-2">4ã€ç¡®å®šéå†é¡ºåº</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ;i &lt; nums.length;i++ )&#123; <span class="comment">//ç‰©å“  é¡ºåº</span></span><br><span class="line">     <span class="keyword">for</span>(<span class="type">int</span> jï¼ˆjè¡¨ç¤ºå½“å‰èƒŒåŒ…å‰©ä½™é‡é‡ï¼‰= èƒŒåŒ…å®¹é‡;j&gt;= içš„é‡é‡;j-- )&#123;  <span class="comment">// èƒŒåŒ…     å€’åº  ä¿è¯ç‰©å“åªéå†ä¸€æ¬¡</span></span><br><span class="line">      </span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="5ã€ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„-2">5ã€ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„</h6>
<h6 id="6ã€æ€»ç»“ï¼š">6ã€æ€»ç»“ï¼š</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">æ¨¡ç‰ˆæ¡†æ¶</span><br><span class="line"></span><br><span class="line"> <span class="type">int</span> dp[] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="comment">/** æ ¹æ®é¢˜æ„æ¥è®¾ */</span>];</span><br><span class="line"> dp[<span class="number">0</span>]=  <span class="number">0</span>ï¼ˆmaxï¼‰  (æˆ–è€…æ˜¯)  <span class="number">1</span>ï¼ˆ+=ï¼‰;</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;stones.length;i++)&#123;					<span class="comment">// ç‰©å“å–å€¼</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> target ;j&gt;=stones[i];j--)&#123;       <span class="comment">//èƒŒåŒ…å®¹é‡</span></span><br><span class="line">                dp[j] = Math.max (dp[j],dp[j-stones[i]]+stones[i]);</span><br><span class="line">            <span class="comment">//æˆ–è€…</span></span><br><span class="line">            	dp[j] += dp[j-nums[i]];</span><br><span class="line">        &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> dp[target]  /sum-<span class="number">2</span>*dp[target]/......</span><br><span class="line"></span><br><span class="line">å‰©ä¸‹çš„å°±æ˜¯æ ¹æ® é¢˜ç›® è¿›è¡Œ æ•°æ®é¢„å¤„ç† è¿”å›å€¼å˜åŒ–ç­‰ çš„å¡«å……</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¯´æ˜ï¼š</p>
<p><code>dp[j] = Math.max(dp[j],dp[j-stones[i]]+stones[i]);</code></p>
<p><code> dp[j] += dp[j-nums[i]];</code></p>
<p>â€‹	i  ã€ j ç­‰å˜é‡  æœ¬è´¨åº”è¯¥ä¸º</p>
<p><code>dp[èƒŒåŒ…å®¹é‡] = Math.max(dp[èƒŒåŒ…å®¹é‡],dp[å½“å‰èƒŒåŒ…å®¹é‡-ç‰©å“[i]é‡é‡] + ç‰©å“[i]ä»·å€¼);</code></p>
<p><code>dp[èƒŒåŒ…å®¹é‡] += dp[èƒŒåŒ…å®¹é‡-ç‰©å“[i]é‡é‡];</code></p>
</blockquote>
<h4 id="å®Œå…¨èƒŒåŒ…">å®Œå…¨èƒŒåŒ…</h4>
<blockquote>
<p>æ’åˆ—ï¼š   å…ˆèƒŒåŒ…   åç‰©å“    1,2    2,1   å„ç®—ä¸€ç§</p>
<p>ç»„åˆï¼š 	å…ˆç‰©å“  åèƒŒåŒ…    1,2    2,1   åªç®—ä¸€ç§</p>
<p>æ±‚æœ€å°‘ä¸ªæ•°   ä¸¤ç§éå†æ–¹å¼  éƒ½å¯ä»¥</p>
</blockquote>
<h6 id="1ã€ç¡®å®šdpæ•°ç»„ï¼ˆdp-tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰-3">1ã€ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dp[i]: å‡‘æˆâ½¬æ ‡æ­£æ•´æ•°ä¸ºiçš„æ’åˆ—ä¸ªæ•°ä¸ºdp[i]</span><br><span class="line">dp[j]: å‡‘â¾œæ€»é¢ä¸ºjæ‰€éœ€é’±å¸çš„æœ€å°‘ä¸ªæ•°ä¸ºdp[j]</span><br><span class="line">dp[i]: å­—ç¬¦ä¸²é•¿åº¦ä¸ºiçš„è¯ï¼Œdp[i]ä¸º<span class="literal">true</span>ï¼Œè¡¨â½°å¯ä»¥æ‹†åˆ†ä¸ºâ¼€ä¸ªæˆ–å¤šä¸ªåœ¨å­—å…¸ä¸­å‡ºç°çš„å•è¯ã€‚</span><br><span class="line">    ...</span><br><span class="line">ä¸€èˆ¬å°±æ˜¯é¢˜ç›®é—®ä»€ä¹ˆä½ è®¾ä»€ä¹ˆ  ç±»æ¯”æ•°å­¦å½’çº³æ³•</span><br></pre></td></tr></table></figure>
<h6 id="2ã€ç¡®å®šé€’æ¨å…¬å¼ã€å…¶åœ¨å‰çš„åŸå› ï¼š-â¼€äº›æƒ…å†µæ˜¯é€’æ¨å…¬å¼å†³å®šäº†dpæ•°ç»„è¦å¦‚ä½•åˆå§‹åŒ–ã€‘-3">2ã€ç¡®å®šé€’æ¨å…¬å¼ã€å…¶åœ¨å‰çš„åŸå› ï¼š â¼€äº›æƒ…å†µæ˜¯é€’æ¨å…¬å¼å†³å®šäº†dpæ•°ç»„è¦å¦‚ä½•åˆå§‹åŒ–ã€‘</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ç»å¤§å¤šæ•°æ˜¯ï¼š</span><br><span class="line">dp[j] = Math.min (dp[j],dp[j-nums[i]]+nums[i]);</span><br><span class="line">æˆ–è€…</span><br><span class="line">dp[j] += dp[j-nums[i]];</span><br></pre></td></tr></table></figure>
<blockquote>
<p>==æ³¨ï¼šè¿™é‡Œå’Œ01èƒŒåŒ…é—®é¢˜æ˜¯ä¸€æ ·çš„==</p>
<p>è¯´æ˜ï¼š</p>
<p><code>dp[j] = Math.min  (dp[j],dp[j-stones[i]]+stones[i]);</code>     min</p>
<p><code> dp[j] += dp[j-nums[i]];</code></p>
<p>â€‹	i  ã€ j ç­‰å˜é‡  æœ¬è´¨åº”è¯¥ä¸º</p>
<p><code>dp[èƒŒåŒ…å®¹é‡] = Math.min(dp[èƒŒåŒ…å®¹é‡],dp[èƒŒåŒ…å®¹é‡-ç‰©å“[]] + ä»·å€¼[])ï¼ˆæ±‚min çš„æ—¶å€™ä»·å€¼å¾ˆå¯èƒ½ä¸º1çš„ï¼‰;</code>   min</p>
<p><code>dp[èƒŒåŒ…å®¹é‡] += dp[èƒŒåŒ…å®¹é‡-ç‰©å“[]];</code></p>
</blockquote>
<h6 id="3ã€dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–-3">3ã€dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</h6>
<blockquote>
<p>==æ³¨ï¼šè¿™é‡Œå’Œ01èƒŒåŒ…é—®é¢˜æ˜¯ä¸å¤ªä¸€æ ·çš„==</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¿™é‡Œæ±‚çš„æ˜¯ min   éœ€è¦ç»™å…¶ä»–å€¼ç½®åˆå€¼ï¼š   Arrays.fill(dp,amount+<span class="number">1</span>);  </span><br><span class="line">å</span><br><span class="line">dp[<span class="number">0</span>]èµ‹å€¼   dp[<span class="number">0</span>] = <span class="number">0</span>;	----dp[j] = Math.min  (dp[j],dp[j-nums[i]]+nums[i]);</span><br><span class="line"></span><br><span class="line">dp[<span class="number">0</span>] = <span class="number">1</span>; ----dp[j] += dp[j-nums[i]];</span><br></pre></td></tr></table></figure>
<h6 id="4ã€ç¡®å®šéå†é¡ºåº-3">4ã€ç¡®å®šéå†é¡ºåº</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ã€Šç»„åˆã€‹</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;coins.length;i++)&#123;    <span class="comment">//ç‰©å“</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=coins[i] ; j &lt;= amount;j++)&#123;      <span class="comment">//èƒŒåŒ…    æ­£åºï¼Œç‰©å“å¯é‡å¤</span></span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">æˆ–è€…  ã€Šæ’åˆ—ã€‹</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i= <span class="number">0</span>;i&lt;=target;i++ )&#123;						<span class="comment">//èƒŒåŒ…</span></span><br><span class="line">     <span class="keyword">for</span>(<span class="type">int</span>  j=<span class="number">0</span>;j &lt; nums.length;j++)&#123;             <span class="comment">//ç‰©å“</span></span><br><span class="line">             <span class="keyword">if</span>(i&gt;=nums[j])&#123; <span class="comment">//ç­‰äº ä¸èƒ½ä¸¢          //æ­¤æ—¶è¦å¤šä¸€ä¸ªæ¡ä»¶  																  åŸå› åœ¨äºï¼šj-nums[i]&gt;0</span></span><br><span class="line">             </span><br><span class="line">             &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>==æ³¨==</p>
<p>å…ˆç‰©å“åèƒŒåŒ…:   <code>ç»„åˆ</code></p>
<p>â€‹		æ˜¯ä¸€ç§ç»„åˆ æ˜¯æ²¡æœ‰å›ºå®šé¡ºåºçš„ æ¯”å¦‚  1,2,1   1,1,2 è§†ä¸ºä¸€ç§æ–¹æ³•</p>
<p>â€‹		åœ¨è¿™ç§ä¾¿åˆ©æ¡ä»¶ä¸‹  1,2,1   1,1,2  åªä¼šå‡ºç°ä¸€ç§æƒ…å†µ</p>
<p>å…ˆèƒŒåŒ…åç‰©å“:   <code>æ’åˆ—</code></p>
<p>â€‹		æ˜¯ä¸€ç§æ’åˆ— æ˜¯ æœ‰å›ºå®šé¡ºåºçš„ æ¯”å¦‚  1,2,1   1,1,2 è§†ä¸ºä¸¤ç§æ–¹æ³•</p>
<p>â€‹		åœ¨è¿™ç§ä¾¿åˆ©æ¡ä»¶ä¸‹  1,2,1   1,1,2  éƒ½ä¼šå‡ºç°</p>
<p>â€‹		æ³¨æ„<code>if(i&gt;=nums[j])</code>ä¸èƒ½ä¸¢</p>
</blockquote>
<h6 id="5ã€ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„-3">5ã€ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„</h6>
<h6 id="6ã€æ€»ç»“ï¼š-2">6ã€æ€»ç»“ï¼š</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">æ¨¡ç‰ˆæ¡†æ¶</span><br><span class="line"></span><br><span class="line"> <span class="type">int</span> dp[] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="comment">/** æ ¹æ®é¢˜æ„æ¥è®¾ */</span>];</span><br><span class="line"> dp[<span class="number">0</span>]=  <span class="number">0</span>  (æˆ–è€…æ˜¯)  <span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;coins.length;i++)&#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> j=coins[i] ; j &lt;= amount;j++)&#123;</span><br><span class="line">          dp[j] += dp[j-coins[i]];</span><br><span class="line">          <span class="comment">// æˆ–è€…</span></span><br><span class="line">       dp[j] = Math.min(dp[j],dp[j-coins[i]]+<span class="number">1</span>);<span class="comment">// æ±‚æœ€å°å€¼å“ªç§éå†é¡ºåºéƒ½å¯ä»¥</span></span><br><span class="line">       &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æˆ–è€…</span><br><span class="line">    	<span class="keyword">for</span>(<span class="type">int</span> i= <span class="number">0</span>;i&lt;=target;i++ )&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span> ;j &lt; nums.length;j++)&#123;  </span><br><span class="line"> <span class="comment">//ï¼ˆä¹Ÿå¯èƒ½  for(int j = 1 ;j &lt;= 2;j++)&#123;//æ­¥æ•°è¦ä» 1 å¼€å§‹ï¼‰--å½“ç‰©å“æ—¶å€¼ä¸æ˜¯æ•°ç»„çš„æ—¶å€™</span></span><br><span class="line">                <span class="keyword">if</span>(i&gt;=nums[j])&#123;  <span class="comment">//ç­‰äº ä¸èƒ½ä¸¢</span></span><br><span class="line">                    dp[i] += dp[i-nums[j]];</span><br><span class="line">                    <span class="comment">// æˆ–è€…</span></span><br><span class="line">         	 dp[j] = Math.min(dp[j],dp[j-coins[i]]+<span class="number">1</span>);<span class="comment">// æ±‚æœ€å°å€¼å“ªç§éå†é¡ºåºéƒ½å¯ä»¥</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> dp[amount]   / <span class="keyword">return</span>  dp[amount]== amount+<span class="number">1</span> ? -<span class="number">1</span>  :dp[amount]; ...</span><br><span class="line">å‰©ä¸‹çš„å°±æ˜¯æ ¹æ® é¢˜ç›® è¿›è¡Œ æ•°æ®é¢„å¤„ç† è¿”å›å€¼å˜åŒ–ç­‰ çš„å¡«å……</span><br><span class="line">   </span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ç‰¹ä¾‹ï¼šå€¼å¾—æ¨æ•²</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ wordDict ä½œä¸ºå­—å…¸ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥åˆ©ç”¨å­—å…¸ä¸­å‡ºç°çš„å•è¯æ‹¼æ¥å‡º s ã€‚</span><br><span class="line">    </span><br><span class="line"> <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> &#123;</span><br><span class="line"><span class="comment">//dp[i] : å­—ç¬¦ä¸²é•¿åº¦ä¸ºiçš„è¯ï¼Œdp[i]ä¸ºtrueï¼Œè¡¨â½°å¯ä»¥æ‹†åˆ†ä¸ºâ¼€ä¸ªæˆ–å¤šä¸ªåœ¨å­—å…¸ä¸­å‡ºç°çš„å•è¯ã€‚ </span></span><br><span class="line"><span class="comment">//s æ˜¯æœ‰ é¡ºåºçš„ æ‰€ä»¥å°±åªèƒ½ å…ˆèƒŒåŒ…å†ç‰©å“  --- æ’åˆ—</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">boolean</span> dp[] = <span class="keyword">new</span> <span class="title class_">boolean</span> [n+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="literal">true</span>;<span class="comment">//å…¶å®æ— æ„ä¹‰</span></span><br><span class="line"><span class="comment">// i = 1 åŸå› æ˜¯å­—ç¬¦ä¸²æ—¶éç©ºçš„</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i= <span class="number">1</span>; i&lt;= n;i++)&#123;   <span class="comment">//èƒŒåŒ…</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>; j&lt;i ;j++)&#123;  <span class="comment">//å…¶æ˜¯åœ¨å­—ç¬¦ä¸²é‡Œé¢æˆªå–çš„ï¼Œæ‰€ä»¥è¦å°äºi</span></span><br><span class="line">       <span class="comment">//åªè¦ç¡®å®šdp[j]æ˜¯true,dp[j]å‰é¢jæ®µè·ç¦»æ˜¯true </span></span><br><span class="line">        <span class="comment">//å¹¶ä¸”[j, i]è¿™ä¸ªåŒºé—´çš„å­ä¸²å‡ºç°åœ¨å­—å…¸é‡Œï¼Œé‚£ä¹ˆdp[i]ä¸€å®šæ˜¯true</span></span><br><span class="line">      <span class="comment">//æ¯æ¬¡æ„é€ å­—ç¬¦ä¸²æ˜¯åˆ°ä¸äº†içš„ï¼Œå› æ­¤dp[j]çœ‹æˆæ˜¯åˆ°j-1çš„å­—ç¬¦,æ‰€ä»¥å†™æˆs.substring(j,i)&lt;è¡¨ç¤ºæˆªå–å­—ç¬¦ä¸²j-iæ®µ&gt;,è€Œä¸æ˜¯s.substring(j+1,i) </span></span><br><span class="line">     <span class="comment">// 0              j      i</span></span><br><span class="line">     <span class="comment">// ----------------------------</span></span><br><span class="line">         <span class="keyword">if</span>(wordDict.contains(s.substring(j,i)) &amp;&amp; dp[j])&#123;</span><br><span class="line">             dp[i] =  <span class="literal">true</span>;</span><br><span class="line">             &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="å­åºåˆ—é—®é¢˜ï¼š">å­åºåˆ—é—®é¢˜ï¼š</h3>
<blockquote>
<ul>
<li>
<p>å­æ•°ç»„ã€å­åºåˆ—è¿™ç±»é—®é¢˜ï¼Œä½ å°±å¯ä»¥å°è¯•å®šä¹‰ <code>dp[i]</code> æ˜¯ä»¥ <code>nums[i]</code> ä¸ºç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œ/æœ€é•¿é€’å¢å­åºåˆ—ï¼Œå› ä¸ºè¿™æ ·å®šä¹‰æ›´å®¹æ˜“å°† <code>dp[i+1]</code> å’Œ <code>dp[i]</code> å»ºç«‹èµ·è”ç³»ï¼Œåˆ©ç”¨æ•°å­¦å½’çº³æ³•å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹</p>
</li>
<li>
<p><strong>å¯¹äºä¸¤ä¸ªå­—ç¬¦ä¸²æ±‚å­åºåˆ—çš„é—®é¢˜ï¼Œéƒ½æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆ<code>i</code>å’Œ<code>j</code>åˆ†åˆ«åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸Šç§»åŠ¨ï¼Œå¤§æ¦‚ç‡æ˜¯åŠ¨æ€è§„åˆ’æ€è·¯</strong>ã€‚</p>
</li>
<li>
<p>å­åºåˆ—å’Œæœ€å€¼å‡ ä¹éƒ½æ˜¯åŠ¨æ€è§„åˆ’æŠ€å·§</p>
</li>
</ul>
</blockquote>
<ul>
<li>
<p>æ€è·¯ä¸€ï¼š ä¸€ç»´dpæ•°ç»„</p>
<p>dp[i] æ˜¯ä¸€ä¸ªä»¥  nums[i]/array[i]  ä¸ºç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦ï¼ˆç¬¦åˆå½’çº³æ³•ï¼‰</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>  n= array.length;</span><br><span class="line"><span class="type">int</span> []dp =<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,i&lt;=n;i++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=i;j++)</span><br><span class="line">        dp[i] = max(dp[i],dp[j]+<span class="number">1</span>) /  æœ€å€¼ &#123;dp......&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>æ€è·¯äºŒï¼šäºŒç»´æ•°ç»„</p>
<p>ä¸¤ä¸ªå­—ç¬¦ä¸²ã€æ•°ç»„    çš„å­åºåˆ—</p>
<ul>
<li>æ•°ç»„arr1 []  æ•°ç»„arr2[] ä¸­éœ€æ±‚çš„å­åºåˆ—(æœ€å€¼ å­åºåˆ— )  çš„é•¿åº¦dp[i][j]  â€”  æ¶‰åŠä¸¤ä¸ªå­åºåˆ—</li>
<li>æ•°ç»„arr1 [] éœ€æ±‚çš„å­åºåˆ—(æœ€å€¼ å­åºåˆ— ) çš„é•¿åº¦dp[i][j]                       â€” è®¾è®¡ä¸€ä¸ªå­åºåˆ—</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span>arr1.length;</span><br><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> arr2.length;</span><br><span class="line"><span class="type">int</span> [][]dp= <span class="keyword">new</span> <span class="title class_">int</span>[m][n];</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,i&lt;=m;i++)</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=n;j++)</span><br><span class="line">			dp[i] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>]    /  æœ€å€¼ &#123;dp......&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>å­åºåˆ—æ˜¯å¯ä»¥ä¸è¿ç»­çš„ï¼Œä¹Ÿå¯ä»¥è¿ç»­çš„ï¼Œ</li>
</ul>
<p>â€‹		è¿ç»­çš„å­åºåˆ—ä¹‹å’Œå‰ä¸€ä¸ªå…ƒç´ çš„çŠ¶æ€ç›¸å…³ï¼Œä¸è¿ç»­çš„å’Œå‰é¢0-i-1  çš„çŠ¶æ€ç›¸å…³</p>
<ul>
<li>å­ä¸²å­æ•°ç»„æ˜¯è¿ç»­çš„</li>
</ul>
</blockquote>
<h4 id="æ•°ç»„å­åºåˆ—ä¸­çš„ä¸€ç»´dpï¼ˆæ•°ç»„ï¼‰">æ•°ç»„å­åºåˆ—ä¸­çš„ä¸€ç»´dpï¼ˆæ•°ç»„ï¼‰</h4>
<h6 id="1ã€ç¡®å®šdp-çš„å«ä¹‰">1ã€ç¡®å®šdp[]çš„å«ä¹‰</h6>
<blockquote>
<p>==é—®ä»€ä¹ˆè®¾ä»€ä¹ˆ== ä½†æ˜¯ å¤§å¤šæ•°æƒ…å†µä¹‹ä¸‹è¦åˆ¤æ–­æ¯”è¾ƒå–dp[] ä¸­çš„æœ€å¤§å€¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;æ¯”å¦‚ï¼š</span><br><span class="line">&gt;<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++)&#123;</span><br><span class="line">  ......</span><br><span class="line"><span class="keyword">if</span> (dp[i + <span class="number">1</span>] &gt; result) </span><br><span class="line">      	result = dp[i + <span class="number">1</span>];</span><br><span class="line">&gt;&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure>
<p>å¦‚ï¼š</p>
<p>â€‹	<strong>dp[i]</strong>ï¼šè¡¨â½°ä»¥ä¸‹æ ‡<strong>i</strong>ä¸ºç»“å°¾çš„æ•°ç»„çš„  æœ€é•¿ä¸Šå‡å­åºåˆ—é•¿åº¦ä¸ºdp[i]  ï¼ˆé—®çš„æ˜¯é•¿åº¦ï¼‰</p>
<p>â€‹	<strong>dp[i]</strong>ï¼šè¡¨â½°ä»¥ä¸‹æ ‡<strong>i</strong>ä¸ºç»“å°¾çš„æ•°ç»„çš„  è¿ç»­é€’å¢çš„â¼¦åºåˆ—é•¿åº¦ä¸º<strong>dp[i]</strong> ï¼ˆé—®çš„æ˜¯é•¿åº¦ï¼‰</p>
<p>â€‹	<strong>dp[i]</strong>ï¼šè¡¨â½°ä»¥ä¸‹æ ‡<strong>i</strong>ä¸ºç»“å°¾çš„æ•°ç»„çš„   æœ€â¼¤è¿ç»­â¼¦åºåˆ—å’Œä¸º<strong>dp[i]</strong>ï¼ˆé—®çš„æ˜¯å’Œï¼‰</p>
</blockquote>
<h6 id="2ã€é€‰æ‹©-â€“çŠ¶æ€è½¬ç§»æ–¹ç¨‹">2ã€é€‰æ‹©  â€“çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h6>
<blockquote>
<p>åˆ¤æ–­ï¼šæ˜¯è¿ç»­çš„å­åºåˆ—è¿˜æ˜¯ä¸è¿ç»­çš„å­åºåˆ—</p>
<p>â€‹		è¿ç»­çš„å­åºåˆ—ä¹‹å’Œå‰ä¸€ä¸ªå…ƒç´ çš„çŠ¶æ€ç›¸å…³ï¼Œä¸è¿ç»­çš„å’Œå‰é¢<code> 0~i-1</code> çš„çŠ¶æ€ç›¸å…³</p>
<p>å¦‚:==ä¸è¿ç»­==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">if</span> (nums[i] &gt; nums[j]) &#123;</span><br><span class="line">dp[i] = max(dp[i], dp[j] + <span class="number">1</span>);   <span class="comment">// æœ€é•¿é€’å¢å­åºåˆ—</span></span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<p>==è¿ç»­==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;dp[i] = max(dp[i - <span class="number">1</span>] + nums[i], nums[i]);   <span class="comment">//ä¸å‰ä¸€ä¸ªå…ƒç´   i-1 ç›¸å…³  æœ€å¤§å­æ•°ç»„å’Œ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//æˆ–è€…</span></span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">if</span>(nums[i-<span class="number">1</span>] &lt; nums[i])&#123;    <span class="comment">//ä¸å‰ä¸€ä¸ªå…ƒç´   i-1 ç›¸å…³    æœ€é•¿é€’å¢å­æ•°ç»„</span></span><br><span class="line"> dp[i]= dp[i-<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">&gt;&#125;  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="3ã€ç¡®å®šåˆå§‹å€¼">3ã€ç¡®å®šåˆå§‹å€¼</h6>
<blockquote>
<p><code>Arrays.fill(dp,1);</code>     //é€’å¢åºåˆ—</p>
<p><code>dp[0]= nums[0]</code>  //å­æ•°ç»„å’Œ</p>
</blockquote>
<h6 id="4ã€ç¡®å®šéå†é¡ºåº-4">4ã€ç¡®å®šéå†é¡ºåº</h6>
<blockquote>
<p>ä¸€èˆ¬éƒ½æ˜¯  ï¼š    å‰     -&gt;       å</p>
</blockquote>
<blockquote>
<p>==ä¸è¿ç»­ï¼š==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) &#123;<span class="comment">//å› ä¸ºå’Œå‰ i-1 ä¸ªå…ƒç´ çš„çŠ¶æ€ç›¸å…³,</span></span><br><span class="line">   &#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<p>==è¿ç»­ï¼š==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line"><span class="comment">// å’Œå‰ä¸€ä¸ªå…ƒç´ æœ‰å…³ï¼Œæ‰€ä»¥è¦è€ƒè™‘içš„èµ·å§‹åæ ‡</span></span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="5ã€æ‰“å°dpæ•°ç»„">5ã€æ‰“å°dpæ•°ç»„</h6>
<h4 id="äºŒç»´dpä¸­çš„-å…¬å…±å­åºåˆ—-ï¼ˆä¸¤ä¸ª-å­—ç¬¦ä¸²-æ•°ç»„ï¼‰">äºŒç»´dpä¸­çš„ å…¬å…±å­åºåˆ— ï¼ˆä¸¤ä¸ª  å­—ç¬¦ä¸²/æ•°ç»„ï¼‰</h4>
<h6 id="dp-å«ä¹‰">dp[][]å«ä¹‰</h6>
<blockquote>
<p>å…¬å…±å­åºåˆ—é—®é¢˜ä¸­çš„<code>dp[i][j]</code>å®šä¹‰éƒ½æ˜¯ï¼š</p>
<p>â€‹	<code>ä»¥é•¿åº¦ä¸º[0, i - 1]çš„ å­—ç¬¦ä¸²1/ æ•°ç»„1 ï¼Œå’Œé•¿åº¦ä¸º[0, j - 1]çš„ å­—ç¬¦ä¸²2/æ•°ç»„2ï¼Œ</code></p>
<p>â€‹			<code>çš„å…¬å…±å­åºåˆ—é•¿åº¦ä¸ºdp[i][j]</code></p>
</blockquote>
<h6 id="çŠ¶æ€è½¬ç§»æ–¹ç¨‹">çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h6>
<blockquote>
<p>æ•°ç»„ä¼šæœ‰è¿ç»­å’Œä¸è¿ç»­çš„åŒºåˆ«</p>
<p>==æ•°ç»„å’Œå­—ç¬¦ä¸²åœ¨ä¸è¿ç»­çš„æ—¶å€™æ˜¯ä¸€æ ·çš„==</p>
</blockquote>
<blockquote>
<p>==è¿ç»­æ—¶==</p>
<p>â€‹		<strong>åªè®¨è®ºå½“æ•°ç»„å€¼ç›¸ç­‰çš„æ—¶å€™</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">if</span>(nums1[i-<span class="number">1</span>] == nums2[j-<span class="number">1</span>])&#123;</span><br><span class="line"> dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<p>==ä¸è¿ç»­æ—¶==</p>
<p>â€‹		<strong>æ•°ç»„å€¼ç›¸ç­‰å’Œä¸ç­‰çš„æ—¶å€™éƒ½è¦è®¨è®º</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">if</span>(text1.charAt(i-<span class="number">1</span>) == text2.charAt(j-<span class="number">1</span>))/ <span class="keyword">if</span>(nums1[i-<span class="number">1</span>] == nums2[j-<span class="number">1</span>])</span><br><span class="line">&gt;dp[i][j] =  dp[i-<span class="number">1</span>][j-<span class="number">1</span>] +<span class="number">1</span>;</span><br><span class="line">&gt;<span class="keyword">else</span> </span><br><span class="line">&gt;dp[i][j] = Math.max(dp[i-<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="åˆå§‹å€¼">åˆå§‹å€¼</h6>
<blockquote>
<p>dpè¡¨éƒ½æ˜¯ç©ºçš„ï¼Œç»´åº¦æ˜¯<code>  i+1ï¼Œj+1</code>ï¼Œ</p>
<p>ç¬¬ä¸€åˆ— å’Œ ç¬¬ä¸€è¡Œ éƒ½æ˜¯å…¨ 0çš„ï¼Œç„¶åè¡Œåˆ—éƒ½æ˜¯ä» 1  å¼€å§‹ åˆ¤æ–­ å¡«å†™</p>
</blockquote>
<h6 id="éå†é¡ºåº">éå†é¡ºåº</h6>
<blockquote>
<p>æ— è®ºæ˜¯æ•°ç»„è¿˜æ˜¯å­—ç¬¦ä¸²éƒ½æ˜¯==ä¸€æ ·çš„==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span>(<span class="type">int</span> i= <span class="number">1</span>; i&lt;=nums1.length;i++) &#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span> ;j&lt;= nums2.length;j++)&#123;</span><br><span class="line">         ...</span><br><span class="line">       System.out.print(dp[i][j]);  <span class="comment">//æ‰“å°dpæ•°ç»„</span></span><br><span class="line">  &#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="æ‰“å°dpæ•°ç»„">æ‰“å°dpæ•°ç»„</h6>
<h4 id="äºŒç»´dpä¸­-å¯¹å­åºåˆ—æ“ä½œï¼ˆå­—ç¬¦ä¸²ï¼‰">äºŒç»´dpä¸­  å¯¹å­åºåˆ—æ“ä½œï¼ˆå­—ç¬¦ä¸²ï¼‰</h4>
<h6 id="1ã€dp-æ•°ç»„å®šä¹‰">1ã€dp[][]æ•°ç»„å®šä¹‰</h6>
<blockquote>
<p><code>dp[i][j] è¡¨â½°ä»¥ä¸‹æ ‡i-1ä¸ºç»“å°¾çš„å­—ç¬¦ä¸²sï¼Œå’Œä»¥ä¸‹æ ‡j-1ä¸ºç»“å°¾çš„å­—ç¬¦ä¸²tï¼Œç›¸åŒâ¼¦åºåˆ—çš„é•¿åº¦ ä¸ºdp[i][j]</code></p>
<p><code>dp[i][j]è¡¨â½°ä»¥ä¸‹æ ‡i-1ä¸ºç»“å°¾çš„å­—ç¬¦ä¸²word1ï¼Œå’Œä»¥ä¸‹æ ‡j-1ä¸ºç»“å°¾çš„å­—ç¬¦ä¸²word2ï¼Œæœ€è¿‘ç¼–è¾‘è·ç¦»ä¸ºdp[i][j]</code></p>
</blockquote>
<h6 id="2ã€é€‰æ‹©-çŠ¶æ€è½¬ç§»æ–¹ç¨‹">2ã€é€‰æ‹©:çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h6>
<blockquote>
<p>åŒæ ·çš„ï¼šåˆ†ä¸ºç›¸ç­‰å’Œä¸ç›¸ç­‰ä¸¤ç§æƒ…å†µï¼›</p>
<p>==ç›¸ç­‰== <code> if(s.charAt(i-1) == t.charAt(j-1))&#123;...&#125;</code></p>
<p>**åªå…è®¸æ“ä½œï¼ˆåˆ é™¤ã€ å¢åŠ ï¼‰ä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ **   ==æ±‚ä¸ªæ•°==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>] +<span class="number">1</span>;  ---åˆ¤æ–­æ˜¯å¦æ˜¯å­åºåˆ—    æ±‚å­åºåˆ—ä¸ªæ•°</span><br><span class="line"></span><br><span class="line">&gt;dp[i][j] = dp[i-<span class="number">1</span>][j]+dp[i-<span class="number">1</span>][j-<span class="number">1</span>]; --- s çš„å­åºåˆ—ä¸­ t å‡ºç°çš„ä¸ªæ•°</span><br></pre></td></tr></table></figure>
<p>**æ“ä½œï¼ˆåˆ é™¤ã€ å¢åŠ ï¼‰ä¸¤ä¸ªå­—ç¬¦ä¸²æ—¶  **    ==æ±‚æ“ä½œæ¬¡æ•°==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>];  -- æœ€å°æ“ä½œä¸ªæ•°ä¸è¦åŠ  <span class="number">1</span> </span><br></pre></td></tr></table></figure>
<p><strong>æ“ä½œä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆå¢ã€åˆ ã€æ›¿æ¢ï¼‰</strong>==æ±‚æ“ä½œæ¬¡æ•°==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>];  -- æœ€å°æ“ä½œä¸ªæ•°ä¸è¦åŠ  <span class="number">1</span> </span><br></pre></td></tr></table></figure>
<p>==ä¸ç›¸ç­‰== <code>else</code></p>
<p><strong>åªå…è®¸æ“ä½œï¼ˆåˆ é™¤ã€æ·»åŠ ï¼‰ä¸€ä¸ªå­—ç¬¦ä¸²æ—¶</strong>      ==æ±‚ä¸ªæ•°==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;dp[i][j] = Math.max(dp[i][j-<span class="number">1</span>],dp[i-<span class="number">1</span>][j]);      --- åˆ¤æ–­æ˜¯å¦æ˜¯å­åºåˆ—   æ±‚å­åºåˆ—ä¸ªæ•°</span><br><span class="line"></span><br><span class="line">&gt;dp[i][j]=dp[i-<span class="number">1</span>][j];       --- s çš„å­åºåˆ—ä¸­ t å‡ºç°çš„ä¸ªæ•°</span><br></pre></td></tr></table></figure>
<p><strong>æ“ä½œï¼ˆåˆ é™¤ã€ å¢åŠ ï¼‰ä¸¤ä¸ªå­—ç¬¦ä¸²æ—¶</strong>       ==æ±‚æ“ä½œæ¬¡æ•°==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;dp[i][j] = min(dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">2</span>, min(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]) + <span class="number">1</span>)</span><br><span class="line">&gt;&lt;=&gt;  dp[i][j] = Math.min(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>])+ <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>æ“ä½œä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆå¢ã€åˆ ã€æ›¿æ¢ï¼‰</strong>         ==æ±‚æ“ä½œæ¬¡æ•°==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;dp[i][j] = min(dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>, min(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]) + <span class="number">1</span>);</span><br><span class="line"><span class="comment">//åŒºåˆ«ï¼š 1ã€è¿™é‡Œæ›¿æ¢ æ˜¯ +1 ä¸¤ä¸ªéƒ½ä¸ä¸€æ ·çš„æ—¶å€™ï¼Œæ›¿æ¢æ“ä½œ +1;ä½†æ˜¯ åˆ é™¤ +2ï¼› æ‰€ä»¥é€‰æ‹©æ›¿æ¢æ‰æ˜¯æœ€å°‘çš„æ“ä½œæ¬¡æ•°</span></span><br><span class="line">&gt;&lt;=&gt;  dp[i][j] = Math.min(dp[i - <span class="number">1</span>][j - <span class="number">1</span>],dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]) + <span class="number">1</span>;</span><br><span class="line"><span class="comment">//2ã€è¿™é‡Œä¸èƒ½ç®€åŒ–   è€Œä¸”å› ä¸º java åŸå› è¿˜è¦ å†™ ä¸€ä¸ª minï¼ˆï¼‰ æ–¹æ³•ï¼›</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="3ã€åˆå§‹åŒ–">3ã€åˆå§‹åŒ–</h6>
<blockquote>
<p>æ ¹æ®é¢˜ç›®è®¾å®šï¼Œæ¯”å¦‚</p>
<p>è¦æ˜¯é—® æ“ä½œè·ç¦»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;=s1.length/s1.length();i++)&#123;</span><br><span class="line">dp[i][<span class="number">0</span>] = i;</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>;j&lt;= s2.length/s2.length();j++)&#123;</span><br><span class="line">dp[<span class="number">0</span>][j] = j;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;æˆ–è€…</span><br><span class="line">&gt;dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p>è¦æ˜¯é—® æœ‰åŒ…å«å¤šå°‘å­åºåˆ—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=s1.length();i++)&#123;    <span class="comment">//å­åºåˆ—æ‰€åœ¨çš„åˆ—/è¡Œ  ä¸€è¡Œå…¨ä¸º 1</span></span><br><span class="line">&gt;dp[i][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">&gt;&#125;    <span class="comment">//å› ä¸ºç©ºé›†æ˜¯æ‰€æœ‰å­—ç¬¦ä¸²å­é›†, æ‰€ä»¥æˆ‘ä»¬ç¬¬ä¸€è¡Œéƒ½æ˜¯ 1</span></span><br></pre></td></tr></table></figure>
<p>å¦åˆ™ä¸€èˆ¬è¿˜æ˜¯è®¾ä¸º å…¨0</p>
</blockquote>
<h6 id="4ã€éå†é¡ºåº">4ã€éå†é¡ºåº</h6>
<blockquote>
<p>ä¸€èˆ¬éƒ½æ˜¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=s1.length /s1.length() ;i++)&#123;</span><br><span class="line">&gt;<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=s2.length / s2.length();j++)&#123;</span><br><span class="line"> &#125;          </span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥ç”±é€’æ¨å…¬å¼è¿›è¡Œ  ç”»å›¾ åˆ¤æ–­</p>
</blockquote>
<h6 id="5ã€æ‰“å°æ•°ç»„">5ã€æ‰“å°æ•°ç»„</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i&lt;=s1.length /s1.length(); i++) &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; i&lt;=s2.length /s2.length(); j++) &#123;</span><br><span class="line">              System.out.print(dp[i][j]);</span><br><span class="line">          &#125;</span><br><span class="line">           System.out.println();</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>
<h4 id="äºŒç»´dpä¸­-å›æ–‡ä¸²ï¼ˆå­—ç¬¦ä¸²ï¼‰">äºŒç»´dpä¸­ å›æ–‡ä¸²ï¼ˆå­—ç¬¦ä¸²ï¼‰</h4>
<h6 id="1ã€dp-æ•°ç»„çš„å®šä¹‰">1ã€dp[][]æ•°ç»„çš„å®šä¹‰</h6>
<blockquote>
<p><code>dp[i][j]ï¼šå­—ç¬¦ä¸²såœ¨[i, j]èŒƒå›´å†…æœ€é•¿çš„å›â½‚â¼¦åºåˆ—çš„é•¿åº¦ä¸ºdp[i][j]</code></p>
<p>æ­¤æ—¶çš„åŒºé—´æ˜¯<code>iï¼Œj</code> ä¸å†æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²æ—¶å€™çš„<code>i-1  j-1</code>äº†</p>
</blockquote>
<h6 id="2ã€é€‰æ‹©-çŠ¶æ€è½¬ç§»æ–¹ç¨‹-2">2ã€é€‰æ‹©:çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h6>
<blockquote>
<p>==ç›¸ç­‰==<code>if(s.charAt(i) == s.charAt(j))</code>        ==æ­¤å¤„æ˜¯ i å’Œ j äº† ï¼Œä¸å†æ˜¯  i-1ï¼Œj-1  äº†==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;dp[i][j] = dp[i+<span class="number">1</span>][j-<span class="number">1</span>]+<span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>==ä¸ç›¸ç­‰==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;dp[i][j] =Math.max(dp[i+<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="3ã€åˆå§‹åŒ–-2">3ã€åˆå§‹åŒ–</h6>
<blockquote>
<p>çœ‹é¢˜ç›®ï¼Œä¸è¿‡ä¸€èˆ¬æ¥è¯´å›æ–‡ä¸²çš„<code>å¯¹è§’çº¿éƒ½æ˜¯  1 </code></p>
<p>å³ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">j</span> <span class="operator">=</span><span class="number">0</span> ;j&lt;n;j++)&#123;</span><br><span class="line"> 	dp[j][j] =<span class="number">1</span>;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="4ã€éå†é¡ºåº-2">4ã€éå†é¡ºåº</h6>
<blockquote>
<p>é›†ä½“çœ‹é¢˜ç›®å’Œè‡ªå·±æ¨å¯¼</p>
<p>ä¸€èˆ¬ä¸ºï¼š è‡ªä¸‹å‘ä¸Š    è‡ªå·¦å‘å³</p>
<p>å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span>(<span class="type">int</span> i=s.length()-<span class="number">2</span>;i&gt;= <span class="number">0</span>;i--)&#123;</span><br><span class="line"> <span class="keyword">for</span>(<span class="type">int</span> j= i+<span class="number">1</span> ;j&lt;n;j++)&#123;</span><br><span class="line">    ......        </span><br><span class="line"> &#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="5ã€æ‰“å°dpæ•°ç»„-2">5ã€æ‰“å°dpæ•°ç»„</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">516.</span> æœ€é•¿å›æ–‡å­åºåˆ—</span><br><span class="line"></span><br><span class="line">		<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="type">int</span> [][]dp = <span class="keyword">new</span> <span class="title class_">int</span> [n+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">             dp[i][i] =<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=n-<span class="number">2</span>;i&gt;= <span class="number">0</span>;i--)&#123;                        ----å¯¹è§’çº¿å·²ç»åˆå§‹åŒ–  n-<span class="number">2</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s.charAt(i) == s.charAt(j))&#123;</span><br><span class="line">                    dp[i][j] = dp[i+<span class="number">1</span>][j-<span class="number">1</span>]+<span class="number">2</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    dp[i][j] =Math.max(dp[i+<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æƒ³è¦å¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ª å­—ç¬¦ä¸²  èµ·æ­¢ åæ ‡</span></span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][n-<span class="number">1</span>];      </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">1312.</span> è®©å­—ç¬¦ä¸²æˆä¸ºå›æ–‡ä¸²çš„æœ€å°‘æ’å…¥æ¬¡æ•°--------ç±»ä¼¼ ç¼–è¾‘è·ç¦»çš„æ“ä½œ</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é—´æ¥  æ€»é•¿åº¦ å‡å» æœ€é•¿å›æ–‡å­ä¸²</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="type">int</span> dp[][] = <span class="keyword">new</span>  <span class="title class_">int</span> [n+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="comment">//é—´æ¥</span></span><br><span class="line">            <span class="comment">//dp[i][i] =  1;</span></span><br><span class="line">            <span class="comment">//ç›´æ¥</span></span><br><span class="line">            dp[i][i] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//é—´æ¥</span></span><br><span class="line"><span class="comment">//for(int i = n-2;i &gt;= 0;i--)&#123;                      å¯¹è§’çº¿å·²ç»åˆå§‹åŒ–   n-2</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n-<span class="number">1</span>;i &gt;= <span class="number">0</span>;i--)&#123;             ----å¯¹è§’çº¿æœªåˆå§‹åŒ–   n-<span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>;j &lt; n;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s.charAt(i) == s.charAt(j))&#123;</span><br><span class="line">                    <span class="comment">//é—´æ¥</span></span><br><span class="line">                   <span class="comment">//dp[i][j] = dp[i+1][j-1]+2;</span></span><br><span class="line">                   <span class="comment">//ç›´æ¥</span></span><br><span class="line">                   dp[i][j]= dp[i+<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line">                &#125;<span class="keyword">else</span></span><br><span class="line">                &#123;    <span class="comment">//é—´æ¥</span></span><br><span class="line">                    <span class="comment">//dp[i][j]  = Math.max(dp[i][j-1],dp[i+1][j]);</span></span><br><span class="line">                    <span class="comment">//ç›´æ¥</span></span><br><span class="line">                    dp[i][j]  = Math.min(dp[i][j-<span class="number">1</span>],dp[i+<span class="number">1</span>][j])+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//System.out.println(dp[0][n-1]);</span></span><br><span class="line">         <span class="comment">//é—´æ¥</span></span><br><span class="line">        <span class="comment">//return n- dp[0][n-1];</span></span><br><span class="line">        <span class="comment">//ç›´æ¥</span></span><br><span class="line">        <span class="keyword">return</span>  dp[<span class="number">0</span>][n-<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">647.</span> å›â½‚â¼¦ä¸²</span><br><span class="line"></span><br><span class="line">dp[i][j]ï¼šè¡¨â½°åŒºé—´èŒƒå›´[i,j] ï¼ˆæ³¨æ„æ˜¯å·¦é—­å³é—­ï¼‰çš„â¼¦ä¸²æ˜¯å¦æ˜¯å›â½‚â¼¦ä¸²ï¼Œå¦‚æœæ˜¯dp[i][j]ä¸º<span class="literal">true</span>ï¼Œå¦åˆ™ä¸º<span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">  <span class="type">boolean</span> dp[][] = <span class="keyword">new</span> <span class="title class_">boolean</span> [s.length()+<span class="number">1</span>][s.length()+<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span>  <span class="variable">n</span> <span class="operator">=</span> s.length()</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span>n-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;                    --å¯¹è§’çº¿æœªåˆå§‹åŒ–   n-<span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i;j &lt; n;j++)&#123;          	--å¯¹è§’çº¿æœªåˆå§‹åŒ–   æ‰€ä»¥ä»å¯¹è§’çº¿å¼€å§‹</span><br><span class="line">                <span class="keyword">if</span>(s.charAt(i) == s.charAt(j))&#123;</span><br><span class="line">                    <span class="keyword">if</span>(i==j || (j-i)==<span class="number">1</span>)&#123;   <span class="comment">//å·¦å³ç›¸é‚» æˆ–è€… æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™</span></span><br><span class="line">                        dp[i][j] = <span class="literal">true</span>;     </span><br><span class="line">                        res++;</span><br><span class="line">                   &#125;<span class="keyword">else</span> <span class="keyword">if</span> (dp[i+<span class="number">1</span>][j-<span class="number">1</span>] == <span class="literal">true</span>)&#123;</span><br><span class="line">                        res++;</span><br><span class="line">                        dp[i][j] = <span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.print(dp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="æ‰“å®¶åŠ«èˆé—®é¢˜">æ‰“å®¶åŠ«èˆé—®é¢˜</h3>
<h5 id="I">I</h5>
<h6 id="1ã€dpæ•°ç»„å®šä¹‰ï¼šè€ƒè™‘ä¸‹æ ‡i-åŒ…æ‹¬i-ä»¥å†…çš„æˆ¿å±‹ï¼Œæœ€å¤šå¯ä»¥å·çªƒçš„â¾¦é¢ä¸ºdp-i">1ã€dpæ•°ç»„å®šä¹‰ï¼š<code>è€ƒè™‘ä¸‹æ ‡i(åŒ…æ‹¬i)ä»¥å†…çš„æˆ¿å±‹ï¼Œæœ€å¤šå¯ä»¥å·çªƒçš„â¾¦é¢ä¸ºdp[i]</code></h6>
<h6 id="2ã€é€‰æ‹©ï¼šçŠ¶æ€è½¬ç§»æ–¹ç¨‹">2ã€é€‰æ‹©ï¼šçŠ¶æ€è½¬ç§»æ–¹ç¨‹</h6>
<blockquote>
<p>å· ä¸å·</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dp[i] = max(dp[i - <span class="number">2</span>] + nums[i], dp[i - <span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
<h6 id="3ã€åˆå§‹å€¼">3ã€åˆå§‹å€¼</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dp[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">if</span>(nums.length &gt;<span class="number">1</span>)    dp[<span class="number">1</span>]=Math.max(nums[<span class="number">0</span>],nums[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
<h6 id="4ã€-éå†é¡ºåº">4ã€ éå†é¡ºåº</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span> ;i &lt; nums.length ;i++)&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="5ã€æ‰“å°dpæ•°ç»„-3">5ã€æ‰“å°dpæ•°ç»„</h6>
<h5 id="II">II</h5>
<blockquote>
<p>==å°†  ç¯  æ‹†å¼€==</p>
<p>ä¸ I é›·åŒï¼ŒåŒºåˆ«æ˜¯</p>
<p>å­¦åˆ°äº†ä¸€ä¸ªjavaå†…ç½®å‡½æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="type">int</span> [] rob1 = Arrays.copyOfRange(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">&gt;<span class="type">int</span> [] rob2 = Arrays.copyOfRange(nums, <span class="number">1</span>, nums.length);</span><br><span class="line">&gt;<span class="comment">// å°†0 ~ nums.length-1 çš„ ä½ ä»¬æ˜¯æ•°ç»„çš„å€¼èµ‹å€¼ç»™ rob     -- å°†ç¯æ‹†å¼€çš„æ–¹æ³•</span></span><br></pre></td></tr></table></figure>
<p>è¿˜æœ‰å°±æ˜¯åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨Iä¸­å‡½æ•°ä¹‹å‰è¦ æ’é™¤ç‰¹ä¾‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">if</span>(nums.length == <span class="number">1</span>)  <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="III">III</h5>
<blockquote>
<p>å¯¹äºæ ‘çš„è¯ï¼Œâ¾¸å…ˆå°±è¦æƒ³åˆ°éå†â½…å¼ï¼Œå‰ä¸­ååºï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰è¿˜æ˜¯å±‚åºéå†ï¼ˆâ¼´åº¦ä¼˜å…ˆæœç´¢ï¼‰</p>
<p><strong>åé‡åœ¨é€’å½’å’Œæ ‘çš„éå†ä¸Š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">rob</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line"></span><br><span class="line">&gt;<span class="type">int</span> robtreeres[] = robtree(root);</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">return</span> Math.max(robtreeres[<span class="number">0</span>],robtreeres[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span>[] robtree(TreeNode root) &#123;</span><br><span class="line">&gt;<span class="comment">//å¯¹äºä»¥r.leftä¸ºæ ¹çš„æ ‘ï¼Œè®¡ç®—æŠ¢åŠ«æ ¹èŠ‚ç‚¹(r.left)ä¸ä¸æŠ¢åŠ«æ ¹èŠ‚ç‚¹å¯è·å¾—æœ€å¤§é‡‘é¢. </span></span><br><span class="line">&gt;<span class="comment">//left[0]åˆ™ä¸ºä¸æŠ¢r.leftå¯è·å¾—çš„æœ€å¤§é‡‘é¢,</span></span><br><span class="line">&gt;<span class="comment">//left[1]åˆ™ä¸ºæŠ¢åŠ«r.leftå¯è·å¾—çš„æœ€å¤§é‡‘é¢ </span></span><br><span class="line">&gt;<span class="keyword">if</span>(root  == <span class="literal">null</span>)    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span> [<span class="number">2</span>];</span><br><span class="line">&gt;<span class="comment">//é€’å½’éå†</span></span><br><span class="line">&gt;<span class="type">int</span> leftdp [] =robtree(root.left);</span><br><span class="line">&gt;<span class="comment">//right[] åˆ†æåŒç†</span></span><br><span class="line">&gt;<span class="type">int</span> rightdp [] =robtree(root.right) ;</span><br><span class="line"></span><br><span class="line">&gt;<span class="type">int</span> <span class="variable">val1</span> <span class="operator">=</span>  root.val+leftdp[<span class="number">1</span>]+rightdp[<span class="number">1</span>];  <span class="comment">//çˆ¶èŠ‚ç‚¹å·ï¼Œå­èŠ‚ç‚¹åªèƒ½ä¸å·   1 è¡¨ç¤ºä¸å·   0 è¡¨ç¤ºå·</span></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//çˆ¶èŠ‚ç‚¹ä¸å·ï¼Œå­èŠ‚ç‚¹æ—¢èƒ½å·ä¹Ÿèƒ½ä¸å·</span></span><br><span class="line">&gt;<span class="type">int</span> <span class="variable">val2</span> <span class="operator">=</span> Math.max(leftdp[<span class="number">0</span>] ,leftdp[<span class="number">1</span>])+ Math.max(rightdp[<span class="number">0</span>],rightdp[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;val1,val2&#125;;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="æ ‘å½¢dp">æ ‘å½¢dp</h3>
<h4 id="ACMå½¢å¼å…¨æ–¹ä½å­¦ä¹ ">ACMå½¢å¼å…¨æ–¹ä½å­¦ä¹ </h4>
<h5 id="ä»‹ç»">ä»‹ç»</h5>
<p>æ ‘å½¢dpçš„ä¸»è¦å®ç°å½¢å¼æ˜¯<code>ğ‘‘ğ‘“ğ‘ </code>ï¼Œåœ¨<code>ğ‘‘ğ‘“ğ‘ </code>ä¸­<code>ğ‘‘ğ‘</code>ä¸»è¦çš„å®ç°å½¢å¼æ˜¯<code>ğ‘‘ğ‘[ğ‘–][ğ‘—][0/1]</code></p>
<p><code>ğ‘–</code>æ˜¯ä»¥<code>ğ‘–</code>ä¸º<code>æ ¹</code>çš„å­æ ‘ï¼Œ<code>ğ‘—</code>æ˜¯è¡¨ç¤ºåœ¨ä»¥<code>ğ‘–ä¸ºæ ¹çš„å­æ ‘</code>ä¸­é€‰æ‹©<code>ğ‘—ä¸ªå­èŠ‚ç‚¹</code>ï¼Œ0è¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹<code>ä¸é€‰</code>ï¼Œ1è¡¨ç¤ºé€‰æ‹©è¿™ä¸ª<code>èŠ‚ç‚¹</code>ã€‚æœ‰çš„æ—¶å€™<code>ğ‘—</code>æˆ–<code>0/1</code>è¿™<code>ä¸€ç»´å¯ä»¥å‹æ‰</code></p>
<h5 id="æ ¸å¿ƒdpæ–¹ç¨‹">æ ¸å¿ƒdpæ–¹ç¨‹</h5>
<blockquote>
<h5 id="é€‰æ‹©èŠ‚ç‚¹ç±»">é€‰æ‹©èŠ‚ç‚¹ç±»</h5>
<p>â€‹	  <code>dp[i][0] = dp[j][1]</code></p>
<p>â€‹     <code>dp[i][1]=max/min(dp[j][0],dp[j][1])</code></p>
<h5 id="æ ‘å½¢èƒŒåŒ…ç±»">æ ‘å½¢èƒŒåŒ…ç±»</h5>
<p>â€‹     <code>ğ‘‘ğ‘[ğ‘£][ğ‘˜]=ğ‘‘ğ‘[ğ‘¢][ğ‘˜]+ğ‘£ğ‘ğ‘™</code></p>
<p>â€‹    <code>ğ‘‘ğ‘[ğ‘¢][ğ‘˜]=ğ‘šğ‘ğ‘¥(ğ‘‘ğ‘[ğ‘¢][ğ‘˜],ğ‘‘ğ‘[ğ‘£][ğ‘˜âˆ’1])</code></p>
</blockquote>
<h5 id="ACMè¾“å…¥æ ¼å¼">ACMè¾“å…¥æ ¼å¼</h5>
<img src="https://gitee.com/Ryang1118/typora/raw/master/images/202304131133326.png" alt="image-20230413113306286" style="zoom:25%;">
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">// mian ä¸­ è¿›è¡Œ dfs  ä»¥åŠè¾“å…¥è¾“å‡º</span></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">  <span class="comment">//ç¬¬ä¸€æ®µæ•°å­—</span></span><br><span class="line">  <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">  <span class="comment">//ç¬¬äºŒæ®µæ•°å­—</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;= n;i++)&#123;</span><br><span class="line">      value[i]= scanner.nextInt();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‚»æ¥è¡¨  çš„é¢„å¤„ç†</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;= n;i++)&#123;</span><br><span class="line">      tree[i] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç¬¬ä¸‰æ®µæ•°å­—</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;= n -<span class="number">1</span>;i++)&#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">child</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">      <span class="type">int</span> <span class="variable">father</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// å°†èŠ‚ç‚¹ father çš„ä¸€ä¸ªå­èŠ‚ç‚¹ child åŠ å…¥åˆ° son[k] ä¸­</span></span><br><span class="line">      tree[father].add(child);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æ ‡å¿—ä½1 å°±ä¸èƒ½æ˜¯å­èŠ‚ç‚¹äº†</span></span><br><span class="line">      not_root[child] = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//        for (int i = 0; i &lt;= n; i++) &#123;</span></span><br><span class="line">&gt;<span class="comment">//            System.out.println(tree[i]);</span></span><br><span class="line">&gt;<span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> <span class="variable">root</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span>(not_root[i] == <span class="number">0</span>)&#123;</span><br><span class="line">          root = i;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  dfs(root);</span><br><span class="line">  System.out.println(Math.max(dp[root][<span class="number">0</span>],dp[root][<span class="number">1</span>]));</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">///////////////////////</span></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//è¯´æ˜ï¼š </span></span><br><span class="line">&gt;ArrayListçš„å­˜å‚¨ç»“æ„</span><br><span class="line">&gt;<span class="comment">// æ‰§è¡Œï¼š</span></span><br><span class="line">&gt;List&lt;Integer&gt;[] tree = <span class="keyword">new</span> <span class="title class_">List</span>[n + <span class="number">1</span>];</span><br><span class="line">&gt;<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">&gt;tree[i] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//å®é™…çš„addæ“ä½œå°±æ˜¯æ‰§è¡Œäº†ï¼š</span></span><br><span class="line">&gt;tree[<span class="number">3</span>].add(<span class="number">1</span>);</span><br><span class="line">&gt;tree[<span class="number">3</span>].add(<span class="number">2</span>);</span><br><span class="line">&gt;tree[<span class="number">4</span>].add(<span class="number">6</span>);</span><br><span class="line">&gt;tree[<span class="number">4</span>].add(<span class="number">7</span>);</span><br><span class="line">&gt;tree[<span class="number">5</span>].add(<span class="number">4</span>);</span><br><span class="line">&gt;tree[<span class="number">5</span>].add(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">&gt;System.out.println(<span class="string">&quot;tree[&quot;</span>+i+<span class="string">&quot;]&quot;</span>+tree[i]);</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//å³å¯å¾—åˆ°å„ä¸ªèŠ‚ç‚¹å¯¹åº”çš„å­èŠ‚ç‚¹ã€‚</span></span><br><span class="line">&gt;tree[<span class="number">0</span>]<span class="literal">null</span></span><br><span class="line">&gt;tree[<span class="number">1</span>][]</span><br><span class="line">&gt;tree[<span class="number">2</span>][]</span><br><span class="line">&gt;tree[<span class="number">3</span>][<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">&gt;tree[<span class="number">4</span>][<span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line">&gt;tree[<span class="number">5</span>][<span class="number">4</span>, <span class="number">3</span>]</span><br><span class="line">&gt;tree[<span class="number">6</span>][]</span><br><span class="line">&gt;tree[<span class="number">7</span>][]</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">// æ•°æ®å®šä¹‰</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MAX_Length</span> <span class="operator">=</span> <span class="number">6005</span>;ï¼ˆ<span class="number">6005</span>çœ‹é¢˜ç›®è¦æ±‚è€Œæ¥ï¼‰</span><br><span class="line">&gt;<span class="keyword">static</span> <span class="type">int</span> value[]= <span class="keyword">new</span> <span class="title class_">int</span>[MAX_Length];</span><br><span class="line">&gt;<span class="keyword">static</span> <span class="type">int</span> dp[][] = <span class="keyword">new</span> <span class="title class_">int</span>[MAX_Length][<span class="number">2</span>];</span><br><span class="line">&gt;<span class="comment">// åˆ¤æ–­æ˜¯å¦ä¸ºæ ¹</span></span><br><span class="line">&gt;<span class="keyword">static</span> <span class="type">int</span> not_root[] = <span class="keyword">new</span> <span class="title class_">int</span>[MAX_Length];</span><br><span class="line">&gt;<span class="comment">// ä½¿ç”¨ é‚»æ¥è¡¨ è¿›è¡Œå­˜å‚¨ çˆ¶å­èŠ‚ç‚¹ è¿™è¦æ˜¯ List</span></span><br><span class="line">&gt;<span class="keyword">static</span> List&lt;Integer&gt;[] tree = <span class="keyword">new</span> <span class="title class_">ArrayList</span>[MAX_Length];</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">// è¿›è¡Œdp  è¦æ³¨æ„çš„æ˜¯  å…ˆæ‰¾åˆ° å­èŠ‚ç‚¹åœ¨ æ•°ç»„æ•°ç»„é“¾è¡¨ä¸­çš„ä½ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> root)</span> &#123;</span><br><span class="line">  dp[root][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">  dp[root][<span class="number">1</span>] = value[root];</span><br><span class="line">  <span class="comment">//æ‰¾å­æ ‘</span></span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; tree[root].size(); i++) &#123;</span><br><span class="line">         <span class="comment">//å› ä¸ºdpå‡½æ•°æ˜¯è¦è¿›è¡Œå¯»æ‰¾åˆ°å­èŠ‚ç‚¹çš„</span></span><br><span class="line">         <span class="type">int</span> <span class="variable">son</span> <span class="operator">=</span> tree[root].get(i);</span><br><span class="line">         dfs(son);</span><br><span class="line">         <span class="comment">// çˆ¶äº²å» å­©å­å°±ä¸èƒ½å»</span></span><br><span class="line">         dp[root][<span class="number">1</span>] += dp[son][<span class="number">0</span>];</span><br><span class="line">         <span class="comment">// çˆ¶äº²ä¸å»ï¼Œå­©å­å°±èƒ½å»ï¼Œä½†æ˜¯å»ä¸å»æ˜¯å– æœ€å¤§å€¼çš„</span></span><br><span class="line">         dp[root][<span class="number">0</span>] += Math.max(dp[son][<span class="number">0</span>],dp[son][<span class="number">1</span>]);</span><br><span class="line"> &#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="è‚¡ç¥¨é—®é¢˜">è‚¡ç¥¨é—®é¢˜</h3>
<blockquote>
<p>==é€‰æ‹©ï¼š==<br>
ä¹°å…¥ã€å–å‡ºã€æ— æ“ä½œ</p>
<p>==çŠ¶æ€==</p>
<p>â€‹		ç¬¬ä¸€ä¸ªæ˜¯å¤©æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯å…è®¸äº¤æ˜“çš„æœ€å¤§æ¬¡æ•°ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å½“å‰çš„æŒæœ‰çŠ¶æ€ï¼ˆç”¨ 1 è¡¨ç¤ºæŒæœ‰ï¼Œ0 è¡¨ç¤ºæ²¡æœ‰æŒæœ‰ï¼‰</p>
</blockquote>
<blockquote>
<p>åŸºæœ¬çš„==çŠ¶æ€è½¬ç§»æ–¹ç¨‹==ï¼š</p>
<p>n ä¸ºå¤©æ•°ï¼Œå¤§ K ä¸ºäº¤æ˜“æ•°çš„ä¸Šé™ï¼Œ0 å’Œ 1 ä»£è¡¨æ˜¯å¦æŒæœ‰è‚¡ç¥¨ã€‚</p>
<p><code>dp[i][k][0] = max(dp[i-1][k][0]      ,     dp[i-1][k][1] + prices[i])</code></p>
<p>â€‹		ä¸€ç›´ä¿æŒæ²¡æœ‰æŒæœ‰è‚¡ç¥¨çš„çŠ¶æ€ï¼Œä¹°çš„æ¬¡æ•°è¿˜æ˜¯k       ä»Šå¤©åˆšåˆšå–æ‰ï¼Œä½†æ˜¯å‰ä¸€å¤©è¿˜æ˜¯æŒæœ‰è‚¡ç¥¨çš„çŠ¶æ€,ä½†æ˜¯ä¹°çš„æ¬¡æ•°è¿˜æ˜¯k</p>
<p><code>dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])</code></p>
<p>â€‹		ä¸€ç›´ä¿æŒæŒæœ‰è‚¡ç¥¨çš„çŠ¶æ€ï¼Œä¹°çš„æ¬¡æ•°è¿˜æ˜¯k          ä»Šå¤©åˆšåˆšä¹°äº†ï¼Œä½†æ˜¯ä¹‹å‰ä¸€ç›´æ²¡æœ‰æŒæœ‰è‚¡ç¥¨çš„çŠ¶æ€,ä¹°çš„æ¬¡æ•°æ˜¯k-1</p>
<p><strong>ps:çŠ¶æ€ <code>k</code> çš„å®šä¹‰å¹¶ä¸æ˜¯ã€Œå·²è¿›è¡Œçš„äº¤æ˜“æ¬¡æ•°ã€ï¼Œè€Œæ˜¯ã€Œæœ€å¤§è´­ä¹°äº¤æ˜“çš„ä¸Šé™ã€</strong></p>
</blockquote>
<blockquote>
<p>==åˆå§‹åŒ–==</p>
<p><code>dp[-1][...][0] = dp[...][0][0] = 0 </code>       æ²¡æœ‰è‚¡ç¥¨  æ‰€ä»¥ä»·å€¼è‚¯å®šæ˜¯ 0</p>
<p><code>dp[-1][...][1] = dp[...][0][1] = -infinity</code>      è´­ä¹°æ¬¡æ•° ä¸º 0  æˆ–è€…å¤©æ•°ä¸º &lt;0  æ­¤æ—¶è¿˜æœ‰ç¥¨ æ˜¾ç„¶éæ³•</p>
</blockquote>
<blockquote>
<p>å…·ä½“é¢˜ç›®ï¼š</p>
<ul>
<li>k ä¸ºå›ºå®šå€¼ å³ï¼šæŒ‡å®šçš„è´­ä¹°æ¬¡æ•°  &lt;<code>dp[i-1][0][0] = 0</code>&gt;</li>
</ul>
<p>â€‹		æ­¤æ—¶æ–¹ç¨‹ä¸ºï¼š</p>
<p>â€‹				<code>dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) </code></p>
<p>â€‹				<code>dp[i][1] = max(dp[i-1][1], -prices[i])</code></p>
<p>â€‹				ç‰¹æ®Šå¤„ç†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">if</span> (i - <span class="number">1</span> &lt; <span class="number">0</span>)&#123;</span><br><span class="line">dp[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¯å¾—ï¼š</span></span><br><span class="line"><span class="comment">//   dp[i][0] </span></span><br><span class="line"><span class="comment">// = max(dp[-1][0], dp[-1][1] + prices[i])</span></span><br><span class="line"><span class="comment">// = max(0, -infinity + prices[i]) = 0</span></span><br><span class="line"></span><br><span class="line">dp[i][<span class="number">1</span>] = -prices[i];</span><br><span class="line"><span class="comment">// æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¯å¾—ï¼š</span></span><br><span class="line"><span class="comment">//   dp[i][1] </span></span><br><span class="line"><span class="comment">// = max(dp[-1][1], dp[-1][0] - prices[i])</span></span><br><span class="line"><span class="comment">// = max(-infinity, 0 - prices[i]) </span></span><br><span class="line"><span class="comment">// = -prices[i]</span></span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// æŒ‰äº”éƒ¨æ›²æ¥</span></span><br><span class="line">&gt;æˆ–è€…ç›´æ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œåœ¨<span class="keyword">for</span> å¾ªç¯ä¹‹å¤–</span><br><span class="line">  dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">  dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">&gt;<span class="comment">//éšå forå¾ªç¯å†…å°±ä¸è¦è¿›è¡Œåˆ¤æ–­äº†</span></span><br></pre></td></tr></table></figure>
<ul>
<li>kä¸º æ— ç©·å¤§</li>
</ul>
<p>â€‹		æ­¤æ—¶æ–¹ç¨‹ä¸ºï¼š</p>
<p>â€‹				<code>dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) </code></p>
<p>â€‹				<code>dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])</code></p>
<p>â€‹		ç‰¹æ®Šå¤„ç†å’Œä¸Šé¢ä¸€æ ·</p>
<ul>
<li>k ä¸º  æ— ç©·å¤§ ä¸” å«æœ‰æ‰‹ç»­è´¹</li>
</ul>
<p>â€‹	æ­¤æ—¶æ–¹ç¨‹ä¸ºï¼š</p>
<p>â€‹				<code>dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) </code></p>
<p>â€‹				<code>dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i]-fee)</code></p>
<p>â€‹	ç‰¹æ®Šå¤„ç†å’Œä¸Šé¢ç±»ä¼¼ <code>dp[i][1] = -prices[i]-fee;</code>  /æˆ–è€…=&gt;(å•ç‹¬åˆå§‹åŒ–)/<code>dp[0][1] = -prices[0]-fee;</code></p>
<ul>
<li>k ä¸º  æ— ç©·å¤§ ä¸” å­˜åœ¨==å†·å†»æœŸ==ï¼ˆåˆå§‹åŒ–çš„ç‰¹ä¾‹ï¼‰</li>
</ul>
<p>â€‹		æ­¤æ—¶æ–¹ç¨‹ä¸ºï¼š</p>
<p>â€‹				<code>dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]) </code></p>
<p>â€‹				<code>dp[i][1] = max(dp[i-1][1], dp[i-2][0]-prices[i])</code></p>
<p>â€‹		ç‰¹æ®Šå¤„ç†ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// base case 1</span></span><br><span class="line">dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> å¾ªç¯ä¸­</span><br><span class="line">             <span class="keyword">if</span> (i - <span class="number">2</span> &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// base case 2</span></span><br><span class="line">                dp[i][<span class="number">0</span>] = Math.max(dp[i-<span class="number">1</span>][<span class="number">0</span>], dp[i-<span class="number">1</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">                <span class="comment">// i - 2 å°äº 0 æ—¶æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ¨å‡ºå¯¹åº” base case</span></span><br><span class="line">                dp[i][<span class="number">1</span>] = Math.max(dp[i-<span class="number">1</span>][<span class="number">1</span>], -prices[i]);</span><br><span class="line">                <span class="comment">//   dp[i][1] </span></span><br><span class="line">                <span class="comment">// = max(dp[i-1][1], dp[-1][0] - prices[i])</span></span><br><span class="line">                <span class="comment">// = max(dp[i-1][1], 0 - prices[i])</span></span><br><span class="line">                <span class="comment">// = max(dp[i-1][1], -prices[i])</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">        	&#125;</span><br><span class="line"><span class="comment">// å†™åœ¨for å¾ªç¯å†…æ˜¯ä¸éœ€è¦è¿›è¡Œn==1 çš„åˆ¤æ–­çš„</span></span><br><span class="line">æ‰€ä»¥å¦ä¸€ç§å†™æ³•ï¼Œå°±æ˜¯å°†i ä»<span class="number">2</span> å¼€å§‹éå†ï¼Œé‚£ä¹ˆ basecase å°±åœ¨å¾ªç¯å¤–å®šä¹‰  å¾ªç¯å†…æ— åˆ¤æ–­çš„æ“ä½œ</span><br><span class="line">å³ï¼š </span><br><span class="line">    		<span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//æœ‰å†·å†»æœŸ </span></span><br><span class="line">            <span class="keyword">if</span>(n&lt;<span class="number">0</span>)  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> dp[][] = <span class="keyword">new</span> <span class="title class_">int</span> [n][<span class="number">2</span>];</span><br><span class="line">            dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">            dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">            dp[<span class="number">1</span>][<span class="number">0</span>]= Math.max(dp[<span class="number">0</span>][<span class="number">0</span>],dp[<span class="number">0</span>][<span class="number">1</span>]+prices[<span class="number">1</span>]);</span><br><span class="line">            dp[<span class="number">1</span>][<span class="number">1</span>]= Math.max(dp[<span class="number">0</span>][<span class="number">1</span>],-prices[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
<ul>
<li>k ä¸ºæœ€å¤šï¼ˆå›ºå®šå€¼ï¼‰æ¬¡</li>
</ul>
<p>æ­¤æ—¶æ–¹ç¨‹ä¸ºï¼š</p>
<p>â€‹              <code>dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1] + prices[i]) </code></p>
<p>â€‹              <code>dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])</code></p>
<p>ç‰¹æ®Šå¤„ç†å’Œä¸Šé¢ä¸€æ ·  <code>for å¾ªç¯åµŒå¥—å¤„ç† basecase</code></p>
<p>â€‹	   æ­¤å¤„éœ€è¦åµŒå¥—å¾ªç¯ï¼Œ<code>å¤šåŠ ä¸€ä¸ª å¯¹ K è¦è¿›è¡Œç©·ä¸¾çš„å¾ªç¯</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">mk</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">      <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> prices.length;</span><br><span class="line">      <span class="type">int</span> dp[][][] = <span class="keyword">new</span> <span class="title class_">int</span>[n][mk+<span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> mk;k&gt;<span class="number">0</span>;k--)&#123;</span><br><span class="line">          dp[<span class="number">0</span>][k][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">          dp[<span class="number">0</span>][k][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt; n;i++)&#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="type">int</span> k= mk;k &gt; <span class="number">0</span>;k--)&#123;</span><br><span class="line">              dp[i][k][<span class="number">0</span>] = Math.max(dp[i-<span class="number">1</span>][k][<span class="number">0</span>],dp[i-<span class="number">1</span>][k][<span class="number">1</span>]+prices[i]);</span><br><span class="line">              dp[i][k][<span class="number">1</span>] = Math.max(dp[i-<span class="number">1</span>][k][<span class="number">1</span>],dp[i-<span class="number">1</span>][k-<span class="number">1</span>][<span class="number">0</span>]-prices[i]);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> dp[n-<span class="number">1</span>][mk][<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;å¦ä¸€ç§è§£æ³•ï¼š&lt;æˆ–è€…ç›´æ¥ä½¿ç”¨ä¸‹é¢çš„ä¸€é¢˜çš„æ¨¡æ¿&gt;</span><br><span class="line">  	 <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">n</span>  <span class="operator">=</span>prices.length;</span><br><span class="line">      <span class="type">int</span> dp[][] = <span class="keyword">new</span> <span class="title class_">int</span> [n][<span class="number">5</span>];</span><br><span class="line">      dp[<span class="number">0</span>][<span class="number">0</span>] =  <span class="number">0</span>;</span><br><span class="line">      dp[<span class="number">0</span>][<span class="number">1</span>] =  -prices[<span class="number">0</span>];</span><br><span class="line">      dp[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">      dp[<span class="number">0</span>][<span class="number">3</span>] =  -prices[<span class="number">0</span>];</span><br><span class="line">      dp[<span class="number">0</span>][<span class="number">4</span>] =  <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">          <span class="comment">// å¥—å¨ƒæ“ä½œ</span></span><br><span class="line">          dp[i][<span class="number">0</span>] = dp[i-<span class="number">1</span>][<span class="number">0</span>];  <span class="comment">//ä¸æ“ä½œ   å¯åˆ </span></span><br><span class="line">          dp[i][<span class="number">1</span>] = Math.max(dp[i-<span class="number">1</span>][<span class="number">1</span>],dp[i-<span class="number">1</span>][<span class="number">0</span>]-prices[i]);    <span class="comment">// ä¹°ä¸€æ¬¡</span></span><br><span class="line">          dp[i][<span class="number">2</span>] = Math.max(dp[i-<span class="number">1</span>][<span class="number">2</span>],dp[i-<span class="number">1</span>][<span class="number">1</span>]+prices[i]);    <span class="comment">//å–ä¸€æ¬¡</span></span><br><span class="line">          dp[i][<span class="number">3</span>] = Math.max(dp[i-<span class="number">1</span>][<span class="number">3</span>],dp[i-<span class="number">1</span>][<span class="number">2</span>]-prices[i]);    <span class="comment">// å†ä¹°ä¸€æ¬¡</span></span><br><span class="line">          dp[i][<span class="number">4</span>] = Math.max(dp[i-<span class="number">1</span>][<span class="number">4</span>],dp[i-<span class="number">1</span>][<span class="number">3</span>]+prices[i]);    <span class="comment">// å†å–ä¸€æ¬¡</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> dp[n-<span class="number">1</span>][<span class="number">4</span>];  <span class="comment">// æœ€åä¸€æ¬¡çŠ¶æ€æ˜¯4</span></span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>k ä¸ºæœ€å¤šï¼ˆéå›ºå®šå€¼ï¼‰æ¬¡</li>
</ul>
<p>â€‹	æ­¤æ—¶å’Œä¸Šé¢ å›ºå®šæ¬¡æ•°ç±»ä¼¼ åªæ˜¯éœ€è¦å¯¹ k è¿›è¡Œç¼©å°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (max_k &gt; n / <span class="number">2</span>) &#123;</span><br><span class="line">       <span class="comment">// å¤ç”¨ä¹‹å‰äº¤æ˜“æ¬¡æ•° k æ²¡æœ‰é™åˆ¶çš„æƒ…å†µ</span></span><br><span class="line">       <span class="keyword">return</span> maxProfit_k_inf(prices);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">          <span class="type">int</span>  <span class="variable">n</span>  <span class="operator">=</span>prices.length;</span><br><span class="line">          <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">          <span class="keyword">if</span>(k&gt; n/<span class="number">2</span>) <span class="keyword">return</span> maxProfitone(prices);   <span class="comment">//é€’å½’  ä¸è¿›è¡Œé€’å½’è°ƒç”¨ä¹Ÿèƒ½é€šè¿‡</span></span><br><span class="line">          <span class="type">int</span> dp [][][] = <span class="keyword">new</span> <span class="title class_">int</span> [n][k+<span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">         <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span>k;j&gt;<span class="number">0</span>; j--)&#123;</span><br><span class="line">             <span class="keyword">if</span>(i-<span class="number">1</span>&lt;<span class="number">0</span>)&#123;</span><br><span class="line">                 dp[i][j][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">                 dp[i][j][<span class="number">1</span>] = -prices[i];</span><br><span class="line">                 <span class="keyword">continue</span>;</span><br><span class="line">             &#125;</span><br><span class="line">             dp[i][j][<span class="number">0</span>] = Math.max(dp[i-<span class="number">1</span>][j][<span class="number">0</span>],dp[i-<span class="number">1</span>][j][<span class="number">1</span>]+prices[i]);</span><br><span class="line">             dp[i][j][<span class="number">1</span>] = Math.max(dp[i-<span class="number">1</span>][j][<span class="number">1</span>],dp[i-<span class="number">1</span>][j-<span class="number">1</span>][<span class="number">0</span>]-prices[i]);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> dp[n-<span class="number">1</span>][k][<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> <span class="title function_">maxProfitone</span><span class="params">( <span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> prices.length;</span><br><span class="line">      <span class="type">int</span> dp[][]= <span class="keyword">new</span> <span class="title class_">int</span> [n][<span class="number">2</span>];</span><br><span class="line">      dp[<span class="number">0</span>][<span class="number">0</span>]= <span class="number">0</span>;</span><br><span class="line">      dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">          dp[i][<span class="number">0</span>] = Math.max(dp[i-<span class="number">1</span>][<span class="number">0</span>],dp[i-<span class="number">1</span>][<span class="number">1</span>]+prices[i]);</span><br><span class="line">          dp[i][<span class="number">1</span>] = Math.max(dp[i-<span class="number">1</span>][<span class="number">1</span>],dp[i-<span class="number">1</span>][<span class="number">0</span>]-prices[i]);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> dp[n-<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&gt;è§£æ³•ä¼˜åŒ–ï¼š&lt;ä»£ç å‡å°‘&gt;</span><br><span class="line">      <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">          <span class="type">int</span>  <span class="variable">n</span>  <span class="operator">=</span>prices.length;</span><br><span class="line">          <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">          <span class="type">int</span> dp [][][] = <span class="keyword">new</span> <span class="title class_">int</span> [n][k+<span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line">  <span class="comment">// basecase </span></span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= k; i++) &#123;</span><br><span class="line">          dp[<span class="number">0</span>][i][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">         <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span>k;j&gt;<span class="number">0</span>; j--)&#123;</span><br><span class="line">             dp[i][j][<span class="number">0</span>] = Math.max(dp[i-<span class="number">1</span>][j][<span class="number">0</span>],dp[i-<span class="number">1</span>][j][<span class="number">1</span>]+prices[i]);</span><br><span class="line">             dp[i][j][<span class="number">1</span>] = Math.max(dp[i-<span class="number">1</span>][j][<span class="number">1</span>],dp[i-<span class="number">1</span>][j-<span class="number">1</span>][<span class="number">0</span>]-prices[i]);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> dp[n-<span class="number">1</span>][k][<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;å¦ä¸€ç§è§£æ³•&lt;ä¸Šé¢ä¸€é¢˜çš„æ¨¡ç‰ˆ&gt;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">          <span class="type">int</span>  <span class="variable">n</span>  <span class="operator">=</span>prices.length;</span><br><span class="line">          <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">          <span class="type">int</span> dp [][] = <span class="keyword">new</span> <span class="title class_">int</span> [n][<span class="number">2</span>*k+<span class="number">1</span>];</span><br><span class="line">          dp[<span class="number">0</span>][<span class="number">0</span>] =<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">2</span>*k;j+=<span class="number">2</span>)&#123;</span><br><span class="line">              dp[<span class="number">0</span>][j+<span class="number">1</span>]= -prices[<span class="number">0</span>];</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">              <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">2</span>*k;j+=<span class="number">2</span>)&#123;</span><br><span class="line">                  dp[i][j+<span class="number">1</span>]= Math.max(dp[i-<span class="number">1</span>][j+<span class="number">1</span>],dp[i-<span class="number">1</span>][j]-prices[i]);</span><br><span class="line">                  dp[i][j+<span class="number">2</span>]= Math.max(dp[i-<span class="number">1</span>][j+<span class="number">2</span>],dp[i-<span class="number">1</span>][j+<span class="number">1</span>]+prices[i]);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> dp[n-<span class="number">1</span>][<span class="number">2</span>*k];</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>æœ€ç»ˆç­”æ¡ˆï¼šæ±‚çš„æ˜¯ æœ€ç»ˆç­”æ¡ˆæ˜¯ <code>dp[n - 1][K][0]</code></p>
</blockquote>
<h6 id="ä¸‡é‡Œå½’ä¸€ï¼šå…¨èƒ½ç­”æ¡ˆ-ä¸è€ƒè™‘æ—¶é—´ç©ºé—´å¤æ‚åº¦">ä¸‡é‡Œå½’ä¸€ï¼šå…¨èƒ½ç­”æ¡ˆ&lt;ä¸è€ƒè™‘æ—¶é—´ç©ºé—´å¤æ‚åº¦&gt;</h6>
<blockquote>
<p>**Q:**è‚¡ç¥¨ä»·æ ¼æ•°ç»„ <code>prices</code>ï¼Œä½ æœ€å¤šè¿›è¡Œ <code>max_k</code> æ¬¡äº¤æ˜“ï¼Œæ¯æ¬¡äº¤æ˜“éœ€è¦é¢å¤–æ¶ˆè€— <code>fee</code> çš„æ‰‹ç»­è´¹ï¼Œè€Œä¸”æ¯æ¬¡äº¤æ˜“ä¹‹åéœ€è¦ç»è¿‡ <code>cooldown</code> å¤©çš„å†·å†»æœŸæ‰èƒ½è¿›è¡Œä¸‹ä¸€æ¬¡äº¤æ˜“ï¼Œè¯·ä½ è®¡ç®—å¹¶è¿”å›å¯ä»¥è·å¾—çš„æœ€å¤§åˆ©æ¶¦ã€‚</p>
<p><strong>A:</strong><code> int maxProfit_all_in_one(int max_k, int[] prices, int cooldown, int fee);</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit_all_in_one</span><span class="params">(<span class="type">int</span> max_k, <span class="type">int</span>[] prices, <span class="type">int</span> cooldown, <span class="type">int</span> fee)</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> prices.length;</span><br><span class="line">  <span class="type">int</span> dp[][][] = <span class="keyword">new</span> <span class="title class_">int</span>[n][max_k][<span class="number">2</span>];</span><br><span class="line">  <span class="keyword">if</span>(n&lt;<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&gt;<span class="comment">// é€’å½’  k ä¸ºæœ€å¤šï¼ˆéå›ºå®šå€¼ï¼‰æ¬¡</span></span><br><span class="line">  <span class="keyword">if</span>(max_k&gt;n/<span class="number">2</span>) <span class="keyword">return</span> maxProfit_k_inf(prices, cooldown, fee); </span><br><span class="line">&gt;<span class="comment">// é€’å½’  k ä¸ºæœ€å¤šï¼ˆéå›ºå®šå€¼ï¼‰æ¬¡</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;                  </span><br><span class="line">      dp[i][<span class="number">0</span>][<span class="number">1</span>] = Integer.MIN_VALUE;</span><br><span class="line">      dp[i][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">      <span class="comment">// é€’å½’  k ä¸ºæœ€å¤šï¼ˆéå›ºå®šå€¼ï¼‰æ¬¡</span></span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> max_k; k&gt;<span class="number">0</span>; k--) &#123;</span><br><span class="line">          <span class="keyword">if</span> (i - <span class="number">1</span> == -<span class="number">1</span>) &#123;</span><br><span class="line">              dp[i][k][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">              dp[i][k][<span class="number">1</span>] = -prices[i] - fee;</span><br><span class="line">              <span class="keyword">continue</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">//å­˜åœ¨å†·å†»æœŸ</span></span><br><span class="line">          <span class="keyword">if</span> (i - cooldown - <span class="number">1</span> &lt; <span class="number">0</span>) &#123;</span><br><span class="line">              dp[i][k][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][k][<span class="number">0</span>], dp[i - <span class="number">1</span>][k][<span class="number">1</span>] + prices[i]);</span><br><span class="line">              dp[i][k][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][k][<span class="number">1</span>], -prices[i] - fee);</span><br><span class="line">              <span class="keyword">continue</span>;</span><br><span class="line">          &#125;</span><br><span class="line">			<span class="comment">// k ä¸ºæœ€å¤šï¼ˆéå›ºå®šå€¼ï¼‰æ¬¡</span></span><br><span class="line">          dp[i][k][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][k][<span class="number">0</span>], dp[i - <span class="number">1</span>][k][<span class="number">1</span>] + prices[i]);</span><br><span class="line">          <span class="comment">//å­˜åœ¨å†·å†»æœŸ    å«æœ‰æ‰‹ç»­è´¹</span></span><br><span class="line">          dp[i][k][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][k][<span class="number">1</span>], dp[i - cooldown - <span class="number">1</span>][k - <span class="number">1</span>][<span class="number">0</span>] - prices[i] - fee);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> dp[n-<span class="number">1</span>][max_k][<span class="number">0</span>];</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">private</span> <span class="type">int</span> <span class="title function_">maxProfit_k_inf</span><span class="params">(<span class="type">int</span>[] prices, <span class="type">int</span> cooldown, <span class="type">int</span> fee)</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> prices.length;</span><br><span class="line">  <span class="type">int</span> dp[][]= <span class="keyword">new</span> <span class="title class_">int</span>[n][<span class="number">2</span>];</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">      <span class="keyword">if</span>(i-<span class="number">1</span> == -<span class="number">1</span>)&#123;</span><br><span class="line">          dp[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">          dp[i][<span class="number">1</span>] = -prices[i]-fee;</span><br><span class="line">          <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line">     <span class="comment">//å­˜åœ¨å†·å†»æœŸ    å«æœ‰æ‰‹ç»­è´¹</span></span><br><span class="line">      <span class="keyword">if</span>(i-<span class="number">1</span>-cooldown &lt; <span class="number">0</span>)&#123;</span><br><span class="line">          dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i]);;</span><br><span class="line">          dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], -prices[i] - fee);</span><br><span class="line">          <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i-<span class="number">1</span>][<span class="number">1</span>]+prices[i]);</span><br><span class="line">       <span class="comment">//å­˜åœ¨å†·å†»æœŸ    å«æœ‰æ‰‹ç»­è´¹</span></span><br><span class="line">      dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], dp[i-cooldown-<span class="number">1</span>][<span class="number">0</span>]-prices[i]-fee);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>  dp[n-<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="ç©æ¸¸æˆä¸“é¢˜">ç©æ¸¸æˆä¸“é¢˜</h3>
<h5 id="è·¯å¾„é—®é¢˜">è·¯å¾„é—®é¢˜</h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åŸºæœ¬çš„è·¯å¾„ï¼š æœ€å°è·¯å¾„å’Œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minPathSum</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">            <span class="type">int</span>  <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span> dp [][] =<span class="keyword">new</span> <span class="title class_">int</span> [m+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line">       <span class="comment">// dp[][] =min(dp[i][j-1],dp[i-1][j])+grid[i][j];</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//åˆå§‹åŒ–ï¼š</span></span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>]=grid[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span><span class="number">1</span>;i&lt;m;i++)&#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = dp[i-<span class="number">1</span>][<span class="number">0</span>]+grid[i][<span class="number">0</span>]; </span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span><span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">            dp[<span class="number">0</span>][i]= dp[<span class="number">0</span>][i-<span class="number">1</span>]+grid[<span class="number">0</span>][i]; </span><br><span class="line">        &#125; </span><br><span class="line">       </span><br><span class="line">        </span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;m;i++)&#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>;j&lt; n;j++)&#123;</span><br><span class="line">               dp[i][j] =Math.min(dp[i][j-<span class="number">1</span>],dp[i-<span class="number">1</span>][j])+grid[i][j];</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> dp[m-<span class="number">1</span>][n-<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//è§£æ•‘å…¬ä¸»  ï¼š ä¸Šè¿°é—®é¢˜çš„ å€’åº</span></span><br><span class="line"> <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">calculateMinimumHP</span><span class="params">(<span class="type">int</span>[][] dungeon)</span> &#123;</span><br><span class="line">        <span class="comment">// æœ€å°è·¯å¾„ é€†å‘æ€ç»´</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> dungeon.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> dungeon[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span> dp[][] = <span class="keyword">new</span> <span class="title class_">int</span> [m][n];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¾ç½®å·¦ä¸‹è§’çš„å€¼</span></span><br><span class="line">        dp[m-<span class="number">1</span>][n-<span class="number">1</span>]= Math.max(<span class="number">0</span>, -dungeon[m-<span class="number">1</span>][n-<span class="number">1</span>]);</span><br><span class="line">        <span class="comment">// è®¾ç½®æœ€åä¸€åˆ—</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> m-<span class="number">2</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            dp[i][n-<span class="number">1</span>] = dp[i+<span class="number">1</span>][n-<span class="number">1</span>] - dungeon[i][n-<span class="number">1</span>];</span><br><span class="line">            dp[i][n-<span class="number">1</span>] = Math.max(dp[i][n-<span class="number">1</span>],<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è®¾ç½®æœ€åä¸€è¡Œ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n-<span class="number">2</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            dp[m-<span class="number">1</span>][i] = dp[m-<span class="number">1</span>][i+<span class="number">1</span>]  -  dungeon[m-<span class="number">1</span>][i];</span><br><span class="line">            dp[m-<span class="number">1</span>][i] = Math.max(dp[m-<span class="number">1</span>][i],<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>  i=m-<span class="number">2</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">j</span> <span class="operator">=</span> n-<span class="number">2</span>;j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line">                dp[i][j] = Math.min(dp[i+<span class="number">1</span>][j],dp[i][j+<span class="number">1</span>]) - dungeon[i][j];</span><br><span class="line">                dp[i][j] = Math.max(<span class="number">0</span>,dp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>]+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸­è½¬ç«™  minæ¶ˆè´¹</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findCheapestPrice</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[][] flights, <span class="type">int</span> src, <span class="type">int</span> dst, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="comment">//k+1+1 çš„åŸå› æ˜¯ å°†æœ€åä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿç†è§£æˆä¸­è½¬èŠ‚ç‚¹  æˆ–è€…ç†è§£ä¸º k+1ä¸ªè¾¹</span></span><br><span class="line">        <span class="type">int</span> dp[][] = <span class="keyword">new</span> <span class="title class_">int</span> [k+<span class="number">2</span>][n];</span><br><span class="line">        <span class="comment">// æ‰¾æœ€å°ï¼Œæ‰€ä»¥å…¨éƒ½åˆå§‹åŒ–ä¸º ä¸å¯è¾¾</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt; dp.length;i++)&#123;</span><br><span class="line">            Arrays.fill(dp[i],Integer.MAX_VALUE-<span class="number">10000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// for(int []flight :flights)&#123;</span></span><br><span class="line">        <span class="comment">//     if(flight[0] == src)  dp[0][flight[1]] = flight[2];</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="comment">//æ— è®ºå‡ æ¬¡ï¼Œä»å‡ºå‘ç‚¹åˆ°å‡ºå‘ç‚¹æ€»æ˜¯èŠ±è´¹ä¸º0</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ; i &lt; dp.length ; i++)&#123;</span><br><span class="line">            dp[i][src] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span><span class="number">1</span>;i&lt;dp.length;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> []flight :flights)&#123;</span><br><span class="line">               <span class="type">int</span> <span class="variable">from</span> <span class="operator">=</span> flight[<span class="number">0</span>];</span><br><span class="line">               <span class="type">int</span> <span class="variable">to</span> <span class="operator">=</span> flight[<span class="number">1</span>];</span><br><span class="line">               <span class="type">int</span> <span class="variable">cost</span> <span class="operator">=</span> flight[<span class="number">2</span>];</span><br><span class="line">               dp[i][to]=Math.min(dp[i][to],dp[i-<span class="number">1</span>][from]+cost);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">return</span> dp[k+<span class="number">1</span>][dst] == Integer.MAX_VALUE-<span class="number">10000</span>? -<span class="number">1</span>:dp[k+<span class="number">1</span>][dst];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="å›æº¯">å›æº¯</h2>
<h4 id="æœ¬è´¨ï¼š">==æœ¬è´¨ï¼š==</h4>
<blockquote>
<ul>
<li>
<p>for å¾ªç¯é‡Œé¢åµŒå¥—é€’å½’    ä»¥å®ç°   n ä¸ª for å¾ªç¯</p>
</li>
<li>
<p>å°±æ˜¯ <strong>å…¶æ ¸å¿ƒå°±æ˜¯ for å¾ªç¯é‡Œé¢çš„é€’å½’ï¼Œåœ¨é€’å½’è°ƒç”¨ä¹‹å‰ã€Œåšé€‰æ‹©ã€ï¼Œåœ¨é€’å½’è°ƒç”¨ä¹‹åã€Œæ’¤é”€é€‰æ‹©ã€</strong></p>
</li>
<li>
<p>è§£å†³ä¸€ä¸ªå›æº¯é—®é¢˜ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå†³ç­–æ ‘çš„éå†è¿‡ç¨‹</p>
</li>
</ul>
</blockquote>
<h4 id="è§£å†³çš„é—®é¢˜ï¼š">è§£å†³çš„é—®é¢˜ï¼š</h4>
<blockquote>
<ul>
<li>ç»„åˆé—®é¢˜ï¼šNä¸ªæ•°é‡Œé¢æŒ‰ä¸€å®šè§„åˆ™æ‰¾å‡ºkä¸ªæ•°çš„é›†åˆ</li>
<li>å­é›†é—®é¢˜ï¼šä¸€ä¸ªNä¸ªæ•°çš„é›†åˆé‡Œæœ‰å¤šå°‘ç¬¦åˆæ¡ä»¶çš„å­é›†</li>
<li>æ’åˆ—é—®é¢˜ï¼šNä¸ªæ•°æŒ‰ä¸€å®šè§„åˆ™å…¨æ’åˆ—ï¼Œæœ‰å‡ ç§æ’åˆ—æ–¹å¼</li>
<li>åˆ‡å‰²é—®é¢˜ï¼šä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ä¸€å®šè§„åˆ™æœ‰å‡ ç§åˆ‡å‰²æ–¹å¼</li>
<li>æ£‹ç›˜é—®é¢˜ï¼šNçš‡åï¼Œè§£æ•°ç‹¬ç­‰ç­‰</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>
<p><strong>ç»„åˆæ˜¯ä¸å¼ºè°ƒå…ƒç´ é¡ºåºçš„ï¼Œæ’åˆ—æ˜¯å¼ºè°ƒå…ƒç´ é¡ºåº</strong>ã€‚</p>
</li>
<li>
<p><strong>ç»„åˆæ— åº    æ’åˆ—æœ‰åº</strong></p>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>
<p><strong>å›æº¯æ³•è§£å†³çš„é—®é¢˜éƒ½å¯ä»¥æŠ½è±¡ä¸ºæ ‘å½¢ç»“æ„</strong>ï¼ŒæŒ‡çš„æ˜¯<strong>æ‰€æœ‰å›æº¯æ³•</strong>çš„é—®é¢˜<strong>éƒ½å¯ä»¥</strong>æŠ½è±¡ä¸ºæ ‘å½¢ç»“æ„ï¼</p>
</li>
<li>
<p>å› ä¸ºå›æº¯æ³•è§£å†³çš„éƒ½æ˜¯åœ¨é›†åˆä¸­é€’å½’æŸ¥æ‰¾å­é›†ï¼Œ<strong>é›†åˆçš„å¤§å°å°±æ„æˆäº†æ ‘çš„å®½åº¦ï¼Œé€’å½’çš„æ·±åº¦ï¼Œéƒ½æ„æˆçš„æ ‘çš„æ·±åº¦</strong>ã€‚</p>
</li>
<li>
<p>é€’å½’å°±è¦æœ‰ç»ˆæ­¢æ¡ä»¶ï¼Œæ‰€ä»¥å¿…ç„¶æ˜¯ä¸€æ£µé«˜åº¦æœ‰é™çš„æ ‘ï¼ˆNå‰æ ‘ï¼‰ã€‚</p>
</li>
</ul>
</blockquote>
<h4 id="å½•çš„ä¸‰æ­¥æ›²ï¼š">å½•çš„ä¸‰æ­¥æ›²ï¼š</h4>
<blockquote>
<ul>
<li>
<p>å›æº¯å‡½æ•°æ¨¡æ¿è¿”å›å€¼ä»¥åŠå‚æ•°</p>
</li>
<li>
<p>å›æº¯ç®—æ³•ä¸­å‡½æ•°è¿”å›å€¼ä¸€èˆ¬ä¸ºvoid</p>
</li>
<li>
<p>å†æ¥çœ‹ä¸€ä¸‹å‚æ•°ï¼Œå› ä¸ºå›æº¯ç®—æ³•éœ€è¦çš„å‚æ•°å¯ä¸åƒäºŒå‰æ ‘é€’å½’çš„æ—¶å€™é‚£ä¹ˆå®¹æ˜“ä¸€æ¬¡æ€§ç¡®å®šä¸‹æ¥ï¼Œæ‰€ä»¥ä¸€èˆ¬æ˜¯å…ˆå†™é€»è¾‘ï¼Œç„¶åéœ€è¦ä»€ä¹ˆå‚æ•°ï¼Œå°±å¡«ä»€ä¹ˆå‚æ•°</p>
</li>
<li>
<p>å›æº¯å‡½æ•°ç»ˆæ­¢æ¡ä»¶</p>
</li>
<li>
<p>ä¸€èˆ¬æ¥è¯´æœåˆ°å¶å­èŠ‚ç‚¹äº†ï¼Œä¹Ÿå°±æ‰¾åˆ°äº†æ»¡è¶³æ¡ä»¶çš„ä¸€æ¡ç­”æ¡ˆï¼ŒæŠŠè¿™ä¸ªç­”æ¡ˆå­˜æ”¾èµ·æ¥ï¼Œå¹¶ç»“æŸæœ¬å±‚é€’å½’</p>
</li>
<li>
<p>å›æº¯æœç´¢çš„éå†è¿‡ç¨‹</p>
</li>
<li>
<p>å›æº¯æ³•ä¸€èˆ¬æ˜¯åœ¨é›†åˆä¸­é€’å½’æœç´¢ï¼Œé›†åˆçš„å¤§å°æ„æˆäº†æ ‘çš„å®½åº¦ï¼Œé€’å½’çš„æ·±åº¦æ„æˆçš„æ ‘çš„æ·±åº¦ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ä¼ªä»£ç </span><br><span class="line"></span><br><span class="line">å›æº¯å‡½æ•°ä¼ªä»£ç å¦‚ä¸‹ï¼š</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">backtracking</span><span class="params">(å‚æ•°)</span></span><br><span class="line"></span><br><span class="line">å›æº¯å‡½æ•°ç»ˆæ­¢æ¡ä»¶ä¼ªä»£ç </span><br><span class="line">    ```java</span><br><span class="line">    <span class="title function_">if</span> <span class="params">(ç»ˆæ­¢æ¡ä»¶)</span> &#123;</span><br><span class="line">               å­˜æ”¾ç»“æœ;</span><br><span class="line">               <span class="keyword">return</span>;</span><br><span class="line">       	&#125;</span><br></pre></td></tr></table></figure>
<p>å›æº¯å‡½æ•°éå†è¿‡ç¨‹ä¼ªä»£ç </p>
   <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹å­©å­çš„æ•°é‡å°±æ˜¯é›†åˆçš„å¤§å°ï¼‰) &#123;</span><br><span class="line">          å¤„ç†èŠ‚ç‚¹;</span><br><span class="line">          backtracking(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); <span class="comment">// é€’å½’</span></span><br><span class="line">          å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>
<p>å›æº¯ç®—æ³•æ¨¡æ¿æ¡†æ¶å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">backtracking</span><span class="params">(å‚æ•°)</span> &#123;</span><br><span class="line">     <span class="keyword">if</span> (ç»ˆæ­¢æ¡ä»¶) &#123;</span><br><span class="line">              å­˜æ”¾ç»“æœ;</span><br><span class="line">              <span class="keyword">return</span>;</span><br><span class="line">          &#125;</span><br><span class="line">&gt;<span class="keyword">for</span> (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹å­©å­çš„æ•°é‡å°±æ˜¯é›†åˆçš„å¤§å°ï¼‰) &#123;</span><br><span class="line">    å¤„ç†èŠ‚ç‚¹;</span><br><span class="line">     backtracking(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); <span class="comment">// é€’å½’</span></span><br><span class="line">     å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ</span><br><span class="line"> &#125;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="dong-æ¨¡ç‰ˆ">dong æ¨¡ç‰ˆ</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">result = []</span><br><span class="line">def <span class="title function_">backtrack</span><span class="params">(è·¯å¾„, é€‰æ‹©åˆ—è¡¨)</span>:</span><br><span class="line">    <span class="keyword">if</span> æ»¡è¶³ç»“æŸæ¡ä»¶:</span><br><span class="line">        result.add(è·¯å¾„)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:</span></span><br><span class="line">       <span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">       <span class="comment">// backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨)</span></span><br><span class="line">        <span class="comment">//æ’¤é”€é€‰æ‹©</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:</span><br><span class="line">            <span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">            å°†è¯¥é€‰æ‹©ä»é€‰æ‹©åˆ—è¡¨ç§»é™¤</span><br><span class="line">            è·¯å¾„.add(é€‰æ‹©)</span><br><span class="line">            backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨)</span><br><span class="line">           <span class="comment">// æ’¤é”€é€‰æ‹©</span></span><br><span class="line">            è·¯å¾„.remove(é€‰æ‹©)</span><br><span class="line">            å°†è¯¥é€‰æ‹©å†åŠ å…¥é€‰æ‹©åˆ—è¡¨</span><br><span class="line">            </span><br><span class="line"><span class="number">1</span>ã€è·¯å¾„ï¼šä¹Ÿå°±æ˜¯å·²ç»åšå‡ºçš„é€‰æ‹©ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€é€‰æ‹©åˆ—è¡¨ï¼šä¹Ÿå°±æ˜¯ä½ å½“å‰å¯ä»¥åšçš„é€‰æ‹©ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>ã€ç»“æŸæ¡ä»¶ï¼šä¹Ÿå°±æ˜¯åˆ°è¾¾å†³ç­–æ ‘åº•å±‚ï¼Œæ— æ³•å†åšé€‰æ‹©çš„æ¡ä»¶ã€‚</span><br></pre></td></tr></table></figure>
<blockquote>
<p>DFS å’Œ  å›æº¯ åŒºåˆ«ï¼š</p>
<ul>
<li>å¤šå‰æ ‘ DFS éå†æ¡†æ¶çš„å‰åºä½ç½®å’Œååºä½ç½®åº”è¯¥åœ¨ for å¾ªç¯å¤–é¢ï¼Œå¹¶ä¸åº”è¯¥æ˜¯åœ¨ for å¾ªç¯é‡Œé¢ã€‚è€Œæº¯ç®—æ³•ä¸­è·‘åˆ° for å¾ªç¯é‡Œé¢äº†</li>
</ul>
<p>åŠ¨æ€è§„åˆ’ å’Œ å›æº¯ç®—æ³• åŒºåˆ«ä¸è”ç³»</p>
<ul>
<li>åŠ¨æ€è§„åˆ’å’Œå›æº¯ç®—æ³•åº•å±‚éƒ½æŠŠé—®é¢˜æŠ½è±¡æˆäº†æ ‘çš„ç»“æ„ï¼Œä½†è¿™ä¸¤ç§ç®—æ³•åœ¨æ€è·¯ä¸Šæ˜¯å®Œå…¨ä¸åŒçš„</li>
</ul>
<p>å¦å¤–ï¼š</p>
<p>â€‹	å½“é‡åˆ°é€‰æ‹©ç©ºé—´çš„ä¸ªæ•°ï¼ˆæ¡¶ï¼‰å¾ˆå¤šæ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ä»¥æ¯æ¬¡é€‰æ‹©çš„æ¬¡æ•°ï¼ˆçƒï¼‰ä¸º<code>trackbacking</code>å‡½æ•°çš„foræ ¸å¿ƒï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<p>æˆ‘ä»¬åº”è¯¥å°½é‡ã€Œå°‘é‡å¤šæ¬¡ã€ï¼Œå°±æ˜¯è¯´å®å¯å¤šåšå‡ æ¬¡é€‰æ‹©ï¼ˆä¹˜æ³•å…³ç³»ï¼‰ï¼Œä¹Ÿä¸è¦ç»™å¤ªå¤§çš„é€‰æ‹©ç©ºé—´ï¼ˆæŒ‡æ•°å…³ç³»ï¼‰ï¼›åš <code>n</code> æ¬¡ã€Œ<code>k</code> é€‰ä¸€ã€ä»…é‡å¤ä¸€æ¬¡ï¼ˆ<code>O(k^n)</code>ï¼‰ï¼Œæ¯” <code>n</code> æ¬¡ã€ŒäºŒé€‰ä¸€ã€é‡å¤ <code>k</code> æ¬¡ï¼ˆ<code>O(k*2^n)</code>ï¼‰æ•ˆç‡ä½å¾ˆå¤šã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt; nums.length; i++) &#123;&#125; <span class="comment">// nums[]æ˜¯æŒ‡çƒçš„ä¸ªæ•° é€‰æ‹©  âˆš</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;è€Œä¸æ˜¯ï¼š  (  ä¹Ÿå°±æ˜¯leetcode  <span class="number">698</span> )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; bucket.length; i++) &#123;&#125;    <span class="comment">//bucket[] æ¡¶çš„ä¸ªæ•° ä¸é€‰  Ã—</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<img src="https://gitee.com/Ryang1118/typora/raw/master/images/202303221333571.png" alt="image-20230322133359518" style="zoom:25%;">
<p><strong>å‰åºéå†çš„ä»£ç åœ¨è¿›å…¥æŸä¸€ä¸ªèŠ‚ç‚¹ä¹‹å‰çš„é‚£ä¸ªæ—¶é—´ç‚¹æ‰§è¡Œ</strong></p>
<p><strong>ååºéå†ä»£ç åœ¨ç¦»å¼€æŸä¸ªèŠ‚ç‚¹ä¹‹åçš„é‚£ä¸ªæ—¶é—´ç‚¹æ‰§è¡Œ</strong></p>
</blockquote>
<blockquote>
<p><strong>å†™ <code>backtrack</code> å‡½æ•°æ—¶ï¼Œéœ€è¦ç»´æŠ¤èµ°è¿‡çš„ã€Œè·¯å¾„ã€å’Œå½“å‰å¯ä»¥åšçš„ã€Œé€‰æ‹©åˆ—è¡¨ã€ï¼Œå½“è§¦å‘ã€Œç»“æŸæ¡ä»¶ã€æ—¶ï¼Œå°†ã€Œè·¯å¾„ã€è®°å…¥ç»“æœé›†</strong>ã€‚</p>
</blockquote>
<h4 id="æˆ‘çš„æ­¥éª¤ï¼š">æˆ‘çš„æ­¥éª¤ï¼š</h4>
<blockquote>
<h6 id="1ã€å†™å‡ºä¸¤ä¸ªé›†åˆ">1ã€å†™å‡ºä¸¤ä¸ªé›†åˆ</h6>
<p>ä¸€ä¸ªç”¨æ¥å­˜æ”¾ç¬¦åˆæ¡ä»¶å•ä¸€ç»“æœ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();  <span class="comment">// è®°å½•å›æº¯ç®—æ³•çš„é€’å½’è·¯å¾„</span></span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªç”¨æ¥å­˜æ”¾ç¬¦åˆæ¡ä»¶ç»“æœçš„é›†åˆ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">LinkedList&lt;Integer&gt; track = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br></pre></td></tr></table></figure>
<h6 id="2ã€ä¹¦å†™ç¡®å®šäº†è¿”å›å€¼-å’Œ-å‚æ•°-çš„å‡½æ•°">2ã€ä¹¦å†™ç¡®å®šäº†è¿”å›å€¼ å’Œ å‚æ•° çš„å‡½æ•°</h6>
<h6 id="3ã€ç¡®å®šç»ˆæ­¢æ¡ä»¶">3ã€ç¡®å®šç»ˆæ­¢æ¡ä»¶</h6>
<h6 id="4ã€è§£å†³åµŒå¥—-for-å¾ªç¯çš„-é€’å½’-éƒ¨åˆ†">4ã€è§£å†³åµŒå¥— for å¾ªç¯çš„ é€’å½’  éƒ¨åˆ†</h6>
</blockquote>
<h4 id="å­é›†ã€ç»„åˆã€æ’åˆ—æ•´åˆ">å­é›†ã€ç»„åˆã€æ’åˆ—æ•´åˆ</h4>
<h5 id="åˆ†ç±»">åˆ†ç±»</h5>
<blockquote>
<p>1ã€<strong>å…ƒç´ ä¸å¯ä»¥é‡å¤</strong>ï¼Œ<strong>æœ€å¤šé€‰ä¸€æ¬¡</strong></p>
<p>2ã€<strong>å…ƒç´ å¯ä»¥é‡å¤</strong>ï¼Œ<strong>æœ€å¤šé€‰ä¸€æ¬¡</strong></p>
<p>3ã€<strong>å…ƒç´ ä¸å¯ä»¥é‡å¤</strong>ï¼Œ<strong>å¯ä»¥é€‰ n æ¬¡</strong></p>
</blockquote>
<h5 id="è®°ä½ä¸¤å¼ å›¾">è®°ä½ä¸¤å¼ å›¾</h5>
<p><img src="https://labuladong.gitee.io/algo/images/æ’åˆ—ç»„åˆ/2.jpeg" alt="img" style="zoom:20%;">                      <img src="https://labuladong.gitee.io/algo/images/æ’åˆ—ç»„åˆ/1.jpeg" alt="img" style="zoom:20%;"></p>
<blockquote>
<p><strong>é¦–å…ˆï¼Œç»„åˆé—®é¢˜å’Œå­é›†é—®é¢˜å…¶å®æ˜¯ç­‰ä»·çš„ï¼Œè¿™ä¸ªåé¢ä¼šè®²ï¼›è‡³äºä¹‹å‰è¯´çš„ä¸‰ç§å˜åŒ–å½¢å¼ï¼Œæ— éæ˜¯åœ¨è¿™ä¸¤æ£µæ ‘ä¸Šå‰ªæ‰æˆ–è€…å¢åŠ ä¸€äº›æ ‘æç½¢äº†</strong></p>
</blockquote>
<blockquote>
<p>==å‰ç½®==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">// è®°å½•å›æº¯ç®—æ³•çš„ç»“æœé›†</span></span><br><span class="line">&gt;List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">&gt;<span class="comment">// è®°å½•å›æº¯ç®—æ³•çš„é€’å½’è·¯å¾„</span></span><br><span class="line">&gt;LinkedList&lt;Integer&gt; track = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="1ã€å…ƒç´ ä¸å¯ä»¥é‡å¤ï¼Œæœ€å¤šé€‰ä¸€æ¬¡"><strong>1ã€å…ƒç´ ä¸å¯ä»¥é‡å¤</strong>ï¼Œ<strong>æœ€å¤šé€‰ä¸€æ¬¡</strong></h6>
<blockquote>
<p>==å…¬å…±éƒ¨åˆ†==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">// ä¸»å‡½æ•°</span></span><br><span class="line">&gt;<span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; .....(......) &#123;</span><br><span class="line"></span><br><span class="line">  backtrack(........);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// å›æº¯ç®—æ³•æ ¸å¿ƒå‡½æ•°ï¼Œéå†å­é›†é—®é¢˜çš„å›æº¯æ ‘</span></span><br><span class="line">&gt;<span class="keyword">void</span> <span class="title function_">backtrack</span><span class="params">(.......)</span> &#123;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶</span></span><br><span class="line">  <span class="keyword">for</span> (.......) &#123;</span><br><span class="line">      <span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">      track.addLast(nums[i]  /  i);</span><br><span class="line">      <span class="comment">// é€’å½’</span></span><br><span class="line">      backtrack(......);  </span><br><span class="line">      <span class="comment">// æ’¤é”€é€‰æ‹©    </span></span><br><span class="line">      track.removeLast();</span><br><span class="line">  &#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å­é›†|ç»„åˆä¸­</strong>ï¼š</p>
<p>ä½¿ç”¨ <code>start</code> å˜é‡ä¿è¯å…ƒç´  <code>nums[start]</code> ä¹‹ååªä¼šå‡ºç° <code>nums[start+1..]</code> ä¸­çš„å…ƒç´ ï¼Œé€šè¿‡å›ºå®šå…ƒç´ çš„ç›¸å¯¹ä½ç½®ä¿è¯ä¸å‡ºç°é‡å¤çš„å­é›†</p>
<p><strong>æ’åˆ—ä¸­</strong>ï¼š</p>
<p>é¢å¤–ä½¿ç”¨ <code>used</code> æ•°ç»„æ¥æ ‡è®°å“ªäº›å…ƒç´ è¿˜å¯ä»¥è¢«é€‰æ‹©ã€‚</p>
<p>==å­é›†==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;ä¸»å‡½æ•°:</span><br><span class="line"><span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">backtracking(nums,start);</span><br><span class="line"></span><br><span class="line">&gt;å›æº¯å‡½æ•°:</span><br><span class="line">&gt;<span class="comment">// åŠ å…¥é›†åˆ</span></span><br><span class="line">result.add(<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(track));</span><br><span class="line">&gt;<span class="comment">// æ ¸å¿ƒ   i ä»start å¼€å§‹</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> startIndex; i &lt; nums.length; i++) &#123;</span><br><span class="line">&gt;<span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">      track.addLast(nums[i]);</span><br><span class="line">&gt;<span class="comment">//é€’å½’</span></span><br><span class="line">      backtracking(nums,i+<span class="number">1</span>);</span><br><span class="line">&gt;<span class="comment">//æ’¤é”€é€‰æ‹©   </span></span><br><span class="line">      track.removeLast();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br></pre></td></tr></table></figure>
<p>==ç»„åˆ==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;ä¸»å‡½æ•°:</span><br><span class="line"><span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">1</span>;     <span class="comment">//// å› ä¸ºè¿™é‡Œçš„æ•°ç»„æ˜¯ä» 1 å¼€å§‹ æ‰€ä»¥ä¹Ÿå°†å…ƒç´ ä¸‹æ ‡ä»1 å¼€å§‹</span></span><br><span class="line">&gt;backtracking(start,k,n);</span><br><span class="line">&gt;<span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">&gt;å›æº¯å‡½æ•°:</span><br><span class="line">&gt;<span class="comment">// åŠ å…¥é›†åˆ</span></span><br><span class="line">	<span class="keyword">if</span>(track.size() == k )&#123;</span><br><span class="line">      res.add(<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(track));</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&gt;<span class="comment">// æ ¸å¿ƒ   i ä»start å¼€å§‹</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start;i&lt;= n;i++)&#123;</span><br><span class="line">&gt;<span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">      track.addLast(i);</span><br><span class="line">&gt;<span class="comment">//é€’å½’</span></span><br><span class="line">      backtracking(i+<span class="number">1</span>,k,n);</span><br><span class="line">&gt;<span class="comment">//æ’¤é”€é€‰æ‹©   </span></span><br><span class="line">      track.removeLast();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>; </span><br></pre></td></tr></table></figure>
<p>==ç»„åˆæ€»å’ŒIII==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&gt;ä¸»å‡½æ•°:</span><br><span class="line"><span class="type">int</span> nums[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line"> <span class="keyword">if</span>(n&gt;<span class="number">55</span>)  <span class="keyword">return</span> res;</span><br><span class="line">&gt;<span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">1</span>;     <span class="comment">// å› ä¸ºè¿™é‡Œçš„æ•°ç»„æ˜¯ä» 1 å¼€å§‹ æ‰€ä»¥ä¹Ÿå°†å…ƒç´ ä¸‹æ ‡ä» 1 å¼€å§‹</span></span><br><span class="line">&gt;backtracking(nums,start,k,n);</span><br><span class="line">&gt;<span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;å›æº¯å‡½æ•°:</span><br><span class="line">&gt;<span class="comment">// åŠ å…¥é›†åˆ</span></span><br><span class="line">&gt;<span class="keyword">if</span>(n == sum &amp;&amp; track.size() == k )&#123;</span><br><span class="line">      res.add(<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(track));</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&gt;<span class="comment">// æ ¸å¿ƒ   i ä»start å¼€å§‹</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start;i&lt;= <span class="number">9</span> ;i++)&#123;     é¢˜ç›®è¦æ±‚å°±æ˜¯ å›ºå®šé•¿åº¦ <span class="number">9</span></span><br><span class="line">&gt;<span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">      track.add(nums[i]);</span><br><span class="line">      sum += i;</span><br><span class="line">&gt;<span class="comment">//é€’å½’</span></span><br><span class="line">       backtracking(nums,i+<span class="number">1</span>,k,n);</span><br><span class="line">&gt;<span class="comment">//æ’¤é”€é€‰æ‹©   </span></span><br><span class="line">      track.removeLast();</span><br><span class="line">      sum -= i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>==å…¨æ’åˆ—==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;ä¸»å‡½æ•°:</span><br><span class="line">&gt;<span class="keyword">if</span>(nums.length == <span class="number">0</span> )  <span class="keyword">return</span> res;</span><br><span class="line">  <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">boolean</span>  used[] = <span class="keyword">new</span> <span class="title class_">boolean</span> [nums.length];</span><br><span class="line">  backtracking(nums,used);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&gt;å›æº¯å‡½æ•°:</span><br><span class="line">&gt;<span class="comment">// åŠ å…¥é›†åˆ</span></span><br><span class="line">&gt;<span class="keyword">if</span>(track.size() == nums.length)&#123;</span><br><span class="line">      res.add(<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(track));</span><br><span class="line">      <span class="keyword">return</span> ;</span><br><span class="line"> &#125;</span><br><span class="line">&gt;<span class="comment">// æ ¸å¿ƒ i ä»start å¼€å§‹</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(used[i]) <span class="keyword">continue</span>;    <span class="comment">// ä¿è¯å…ƒç´ ä¸é‡å¤</span></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">      track.add(nums[i]);</span><br><span class="line">      used[i]= <span class="literal">true</span>;</span><br><span class="line">&gt;<span class="comment">//é€’å½’</span></span><br><span class="line">       backtracking(nums,used);</span><br><span class="line">&gt;<span class="comment">//æ’¤é”€é€‰æ‹©   </span></span><br><span class="line">    track.removeLast();</span><br><span class="line">      used[i]= <span class="literal">false</span>;</span><br><span class="line">&gt;&#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>==æ€»ç»“==</p>
<p>â€‹	å…¶å®æœ€åŸºæœ¬çš„æ¡†æ¶éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ— éå°±æ˜¯åœ¨ä¸ªåŸºç¡€ä¸Šè¦ ä¼ çš„å‚æ•° æœ‰æ‰€åŒºåˆ« è€Œéœ€è¦çš„ä¸åŒçš„å®šä¹‰æœ‰æ‰€ä¸åŒç½¢äº†</p>
</blockquote>
<h6 id="2ã€å…ƒç´ å¯ä»¥é‡å¤ï¼Œæœ€å¤šé€‰ä¸€æ¬¡"><strong>2ã€å…ƒç´ å¯ä»¥é‡å¤</strong>ï¼Œ<strong>æœ€å¤šé€‰ä¸€æ¬¡</strong></h6>
<blockquote>
<p><strong>å­é›† å’Œ æ’åˆ—</strong> æœ¬è´¨å’Œ<strong>1ã€â€¦â€¦</strong> çš„å†…å®¹æ˜¯å‡ ä¹æ²¡æœ‰åŒºåˆ«çš„ï¼Œå°±æ˜¯æ·»åŠ  æˆ–è€…æ”¹å˜äº†å‡ è¡Œè€Œå·²</p>
<p>æ’åºå’Œ forå¾ªç¯æ·»åŠ çš„è¡Œçš„  ç›®çš„æ˜¯ï¼š<strong>ä¿è¯ç›¸åŒå…ƒç´ åœ¨æ’åˆ—ä¸­çš„ç›¸å¯¹ä½ç½®ä¿æŒä¸å˜</strong>ã€‚</p>
<p><strong>æ’åˆ—</strong>ï¼š</p>
<p><strong>æ ‡å‡†å…¨æ’åˆ—ç®—æ³•ä¹‹æ‰€ä»¥å‡ºç°é‡å¤ï¼Œæ˜¯å› ä¸ºæŠŠç›¸åŒå…ƒç´ å½¢æˆçš„æ’åˆ—åºåˆ—è§†ä¸ºä¸åŒçš„åºåˆ—ï¼Œä½†å®é™…ä¸Šå®ƒä»¬åº”è¯¥æ˜¯ç›¸åŒçš„ï¼›è€Œå¦‚æœå›ºå®šç›¸åŒå…ƒç´ å½¢æˆçš„åºåˆ—é¡ºåºï¼Œå½“ç„¶å°±é¿å…äº†é‡å¤</strong>ã€‚</p>
<p>==å­é›†==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;ä¸»å‡½æ•°ï¼š</span><br><span class="line"> Arrays.sort(nums);</span><br><span class="line">&gt;<span class="keyword">for</span> å¾ªç¯ï¼š</span><br><span class="line"> <span class="keyword">if</span> (i &gt; start &amp;&amp; nums[i] == nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">     <span class="keyword">continue</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç»„åˆæ€»å’Œ å’Œ **1ã€**æ˜¯æœ‰äº›åŒºåˆ«</p>
</blockquote>
<p>==ç»„åˆæ€»å’ŒII==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="type">int</span> <span class="variable">targetsum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&gt;ä¸»å‡½æ•°:</span><br><span class="line">  Arrays.sort(candidates);     </span><br><span class="line">  <span class="keyword">if</span>(candidates.length == <span class="number">0</span> )  <span class="keyword">return</span> result;</span><br><span class="line">  <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  backtracking(candidates,start,target);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&gt;å›æº¯å‡½æ•°:</span><br><span class="line">&gt;<span class="comment">// åŠ å…¥é›†åˆ</span></span><br><span class="line">	<span class="keyword">if</span>(target &lt;  targetsum)   <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">if</span>(target == targetsum)&#123;</span><br><span class="line">      result.add(<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(track));</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&gt;<span class="comment">// æ ¸å¿ƒ   i ä»start å¼€å§‹</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt; nums.length; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span>( i&gt;start &amp;&amp; nums[i] == nums[i-<span class="number">1</span>] ) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">       track.addLast(nums[i]);</span><br><span class="line">      targetsum += nums[i];</span><br><span class="line">&gt;<span class="comment">//é€’å½’</span></span><br><span class="line">      backtracking(nums,used);</span><br><span class="line">&gt;<span class="comment">//æ’¤é”€é€‰æ‹©   </span></span><br><span class="line">    	track.removeLast();</span><br><span class="line">      targetsum -= nums[i];</span><br><span class="line">&gt;&#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…¶å®ä¸Šé¢çš„<strong>ç»„åˆæ€»å’ŒII</strong>  å’Œ  æ»¡è¶³<strong>1ã€<strong>ä¸­çš„</strong>éç»„åˆæ€»å’ŒIII</strong>  çš„ç»„åˆæ€»å’Œçš„å½¢å¼ä¹Ÿå°±å¤šäº†ä¸¤è¡Œ</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;ä¸»å‡½æ•°ï¼š</span><br><span class="line">&gt;Arrays.sort(candidates);  </span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">for</span> å¾ªç¯å†…</span><br><span class="line">&gt;<span class="keyword">if</span>( i&gt;start &amp;&amp; nums[i] == nums[i-<span class="number">1</span>] ) <span class="keyword">continue</span>;</span><br></pre></td></tr></table></figure>
<p>==å…¨æ’åˆ—==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;ä¸»å‡½æ•°ï¼š</span><br><span class="line">&gt;Arrays.sort(nums);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">for</span> å¾ªç¯å†…</span><br><span class="line">&gt;<span class="keyword">if</span>( i&gt;<span class="number">0</span> &amp;&amp; nums[i] == nums[i-<span class="number">1</span>] &amp;&amp; !used[i-<span class="number">1</span>]) <span class="keyword">continue</span>;  <span class="comment">//!used[i-1]</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="3ã€å…ƒç´ ä¸å¯ä»¥é‡å¤ï¼Œå¯ä»¥é€‰-n-æ¬¡"><strong>3ã€å…ƒç´ ä¸å¯ä»¥é‡å¤</strong>ï¼Œ<strong>å¯ä»¥é€‰ n æ¬¡</strong></h6>
<blockquote>
<p>å’Œ<strong>1ã€â€¦.</strong> åç€æ¥;ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<p><strong>æ ‡å‡†çš„å­é›†/ç»„åˆé—®é¢˜æ˜¯å¦‚ä½•ä¿è¯ä¸é‡å¤ä½¿ç”¨å…ƒç´ çš„</strong>ï¼Ÿâ€”åœ¨äº <code>backtrack</code> é€’å½’æ—¶è¾“å…¥çš„å‚æ•° <code>start</code>;</p>
<p>ä¸‹é¢åªæ˜¯å’Œ<strong>1ã€â€¦â€¦</strong> è¿›è¡Œæ¯”è¾ƒçš„å·®åˆ«</p>
<p>==ç»„åˆæ€»å’Œ==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span>(.....)&#123;</span><br><span class="line">&gt;...</span><br><span class="line">&gt;backtracking(nums,i,target);</span><br><span class="line">&gt;...</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸‹é¢ä¸ºè¡¥å……</p>
</blockquote>
<p>==å­é›†==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;backtracking å‡½æ•°ï¼š</span><br><span class="line">&gt;<span class="comment">//å­é›†ä¸ªæ•°ç­‰äºä¸‰çš„ï¼Œå› ä¸ºå­é›†çš„ä¸ªæ•°æœ€å¤§æ‰æ˜¯ä¸‰  æ‰€ä»¥ç»ˆæ­¢æ¡ä»¶å°±æ˜¯ç­‰äºä¸‰çš„æ—¶å€™è¾“å‡º</span></span><br><span class="line">&gt;<span class="keyword">if</span>(track.size()  ==  candidates.length) &#123;</span><br><span class="line"> result.add(<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(track));</span><br><span class="line"> <span class="keyword">return</span>;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;result.add(<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(track));  <span class="comment">//å­é›†ä¸ªæ•°ä¸ä¸º &lt; 3çš„</span></span><br><span class="line"><span class="keyword">for</span>(...)&#123;</span><br><span class="line">  ....</span><br><span class="line">&gt;backtracking(candidates,i); <span class="comment">// å®ç°ç»“æœ ä¸ä¼šå‡ºç°  1ï¼Œ2ï¼Œ1  å’Œ 1ï¼Œ1ï¼Œ2 çš„æƒ…å†µ</span></span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<p>==å…¨æ’åˆ—==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;LinkedList&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">&gt;LinkedList&lt;Integer&gt; track = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">&gt;<span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">permute</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums.length == <span class="number">0</span>)  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    backtracking(nums);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backtracking</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(track.size() == nums.length) &#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(track));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ;i&lt; nums.length;i++) &#123;</span><br><span class="line">        track.add(nums[i]);</span><br><span class="line">        backtracking(nums);</span><br><span class="line">        track.removeLast();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>å…¨æ’åˆ—</strong>å°±æ˜¯å°†  used[] æ•°ç»„è¿™ä¸€åˆ¤å®šæ¡ä»¶æœ‰å…³çš„ä»£ç   <strong>å…¨éƒ¨å»é™¤</strong></p>
<p><strong>å­é›†</strong>è¦åŠ ä¸Š ç»ˆæ­¢æ¡ä»¶ ï¼ˆæ ˆå…ƒç´  å¤§å° <strong>ç­‰äº</strong> å…ƒç´ ä¸ªæ•°ï¼‰ï¼Œå¦åˆ™ä¼š æ ˆæº¢å‡ºï¼›è€Œä¸”åœ¨å°äº å…ƒç´ ä¸ªæ•°çš„æ—¶å€™ä¹Ÿè¦åŠ åˆ°æ ˆä¸­ï¼Œ</p>
</blockquote>
<h4 id="æ£‹ç›˜é—®é¢˜ï¼š">æ£‹ç›˜é—®é¢˜ï¼š</h4>
<h6 id="Nçš‡å">Nçš‡å</h6>
<h6 id="è§£æ•°ç‹¬ï¼š">è§£æ•°ç‹¬ï¼š</h6>
<blockquote>
<p><strong>æˆ‘ä»¬å¹¶ä¸æƒ³å¾—åˆ°æ‰€æœ‰åˆæ³•çš„ç­”æ¡ˆï¼Œåªæƒ³è¦ä¸€ä¸ªç­”æ¡ˆ</strong></p>
<p>åªè¦ç”¨ä¸€ä¸ªå¤–éƒ¨å˜é‡(booleanå‹)è®°å½•æ˜¯å¦æ‰¾åˆ°ç­”æ¡ˆï¼Œæ‰¾åˆ°ç­”æ¡ˆåå°±åœæ­¢ç»§ç»­é€’å½’å³å¯ï¼š</p>
</blockquote>
<h4 id="åˆ†å‰²é—®é¢˜">åˆ†å‰²é—®é¢˜</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//93 å¤ä½IP</span></span><br><span class="line"></span><br><span class="line">     List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// åˆ†æˆçš„æ®µæ•°</span></span><br><span class="line">    LinkedList&lt;String&gt; path = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">restoreIpAddresses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        backtracking(s,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span>  res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">backtracking</span><span class="params">(String s, <span class="type">int</span> startIndex)</span> &#123;</span><br><span class="line">        <span class="comment">//å½“å·²ç» åˆ†ä¸ºå››æ®µçš„æ—¶å€™å°±éœ€è¦ å°†å…¶å¯¹æ¯ä¸€æ®µè¿›è¡ŒåŠ  . è¿›è¡Œåˆ†å‰²</span></span><br><span class="line">        <span class="keyword">if</span>(startIndex == s.length() &amp;&amp; path.size() == <span class="number">4</span>)&#123;</span><br><span class="line">            res.add(String.join(<span class="string">&quot;.&quot;</span>,path));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//çŸ­çŸ­å‡ è¡Œå›æº¯   </span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">            <span class="comment">// å¦‚æœä¸æ˜¯åˆæ³•å­—ç¬¦ä¸²</span></span><br><span class="line">            <span class="keyword">if</span>(!isValid(s,startIndex,i)) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">//æ˜¯åˆæ³•çš„</span></span><br><span class="line">            <span class="keyword">if</span>(path.size()&gt;=<span class="number">4</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="comment">// è¿™é‡Œæ˜¯å°† éå†çš„æ»¡è¶³ä¸‹æ ‡çš„å­ä¸²æ”¾è¿›pathä¸­</span></span><br><span class="line">            path.add(s.substring(startIndex,i+<span class="number">1</span>));</span><br><span class="line">            backtracking(s,i+<span class="number">1</span>);</span><br><span class="line">            path.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸»è¦æ˜¯åˆ¤æ–­åˆæ³•æ€§çš„å‡½æ•°</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s,<span class="type">int</span> startIndex,<span class="type">int</span> end)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> end-startIndex+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(length&lt;=<span class="number">0</span> || length&gt;<span class="number">3</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(length == <span class="number">1</span> ) <span class="keyword">return</span> <span class="literal">true</span>;  <span class="comment">//ä¸èƒ½å’Œ&lt;=2åˆå¹¶</span></span><br><span class="line">        <span class="comment">// æ’é™¤çš„æ˜¯startIndex </span></span><br><span class="line">         <span class="keyword">if</span>(s.charAt(startIndex) == <span class="string">&#x27;0&#x27;</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">         <span class="keyword">if</span>(length &lt;=<span class="number">2</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;    </span><br><span class="line">        <span class="keyword">if</span>(Integer.parseInt(s.substring(startIndex,startIndex+length))&gt;<span class="number">255</span>)    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="è´ªå¿ƒ">è´ªå¿ƒ</h2>
<h4 id="è´ªå¿ƒé€‰æ‹©æ€§è´¨">è´ªå¿ƒé€‰æ‹©æ€§è´¨:</h4>
<blockquote>
<p>ç®€å•è¯´å°±æ˜¯ï¼š</p>
<p>æ¯ä¸€æ­¥éƒ½åšå‡ºä¸€ä¸ªå±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©ï¼Œæœ€ç»ˆçš„ç»“æœå°±æ˜¯å…¨å±€æœ€ä¼˜ã€‚</p>
<p>æ³¨æ„!è¿™æ˜¯ä¸€ç§ç‰¹æ®Šæ€§è´¨ï¼Œå…¶å®åªæœ‰ä¸€éƒ¨åˆ†é—®é¢˜æ‹¥æœ‰è¿™ä¸ªæ€§è´¨</p>
</blockquote>
<blockquote>
<p>==æ³¨==</p>
<p><strong>æ’åº</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">// Arrays.sort(points,(a,b)-&gt;(a[1]-b[1]));// å¯èƒ½å‡ºç°æº¢å‡ºæƒ…å†µ</span></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// Arrays.sort(points,Comparator.comparingInt(a-&gt;a[1]));//å‡åºæ’åº è§£å†³æº¢å‡ºæ–¹æ³•2  æ•ˆç‡è¾ƒä½ è°ƒç”¨å†…ç½®é™æ€æ–¹æ³•ï¼Œ æ•ˆç‡è¾ƒä½</span></span><br><span class="line"></span><br><span class="line">&gt;Arrays.sort(points,(a,b)-&gt;&#123;</span><br><span class="line">   <span class="keyword">if</span>(a[<span class="number">1</span>]&gt;b[<span class="number">1</span>]) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">if</span>(a[<span class="number">1</span>]&lt;b[<span class="number">1</span>]) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//ä¸Šè¿°æ–¹æ³•å¯èƒ½æº¢å‡º è§£å†³æ–¹æ³•1</span></span><br><span class="line">&gt;&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>æ—¶é—´å®‰æ’çš„é—®é¢˜ï¼Œæœ¬è´¨ä¸Šè®²å°±æ˜¯åŒºé—´è°ƒåº¦é—®é¢˜ï¼Œåæœ‰å…«ä¹å¾—æ’åºï¼Œç„¶åæ‰¾è§„å¾‹æ¥è§£å†³ã€‚</strong></p>
</blockquote>
<h4 id="ä¸€ä½æ•°ç»„çš„æ¸¸æˆ">ä¸€ä½æ•°ç»„çš„æ¸¸æˆ</h4>
<blockquote>
<p>è·³è·ƒæ¸¸æˆ ç›®æ ‡ç»ˆç‚¹æ˜¯ <code>nums.length-1</code></p>
<p>55 é¢˜ï¼šå¯ä»¥ä½¿ç”¨<code>æœ€å¤§è·³æ•°</code>ä½œä¸ºèƒ½å¦åˆ°è¾¾ç»ˆç‚¹çš„åˆ¤æ–­ä¼šæ›´å¥½ä¸€ç‚¹</p>
</blockquote>
<h4 id="äºŒç»´æ•°ç»„çš„åŒºé—´é—®é¢˜ï¼š">äºŒç»´æ•°ç»„çš„åŒºé—´é—®é¢˜ï¼š</h4>
<blockquote>
<p>&lt;å°±æ˜¯ çº¿æ®µé—®é¢˜ï¼›åˆå¹¶çº¿æ®µã€æ‰¾äº¤é›†â€¦&gt;</p>
<p><a href="https://labuladong.gitee.io/algo/di-san-zha-24031/jing-dian--a94a0/yi-ge-fang-93124/">åŒºé—´é—®é¢˜åˆé›†</a> : åŒºé—´äº¤é›†ã€åŒºé—´å¹¶é›†ã€åŒºé—´è¦†ç›–è¿™å‡ ä¸ªé—®é¢˜ã€‚</p>
</blockquote>
<h5 id="åšæ³•ï¼š">åšæ³•ï¼š</h5>
<blockquote>
<p>==1ã€æ’åº==</p>
<p>å¸¸è§çš„æ’åºæ–¹æ³•å°±æ˜¯æŒ‰ç…§åŒºé—´èµ·ç‚¹æ’åºï¼Œæˆ–è€…å…ˆæŒ‰ç…§èµ·ç‚¹å‡åºæ’åºï¼Œè‹¥èµ·ç‚¹ç›¸åŒï¼Œåˆ™æŒ‰ç…§ç»ˆç‚¹é™åºæ’åºã€‚å½“ç„¶ï¼Œå¦‚æœä½ éè¦æŒ‰ç…§ç»ˆç‚¹æ’åºï¼Œæ— éå¯¹ç§°æ“ä½œï¼Œæœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>==2ã€ç”»å›¾==</p>
<p>å°±æ˜¯è¯´ä¸è¦å·æ‡’ï¼Œå‹¤åŠ¨æ‰‹ï¼Œä¸¤ä¸ªåŒºé—´çš„ç›¸å¯¹ä½ç½®åˆ°åº•æœ‰å‡ ç§å¯èƒ½ï¼Œä¸åŒçš„ç›¸å¯¹ä½ç½®æˆ‘ä»¬çš„ä»£ç åº”è¯¥æ€ä¹ˆå»å¤„ç†ã€‚</p>
</blockquote>
<p><strong>åŒºé—´é—®é¢˜è‚¯å®šæŒ‰ç…§åŒºé—´çš„èµ·ç‚¹æˆ–è€…ç»ˆç‚¹è¿›è¡Œæ’åº</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ’åºä»£ç ï¼š</span></span><br><span class="line">     Arrays.sort(intervals, (a, b) -&gt; &#123;</span><br><span class="line">            <span class="comment">// å¯¹ èµ·ç‚¹ è¿›è¡Œå‡åºæ’åº</span></span><br><span class="line">            <span class="keyword">if</span>(a[<span class="number">0</span>]&gt;b[<span class="number">0</span>]) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(a[<span class="number">0</span>]&lt;b[<span class="number">0</span>]) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="comment">// å¯¹ ç»ˆç‚¹ è¿›è¡Œé™åºæ’åº</span></span><br><span class="line">            <span class="keyword">return</span> b[<span class="number">1</span>] - a[<span class="number">1</span>];</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="comment">//æ‰“å°æ’åºä¹‹åçš„ä»£ç </span></span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; intervals.length; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; intervals[i].length; j++) &#123;</span><br><span class="line">                    System.out.print(intervals[i][j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println();</span><br><span class="line">        &#125; </span><br></pre></td></tr></table></figure>
<h5 id="é—®é¢˜åˆ†ç±»ï¼š">é—®é¢˜åˆ†ç±»ï¼š</h5>
<h6 id="æ±‚é‡å åŒºé—´ä¸ªæ•°ä¸€ç±»é¢˜ï¼š">æ±‚é‡å åŒºé—´ä¸ªæ•°ä¸€ç±»é¢˜ï¼š</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰åˆå§‹æ—¶çš„å˜é‡</span></span><br><span class="line">      <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>   / <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span><span class="number">1</span> ;i&lt;intervals.length;i++)&#123;</span><br><span class="line">          <span class="keyword">if</span>(intervals[i][<span class="number">0</span>]&lt; intervals[i-<span class="number">1</span>][<span class="number">1</span>])&#123;</span><br><span class="line">              <span class="comment">// å– æœ€å° å³ä¾§å¹¶é›†</span></span><br><span class="line">              intervals[i][<span class="number">1</span>] = Math.min(intervals[i][<span class="number">1</span>],intervals[i-<span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">              res++;</span><br><span class="line">          &#125;  </span><br><span class="line">      &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h6 id="æ±‚å®Œå…¨è¦†ç›–ä¸€ç±»é¢˜">æ±‚å®Œå…¨è¦†ç›–ä¸€ç±»é¢˜</h6>
<blockquote>
<p>==éœ€è¦åˆ†ç±»è®¨è®º==</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ†ä¸ºä¸‰ç§æƒ…å†µ</span></span><br><span class="line">        <span class="comment">//è¦†ç›–ã€ç›¸äº¤ã€ä¸ç›¸äº¤</span></span><br><span class="line">        <span class="comment">//å®šä¹‰åˆå§‹æ—¶çš„å˜é‡</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> intervals[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> intervals[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;intervals.length;i++)&#123;</span><br><span class="line"><span class="comment">//å®Œå…¨è¦†ç›–æ—¶è¦†ç›–</span></span><br><span class="line">        <span class="keyword">if</span>(left&lt;= intervals[i][<span class="number">0</span>] &amp;&amp;  right &gt;= intervals[i][<span class="number">1</span>])&#123;</span><br><span class="line">            res ++ ;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç›¸äº¤ï¼Œå–æœ€å¤§ å³ä¾§å¹¶é›†</span></span><br><span class="line">            <span class="keyword">if</span>(right&gt;=intervals[i][<span class="number">0</span>])&#123;</span><br><span class="line">                right = Math.max(right,intervals[i][<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸ç›¸äº¤</span></span><br><span class="line">            <span class="keyword">if</span>(right &lt; intervals[i][<span class="number">0</span>])&#123;</span><br><span class="line">                left = intervals[i][<span class="number">0</span>];</span><br><span class="line">                right=intervals[i][<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<h6 id="æ±‚åˆå¹¶ï¼ˆå¹¶é›†ï¼‰ç±»é¢˜">æ±‚åˆå¹¶ï¼ˆå¹¶é›†ï¼‰ç±»é¢˜</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">LinkedList&lt;<span class="type">int</span>[]&gt; result =  <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// å°†ç»“æœé›†å­˜æ”¾æ’å¥½åºä¹‹åçš„ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">result.add(intervals[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">1</span>;i&lt; intervals.length;i++)&#123;</span><br><span class="line">            <span class="comment">// å–ç»“æœé›†ä¸­çš„å…ƒç´ å’Œå½“å‰å…ƒç´ è¿›è¡Œæ¯”è¾ƒã€</span></span><br><span class="line">            <span class="comment">// å¦‚æœå½“å‰å…ƒç´  å·¦åæ ‡æ¯”ç»“æœé›†çš„æœ€åä¸€ä¸ªå…ƒç´  å³åæ ‡å°ï¼Œ</span></span><br><span class="line">    		<span class="comment">//åˆ™å°†ç»“æœé›†çš„æœ€åä¸€ä¸ªå…ƒç´ è¿›è¡Œåˆå¹¶ï¼Œå¹¶åŠ å…¥ç»“æœé›†ï¼Œæˆä¸ºæœ«å°¾å…ƒç´ </span></span><br><span class="line">              </span><br><span class="line"><span class="keyword">if</span>(intervals[i][<span class="number">0</span>] &lt;= result.getLast()[<span class="number">1</span>])&#123;</span><br><span class="line">                <span class="comment">//å¼€å§‹åæ ‡å°±æ˜¯ ç»“æœé›† ä¸­çš„ ç»“å°¾åæ ‡çš„å·¦èŠ‚ç‚¹</span></span><br><span class="line"><span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> result.getLast()[<span class="number">0</span>];</span><br><span class="line">                <span class="comment">//ç»“æŸåæ ‡å°±æ˜¯ å½“å‰æ¯”è¾ƒçš„åæ ‡çš„æœ€å¤§èŠ‚ç‚¹</span></span><br><span class="line"><span class="type">int</span> <span class="variable">end</span>  <span class="operator">=</span> Math.max(intervals[i][<span class="number">1</span>],result.getLast()[<span class="number">1</span>]);</span><br><span class="line">                <span class="comment">// ç§»é™¤ç»“æœé›†ä¸­çš„ æœ€åä¸€ä¸ªåæ ‡ </span></span><br><span class="line">result.removeLast();</span><br><span class="line">                <span class="comment">// å¹¶å°†å½“å‰åæ ‡åŠ å…¥ç»“æœé›†</span></span><br><span class="line">result.addLast(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;start,end&#125;);</span><br><span class="line">            <span class="comment">// å¦‚æœå½“å‰å…ƒç´  å·¦åæ ‡æ¯”ç»“æœé›†çš„æœ€åä¸€ä¸ªå…ƒç´  å³åæ ‡å¤§ï¼Œ</span></span><br><span class="line">    		<span class="comment">//åˆ™å°†å½“å‰å…ƒç´ ç›´æ¥åŠ å…¥ç»“æœé›†ï¼Œæˆä¸ºæœ«å°¾å…ƒç´ </span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> result.add(intervals[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result.toArray(<span class="keyword">new</span> <span class="title class_">int</span>[result.size()][]);</span><br></pre></td></tr></table></figure>
<h6 id="æ±‚äº¤é›†ç±»é¢˜">æ±‚äº¤é›†ç±»é¢˜</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ±‚äº¤é›†</span></span><br><span class="line">            LinkedList&lt;<span class="type">int</span> []&gt;  result = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">            <span class="comment">//åŒæŒ‡é’ˆ</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">first</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">second</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">           <span class="keyword">while</span>(first &lt; firstList.length  &amp;&amp;  second &lt; secondList.length)&#123;</span><br><span class="line">               <span class="comment">//å·¦è¾¹å–æœ€å¤§å€¼</span></span><br><span class="line">               <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> Math.max(firstList[first][<span class="number">0</span>],secondList[second][<span class="number">0</span>]);</span><br><span class="line">               <span class="comment">//å³è¾¹å–æœ€å°å€¼</span></span><br><span class="line">               <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> Math.min(firstList[first][<span class="number">1</span>],secondList[second][<span class="number">1</span>]);</span><br><span class="line">                <span class="comment">//èƒ½å¤Ÿæ»¡è¶³åŸºæœ¬çš„åŒºé—´æˆç«‹æ¡ä»¶</span></span><br><span class="line">               <span class="keyword">if</span>(left &lt;= right)     result.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;left,right&#125;);</span><br><span class="line">               <span class="keyword">if</span>(firstList[first][<span class="number">1</span>]&lt; secondList[second][<span class="number">1</span>])&#123;</span><br><span class="line">                   first++;</span><br><span class="line">               &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                   second++;</span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line">            <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>][]);</span><br></pre></td></tr></table></figure>
<h6 id="æ±‚æ‹¼æ¥ç±»é¢˜">æ±‚æ‹¼æ¥ç±»é¢˜</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(clips[<span class="number">0</span>][<span class="number">0</span>] != <span class="number">0</span> )   <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">nexttime</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;clips.length;i++)&#123;</span><br><span class="line">   <span class="comment">//æ–°çš„ å·¦ä¾§è¾¹ç•Œ æ¯”start å¤§çš„æ—¶å€™</span></span><br><span class="line"><span class="keyword">if</span>(clips[i][<span class="number">0</span>] &gt; start)&#123;</span><br><span class="line">     start = nexttime ;  <span class="comment">//å°† start èµ‹å€¼ä¸º  ä¸Šä¸€è½®çš„nexttime, æ­¤æ—¶å‡ºç°äº†æ–°çš„start</span></span><br><span class="line">     res++;          <span class="comment">//å‡ºç°æ–°çš„ start å†++</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(clips[i][<span class="number">0</span>] &lt;= start)&#123;  <span class="comment">////æ–°çš„ å·¦ä¾§è¾¹ç•Œ æ¯”start å°çš„æ—¶å€™ ä¸ä¸€å®šæ›¿æ¢</span></span><br><span class="line">      nexttime = Math.max(nexttime, clips[i][<span class="number">1</span>]);   <span class="comment">//å‡ºç°æ–°çš„nexttime</span></span><br><span class="line">      <span class="keyword">if</span>(nexttime &gt;= time) <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(nexttime &lt; time)   <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> res;</span><br></pre></td></tr></table></figure>
<h2 id="DFS">==DFS==</h2>
<h4 id="ä¸€èˆ¬æ¨¡ç‰ˆ">ä¸€èˆ¬æ¨¡ç‰ˆ</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> i, <span class="type">int</span> j, <span class="type">boolean</span>[][] visited)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span> || i &gt;= m || j &gt;= n) &#123;</span><br><span class="line">        <span class="comment">// è¶…å‡ºç´¢å¼•è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (visited[i][j]) &#123;</span><br><span class="line">        <span class="comment">// å·²éå†è¿‡ (i, j)</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿›å…¥èŠ‚ç‚¹ (i, j)</span></span><br><span class="line">    visited[i][j] = <span class="literal">true</span>;</span><br><span class="line">    dfs(grid, i - <span class="number">1</span>, j, visited); <span class="comment">// ä¸Š</span></span><br><span class="line">    dfs(grid, i + <span class="number">1</span>, j, visited); <span class="comment">// ä¸‹</span></span><br><span class="line">    dfs(grid, i, j - <span class="number">1</span>, visited); <span class="comment">// å·¦</span></span><br><span class="line">    dfs(grid, i, j + <span class="number">1</span>, visited); <span class="comment">// å³</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ–¹å‘æ•°ç»„ï¼Œ</span></span><br><span class="line"><span class="comment">//åˆ†åˆ«ä»£è¡¨ä¸Šã€ä¸‹ã€å·¦ã€å³</span></span><br><span class="line"><span class="type">int</span>[][] dirs = <span class="keyword">new</span> <span class="title class_">int</span>[][]&#123;&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,-<span class="number">1</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> i, <span class="type">int</span> j, <span class="type">boolean</span>[][] visited)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span> || i &gt;= m || j &gt;= n) &#123;</span><br><span class="line">        <span class="comment">// è¶…å‡ºç´¢å¼•è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (visited[i][j]) &#123;</span><br><span class="line">        <span class="comment">// å·²éå†è¿‡ (i, j)</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿›å…¥èŠ‚ç‚¹ (i, j)</span></span><br><span class="line">    visited[i][j] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// é€’å½’éå†ä¸Šä¸‹å·¦å³çš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] d : dirs) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">next_i</span> <span class="operator">=</span> i + d[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">next_j</span> <span class="operator">=</span> j + d[<span class="number">1</span>];</span><br><span class="line">        dfs(grid, next_i, next_j, visited);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç¦»å¼€èŠ‚ç‚¹ (i, j)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="äºŒç»´æ•°ç»„ï¼ˆç½‘æ ¼ï¼‰ä¸­çš„DFS">äºŒç»´æ•°ç»„ï¼ˆç½‘æ ¼ï¼‰ä¸­çš„DFS</h4>
<p>ä¸€èˆ¬çš„ä½ç½®ä¸ºä¸Šä¸‹å·¦å³ çš„4 ä¸ªä½ç½®&lt;==æ¯”å¦‚ç»å…¸çš„å²›å±¿é—®é¢˜==&gt;</p>
<p>ä¹Ÿå¯èƒ½æ˜¯ä¸Šä¸‹å·¦å³  å·¦ä¸Šå·¦ä¸‹  å³ä¸Šå³ä¸‹  çš„8 ä¸ªä½ç½®</p>
<h5 id="å¼•å…¥ï¼š"><strong>å¼•å…¥ï¼š</strong></h5>
<p>å…ˆç†è§£ä¸€ä¸‹äºŒå‰æ ‘çš„ é€’å½’ï¼ˆDFS éå†ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">traverse</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­ base case      ---------è¦ç´ 1</span></span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®¿é—®ä¸¤ä¸ªç›¸é‚»ç»“ç‚¹ï¼šå·¦å­ç»“ç‚¹ã€å³å­ç»“ç‚¹--------è¦ç´ 2</span></span><br><span class="line">    traverse(root.left);</span><br><span class="line">    traverse(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ç½‘æ ¼">ç½‘æ ¼</h5>
<h6 id="ä¸¤ä¸ªè¦ç´ ">ä¸¤ä¸ªè¦ç´ </h6>
<ul>
<li><strong>basecase</strong></li>
</ul>
<p>å°±æ˜¯   ç½‘æ ¼ä¸­ä¸éœ€è¦ç»§ç»­éå†ã€<code>grid[r][c]</code> ä¼šå‡ºç°æ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸çš„æ ¼å­ å³ï¼š</p>
<img src="https://gitee.com/Ryang1118/typora/raw/master/images/202304191221218.png" alt="image-20230419122140180" style="zoom:25%;">
<blockquote>
<p>è¿™ä¸€ç‚¹ç¨å¾®æœ‰äº›åç›´è§‰ï¼Œåæ ‡ç«Ÿç„¶å¯ä»¥ä¸´æ—¶è¶…å‡ºç½‘æ ¼çš„èŒƒå›´ï¼Ÿ</p>
<p>å¯ä»¥ç§°ä¹‹ä¸º  ã€Œå…ˆæ±¡æŸ“åæ²»ç†ã€â€”â€” ç”­ç®¡å½“å‰æ˜¯åœ¨å“ªä¸ªæ ¼å­ï¼Œå…ˆå¾€å››ä¸ªæ–¹å‘èµ°ä¸€æ­¥å†è¯´ï¼Œå¦‚æœå‘ç°èµ°å‡ºäº†ç½‘æ ¼èŒƒå›´å†èµ¶ç´§è¿”å›ã€‚</p>
<p>è¿™è·ŸäºŒå‰æ ‘çš„éå†æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œå…ˆé€’å½’è°ƒç”¨ï¼Œå‘ç° root == null å†è¿”å›ã€‚</p>
</blockquote>
<ul>
<li><strong>ç›¸é‚»èŠ‚ç‚¹   â€”â€”â€”â€”å››å‰ç»“æ„</strong></li>
</ul>
<img src="https://gitee.com/Ryang1118/typora/raw/master/images/202304191219258.png" style="zoom:25%;">
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­ base case</span></span><br><span class="line">    <span class="comment">// å¦‚æœåæ ‡ (r, c) è¶…å‡ºäº†ç½‘æ ¼èŒƒå›´ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (!inArea(grid, r, c)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®¿é—®ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªç›¸é‚»ç»“ç‚¹</span></span><br><span class="line">    dfs(grid, r - <span class="number">1</span>, c);</span><br><span class="line">    dfs(grid, r + <span class="number">1</span>, c);</span><br><span class="line">    dfs(grid, r, c - <span class="number">1</span>);</span><br><span class="line">    dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­åæ ‡ (r, c) æ˜¯å¦åœ¨ç½‘æ ¼ä¸­</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">inArea</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> &lt;= r &amp;&amp; r &lt; grid.length </span><br><span class="line">        	&amp;&amp; <span class="number">0</span> &lt;= c &amp;&amp; c &lt; grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="å¦‚ä½•é¿å…é‡åˆ°çš„é‡å¤æƒ…å†µå‘¢">å¦‚ä½•é¿å…é‡åˆ°çš„é‡å¤æƒ…å†µå‘¢</h5>
<ul>
<li>
<p>å°±æ˜¯å†ä½¿ç”¨ä¸€ä¸ªå˜é‡ï¼ˆvisitedï¼‰å°†æ‰€æœ‰ç»è¿‡çš„èŠ‚ç‚¹ éƒ½è¿›è¡Œæ ‡è®°</p>
</li>
<li>
<p>æˆ–è€…    å¦‚æœæ˜¯èŠ‚çœç©ºé—´çš„è¯è¿˜å¯ä»¥ åœ¨å…¶åŸºç¡€ä¸Šç›´æ¥æ›´æ”¹å½“å‰ä½ç½®çš„å€¼æ¯”å¦‚ï¼š ç›´æ¥å°†<code>grid[i][j]=1</code>æ”¹ä¸º <code>grid[i][j] = 2</code>;</p>
</li>
</ul>
<p>å²›å±¿ç±»é—®é¢˜çš„è§£æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>é¢˜ç›®</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://leetcode.cn/problems/number-of-enclaves/">1020. é£åœ°çš„æ•°é‡</a></td>
</tr>
<tr>
<td><a href="https://leetcode.cn/problems/number-of-closed-islands/">1254. ç»Ÿè®¡å°é—­å²›å±¿çš„æ•°ç›®</a></td>
</tr>
<tr>
<td><a href="https://leetcode.cn/problems/count-sub-islands/">1905. ç»Ÿè®¡å­å²›å±¿</a></td>
</tr>
<tr>
<td><a href="https://leetcode.cn/problems/number-of-islands/">200. å²›å±¿æ•°é‡</a></td>
</tr>
<tr>
<td><a href="https://leetcode.cn/problems/max-area-of-island/">695. å²›å±¿çš„æœ€å¤§é¢ç§¯</a></td>
</tr>
<tr>
<td>[463 å²›å±¿çš„å‘¨é•¿][<a href="https://leetcode.cn/problems/island-perimeter/">https://leetcode.cn/problems/island-perimeter/</a>]</td>
</tr>
<tr>
<td>[130 è¢«å›´ç»•çš„åŒºåŸŸ][<a href="https://leetcode.cn/problems/surrounded-regions/">https://leetcode.cn/problems/surrounded-regions/</a>]</td>
</tr>
</tbody>
</table>
<p>ä¸Šé¢çš„5 é¢˜çš„<code>dfs</code>å‡½æ•°ä»£ç éƒ½æ˜¯ä¸€æ ·çš„</p>
<blockquote>
<p>dfsçš„ä¸»è¦æ“ä½œ  : åœ¨å²›å±¿é—®é¢˜ä¸­çš„ä¸»è¦æ“ä½œ å°±æ˜¯ å°†éå†è¿‡çš„ç‚¹  ç”¨æµ·æ°´ç»§ç»­è¦†ç›–æ‰  é˜²æ­¢èµ°å›å¤´è·¯</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//dfs</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> [][]grid, <span class="type">int</span> i,<span class="type">int</span> j)</span>&#123;</span><br><span class="line">        <span class="type">int</span> m=grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="comment">//base case</span></span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span> || j&lt;<span class="number">0</span>||i&gt;=m||j&gt;=n  || grid[i][j] != é™†åœ°) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="keyword">if</span>(grid[i][j] != é™†åœ°) <span class="keyword">return</span> ;</span><br><span class="line">		<span class="comment">// dfs  çš„ä¸»è¦æ“ä½œ</span></span><br><span class="line">        grid[i][j] = éæµ·æ°´ã€éé™†åœ°deå€¼;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//ç›¸é‚»èŠ‚ç‚¹</span></span><br><span class="line">        dfs(grid,i-<span class="number">1</span>,j);</span><br><span class="line">        dfs(grid,i+<span class="number">1</span>,j);</span><br><span class="line">        dfs(grid,i,j-<span class="number">1</span>);</span><br><span class="line">        dfs(grid,i,j+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰¹åˆ«çš„æ˜¯ï¼šå²›å±¿çš„æœ€å¤§é¢ç§¯</span></span><br><span class="line"><span class="comment">// ç›¸é‚»èŠ‚ç‚¹ åº”è¯¥è¿™ä¹ˆå†™</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> [][]grid, <span class="type">int</span> i,<span class="type">int</span> j)</span>&#123;</span><br><span class="line">   <span class="type">int</span> m=grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="comment">//base case</span></span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span> || j&lt;<span class="number">0</span>||i&gt;=m||j&gt;=n  || grid[i][j] != é™†åœ°) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(grid[i][j] != é™†åœ°) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="comment">// dfs  çš„ä¸»è¦æ“ä½œ</span></span><br><span class="line">        grid[i][j] = éæµ·æ°´ã€éé™†åœ°deå€¼;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dfs(grid,i,j-<span class="number">1</span>)+</span><br><span class="line">        dfs(grid,i,j+<span class="number">1</span>)+</span><br><span class="line">        dfs(grid,i-<span class="number">1</span>,j)+</span><br><span class="line">        dfs(grid,i+<span class="number">1</span>,j)+<span class="number">1</span> ;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘¨é•¿</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> [][]grid, <span class="type">int</span> i,<span class="type">int</span> j)</span>&#123;</span><br><span class="line">   <span class="type">int</span> m=grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="comment">//base case</span></span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span> || j&lt;<span class="number">0</span>||i&gt;=m||j&gt;=n  || grid[i][j] != é™†åœ°) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(grid[i][j] != é™†åœ°)   <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">		<span class="comment">// dfs  çš„ä¸»è¦æ“ä½œ</span></span><br><span class="line">        grid[i][j] = <span class="string">&quot;éæµ·æ°´ã€éé™†åœ°deå€¼&quot;</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dfs(grid,i,j-<span class="number">1</span>)+</span><br><span class="line">        dfs(grid,i,j+<span class="number">1</span>)+</span><br><span class="line">        dfs(grid,i-<span class="number">1</span>,j)+</span><br><span class="line">        dfs(grid,i+<span class="number">1</span>,j)+<span class="number">1</span> ;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>ä¸»å‡½æ•°ä»£ç </code></p>
<blockquote>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯  <code>æ¯ä¸€æ¬¡ dfs ä¹‹åå°±ä¼šå°† æ‰€æœ‰çš„ é™†åœ°  ç½®ä¸º  0  æ‰€ä»¥æ¯ä¸€æ¬¡çš„å¼€å§‹ dfs çš„æ¡ä»¶å°±æ˜¯   if(grid[i][j] == é™†åœ°)</code></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numIslands</span><span class="params">(<span class="type">char</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                ......</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>  ...;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//200</span></span><br><span class="line">......</span><br><span class="line"><span class="keyword">if</span>(grid[i][j] == é™†åœ°)&#123;</span><br><span class="line">     res++;            </span><br><span class="line">     dfs(grid,i,j);  <span class="comment">// dfsæ‰¾åˆ°æ‰€æœ‰çš„ é“¾æ¥å²›å±¿ç¾¤ å¹¶æ·¹æ²¡  </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  res;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1254</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">     dfs(grid,<span class="number">0</span>,i);</span><br><span class="line">     dfs(grid,m-<span class="number">1</span>,i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    dfs(grid,i,<span class="number">0</span>);</span><br><span class="line">    dfs(grid,i,n-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(grid[i][j] == é™†åœ°)&#123;</span><br><span class="line">    res++;  </span><br><span class="line">    dfs(grid,i,j);  <span class="comment">// dfsæ‰¾åˆ°æ‰€æœ‰çš„ é“¾æ¥å²›å±¿ç¾¤ å¹¶æ·¹æ²¡  </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  res;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//1020</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">     dfs(grid,<span class="number">0</span>,i);</span><br><span class="line">     dfs(grid,m-<span class="number">1</span>,i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    dfs(grid,i,<span class="number">0</span>);</span><br><span class="line">    dfs(grid,i,n-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(grid[i][j] == é™†åœ°)&#123;</span><br><span class="line">    res++;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  res;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//1905</span></span><br><span class="line"><span class="comment">//å…ˆå°†åœ¨  grid2æ˜¯é™†åœ°  å’Œåœ¨   grid1 æ˜¯æµ·æ°´   åœ°æ–¹ åœ¨grid2 ä¸­å…¨éƒ¨è®¾ç½®ä¸º æµ·æ°´</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; grid1.length;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt;grid1[<span class="number">0</span>].length ; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid2[i][j] ==<span class="number">1</span> &amp;&amp; grid1[i][j] == <span class="number">0</span>)&#123;</span><br><span class="line">                    dfs(grid2,i,j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">// ç°åœ¨ grid2 ä¸­å‰©ä¸‹çš„å²›å±¿éƒ½æ˜¯å­å²›ï¼Œè®¡ç®—å²›å±¿æ•°é‡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid2[i][j] == <span class="number">1</span>)&#123;</span><br><span class="line">                    dfs(grid2,i,j);</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>  res;</span><br><span class="line"></span><br><span class="line"><span class="comment">//695</span></span><br><span class="line">  		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[i][j] ==<span class="number">1</span>)&#123;</span><br><span class="line">                    res = Math.max(res,dfs(grid,i,j));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;  </span><br><span class="line">   </span><br><span class="line"></span><br><span class="line"><span class="comment">//463</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[i][j] ==<span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span>  dfs(grid,i,j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//130</span></span><br><span class="line"><span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> board.length;  <span class="comment">//è¡Œ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> board[<span class="number">0</span>].length;  <span class="comment">//åˆ—</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(board[<span class="number">0</span>][i] == <span class="string">&#x27;O&#x27;</span>)   dfs(board,<span class="number">0</span>,i);</span><br><span class="line">            <span class="keyword">if</span>(board[m-<span class="number">1</span>][i] == <span class="string">&#x27;O&#x27;</span>) dfs(board,m-<span class="number">1</span>,i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][<span class="number">0</span>] == <span class="string">&#x27;O&#x27;</span>)   dfs(board,i,<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span>(board[i][n-<span class="number">1</span>] == <span class="string">&#x27;O&#x27;</span>) dfs(board,i,n-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;m; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(board[i][j] == <span class="string">&#x27;#&#x27;</span>)    board[i][j] = <span class="string">&#x27;O&#x27;</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(board[i][j] == <span class="string">&#x27;O&#x27;</span>)    board[i][j] = <span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="ä¸€é“å›°éš¾çš„DFS">==ä¸€é“å›°éš¾çš„DFS==</h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//827(ä¸¤æ¬¡bfs   ä¸€æ¬¡éå†æµ·æ°´  ä¸€æ¬¡éå†é™†åœ°)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">largestIsland</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">areaMark</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬ä¸€æ¬¡  DFS è¿›è¡Œ å„ä¸ªé™†åœ°çš„é¢ç§¯ è®¡ç®—</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[i][j] == <span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">area</span> <span class="operator">=</span> dfs(grid, i, j,areaMark);</span><br><span class="line">                    map.put(areaMark,area);</span><br><span class="line">                    areaMark++;</span><br><span class="line">                    res = Math.max(res, area);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(res == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬äºŒæ¬¡  DFS  è¿›è¡Œæµ·æ°´ å˜é™†åœ°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[i][j] == <span class="number">0</span>)&#123;</span><br><span class="line">                    HashSet&lt;Integer&gt; hashset = dfs2(grid, i, j); <span class="comment">//æŠŠä¸Šä¸‹å·¦å³å››é‚»æ”¾å…¥seté‡Œï¼Œsetçš„ç›®çš„æ˜¯å»é‡</span></span><br><span class="line">                    <span class="keyword">if</span> (hashset.size() &lt; <span class="number">1</span>)  <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">addIsland</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">for</span> (Integer set : hashset) &#123;</span><br><span class="line">                        addIsland += map.get(set);</span><br><span class="line">                        res = Math.max(res, addIsland);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> areaMark)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(i&gt;=m ||j &gt;= n || j &lt; <span class="number">0</span> || i &lt; <span class="number">0</span> || grid[i][j] != <span class="number">1</span>)  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// æ ‡è®°ä¸ºå·²ç»éå†è¿‡äº†</span></span><br><span class="line">        grid[i][j] = areaMark;</span><br><span class="line">        <span class="comment">// å°±æ˜¯æ±‚é£åœ°çš„æ•°é‡</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>+dfs(grid, i-<span class="number">1</span>, j,areaMark) + dfs(grid, i+<span class="number">1</span>, j, areaMark)+</span><br><span class="line">                dfs(grid, i, j-<span class="number">1</span>,areaMark) + dfs(grid, i, j+<span class="number">1</span>, areaMark) ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> HashSet&lt;Integer&gt; <span class="title function_">dfs2</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        HashSet&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(i+<span class="number">1</span>&lt;m &amp;&amp; j &lt; n &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; i+<span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[i+<span class="number">1</span>][j] != <span class="number">0</span>)</span><br><span class="line">        set.add(grid[i+<span class="number">1</span>][j]);</span><br><span class="line">       <span class="keyword">if</span>(i-<span class="number">1</span>&lt;m &amp;&amp; j &lt; n &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; i-<span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[i-<span class="number">1</span>][j] != <span class="number">0</span>)</span><br><span class="line">        set.add(grid[i-<span class="number">1</span>][j]);</span><br><span class="line">        <span class="keyword">if</span>(i&lt;m &amp;&amp; j+<span class="number">1</span>&lt; n &amp;&amp; j+<span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; i &gt;= <span class="number">0</span> &amp;&amp; grid[i][j+<span class="number">1</span>] != <span class="number">0</span>)</span><br><span class="line">        set.add(grid[i][j+<span class="number">1</span>]);</span><br><span class="line">       <span class="keyword">if</span>(i&lt;m &amp;&amp; j-<span class="number">1</span> &lt; n &amp;&amp; j-<span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; i &gt;= <span class="number">0</span> &amp;&amp; grid[i][j-<span class="number">1</span>] != <span class="number">0</span>)</span><br><span class="line">        set.add(grid[i][j-<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">return</span> set;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="8ä¸ªæ–¹å‘">8ä¸ªæ–¹å‘</h4>
<h5 id="æ‰«é›·æ¸¸æˆ">æ‰«é›·æ¸¸æˆ</h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//DFS</span></span><br><span class="line">    <span class="type">int</span> dirs[][] = &#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    <span class="comment">//M  X  1-8  éƒ½æ˜¯å’Œåœ°é›·ç›¸å…³</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span>[][] updateBoard(<span class="type">char</span>[][] board, <span class="type">int</span>[] click) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> click[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> click[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(board[i][j] == <span class="string">&#x27;M&#x27;</span>)</span><br><span class="line">            board[i][j] =<span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            dfs(board,i,j);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> board;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] board, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; dirs.length; k++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">newx</span> <span class="operator">=</span> i + dirs[k][<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">newy</span> <span class="operator">=</span> j + dirs[k][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(newy &lt; <span class="number">0</span> || newx &lt; <span class="number">0</span> || newx &gt;= board.length || newy &gt;= board[<span class="number">0</span>].length) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(board[newx][newy] == <span class="string">&#x27;M&#x27;</span>) count++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(count &gt; <span class="number">0</span>) board[i][j] = (<span class="type">char</span>)(count+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            board[i][j] = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; dirs.length; k++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">newx</span> <span class="operator">=</span> i + dirs[k][<span class="number">0</span>];</span><br><span class="line">                <span class="type">int</span> <span class="variable">newy</span> <span class="operator">=</span> j + dirs[k][<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span>(newy &lt; <span class="number">0</span> || newx &lt; <span class="number">0</span> || newx &gt;= board.length || newy &gt;= board[<span class="number">0</span>].length || board[newx][newy] !=<span class="string">&#x27;E&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">                dfs(board, newx, newy);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//BFS</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> dirs[][] = &#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    <span class="comment">//M  X  1-8  éƒ½æ˜¯å’Œåœ°é›·ç›¸å…³</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span>[][] updateBoard(<span class="type">char</span>[][] board, <span class="type">int</span>[] click) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> board.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> click[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> click[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//&#x27;X&#x27; åˆ™è¡¨ç¤ºä¸€ä¸ª å·²æŒ–å‡ºçš„ åœ°é›·  å¦‚æœä¸€ä¸ªåœ°é›·ï¼ˆ&#x27;M&#x27;ï¼‰è¢«æŒ–å‡ºï¼Œæ¸¸æˆå°±ç»“æŸäº†- æŠŠå®ƒæ”¹ä¸º &#x27;X&#x27; </span></span><br><span class="line">        <span class="keyword">if</span>(board[i][j] == <span class="string">&#x27;M&#x27;</span>)</span><br><span class="line">            board[i][j] =<span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        <span class="comment">//bfså¤„ç† E B  æ•°å­— ä¸‰è€…é€»è¾‘</span></span><br><span class="line">            bfs(board,i,j);</span><br><span class="line"><span class="comment">//å¦‚æœåœ¨æ­¤æ¬¡ç‚¹å‡»ä¸­ï¼Œè‹¥æ— æ›´å¤šæ–¹å—å¯è¢«æ­éœ²ï¼Œåˆ™è¿”å›ç›˜é¢ã€‚</span></span><br><span class="line">        <span class="keyword">return</span> board;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">bfs</span><span class="params">(<span class="type">char</span>[][] board, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line"></span><br><span class="line">        Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">boolean</span> visited[][] = <span class="keyword">new</span> <span class="title class_">boolean</span>[board.length][board[<span class="number">0</span>].length];</span><br><span class="line"></span><br><span class="line">        queue.offer(i);</span><br><span class="line">        queue.offer(j);</span><br><span class="line">        visited[i][j] =<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; dirs.length; k++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">newx</span> <span class="operator">=</span> x + dirs[k][<span class="number">0</span>];</span><br><span class="line">                <span class="type">int</span> <span class="variable">newy</span> <span class="operator">=</span> y + dirs[k][<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span>(newy &lt; <span class="number">0</span> || newx &lt; <span class="number">0</span> || newx &gt;= board.length || newy &gt;= board[<span class="number">0</span>].length) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(board[newx][newy] == <span class="string">&#x27;M&#x27;</span>) count++;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">            <span class="comment">//å¦‚æœä¸€ä¸ª è‡³å°‘ä¸ä¸€ä¸ªåœ°é›·ç›¸é‚» çš„ç©ºæ–¹å—ï¼ˆ&#x27;E&#x27;ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºæ•°å­—ï¼ˆ&#x27;1&#x27; åˆ° &#x27;8&#x27; ï¼‰ï¼Œè¡¨ç¤ºç›¸é‚»åœ°é›·çš„æ•°é‡ã€‚</span></span><br><span class="line">            <span class="keyword">if</span>(count &gt; <span class="number">0</span>) board[x][y] = (<span class="type">char</span>)(count+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="comment">// å¦‚æœä¸€ä¸ª æ²¡æœ‰ç›¸é‚»åœ°é›· çš„ç©ºæ–¹å—ï¼ˆ&#x27;E&#x27;ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºï¼ˆ&#x27;B&#x27;ï¼‰ï¼Œå¹¶ä¸”æ‰€æœ‰å’Œå…¶ç›¸é‚»çš„ æœªæŒ–å‡º æ–¹å—éƒ½åº”è¯¥è¢«é€’å½’åœ°æ­éœ²ã€‚</span></span><br><span class="line">                board[x][y] = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; dirs.length; k++) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newx</span> <span class="operator">=</span> x + dirs[k][<span class="number">0</span>];</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newy</span> <span class="operator">=</span> y + dirs[k][<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span>(newy &lt; <span class="number">0</span> || newx &lt; <span class="number">0</span> || newx &gt;= board.length || newy &gt;= board[<span class="number">0</span>].length || board[newx][newy] !=<span class="string">&#x27;E&#x27;</span> || visited[newx][newy]) <span class="keyword">continue</span>;</span><br><span class="line">                        queue.offer(newx);</span><br><span class="line">                        queue.offer(newy);</span><br><span class="line">                        visited[newx][newy] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ ‘-å›¾çš„DFS">æ ‘/å›¾çš„DFS</h4>
<h5 id="å›°éš¾ä¸€">å›°éš¾ä¸€</h5>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">// 332</span></span><br><span class="line">&gt;<span class="comment">// å›°éš¾ çš„ å›æº¯  å®‰æ’è¡Œç¨‹    æ‰€æœ‰çš„æœºç¥¨ å¿…é¡»éƒ½ç”¨ä¸€æ¬¡ ä¸” åªèƒ½ç”¨ä¸€æ¬¡</span></span><br><span class="line">&gt;List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();     <span class="comment">// ç»“æœé›†</span></span><br><span class="line">&gt;LinkedList&lt;String&gt; path = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();    <span class="comment">// è·¯å¾„</span></span><br><span class="line">&gt;<span class="type">boolean</span>  visited[];</span><br><span class="line">&gt;<span class="keyword">public</span> List&lt;String&gt; <span class="title function_">findItinerary</span><span class="params">(List&lt;List&lt;String&gt;&gt; tickets)</span> &#123;</span><br><span class="line"></span><br><span class="line">   visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[tickets.size()+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯¹  ç›®çš„åœ°(ä¸‹æ ‡ä¸º 1)è¿›è¡Œ  æ’åº</span></span><br><span class="line">  Collections.sort(tickets,(o1,o2) -&gt; o1.get(<span class="number">1</span>).compareTo(o2.get(<span class="number">1</span>)));</span><br><span class="line"></span><br><span class="line">  <span class="comment">//æ‰€æœ‰è¿™äº›æœºç¥¨éƒ½å±äºä¸€ä¸ªä» JFKï¼ˆè‚¯å°¼è¿ªå›½é™…æœºåœºï¼‰å‡ºå‘çš„å…ˆç”Ÿï¼Œæ‰€ä»¥è¯¥è¡Œç¨‹å¿…é¡»ä» JFK å¼€å§‹</span></span><br><span class="line">  path.add(<span class="string">&quot;JFK&quot;</span>);</span><br><span class="line">&gt;<span class="comment">//ç»†èŠ‚ä¸€: å¼ºè½¬ä¸º ArrayList</span></span><br><span class="line">  trackback((ArrayList) tickets);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;<span class="comment">//ç»†èŠ‚äºŒ: </span></span><br><span class="line">&gt;<span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">trackback</span><span class="params">(ArrayList&lt;List&lt;String&gt;&gt; tickets)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(path.size() == tickets.size()+<span class="number">1</span>)&#123; <span class="comment">//æ‰¾åˆ° ç¬¦åˆçš„æ‰€æœ‰è·¯å¾„  </span></span><br><span class="line">      res =<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;                     <span class="comment">//ç»“æŸå›æº¯</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; tickets.size(); i++) &#123;</span><br><span class="line">      <span class="comment">// æœªè®¿é—®è¿‡    &amp;&amp;    æœ¬ç¥¨çš„ å‡ºå‘åœ°  æ˜¯é˜Ÿåˆ—ä¸­ æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆä¸Šä¸€ä¸ªç¥¨çš„ ç›®çš„åœ°ï¼‰</span></span><br><span class="line">      <span class="keyword">if</span>(!visited[i] &amp;&amp; tickets.get(i).get(<span class="number">0</span>).equals(path.getLast()))&#123;</span><br><span class="line">          <span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">         path.add(tickets.get(i).get(<span class="number">1</span>));</span><br><span class="line">         visited[i] = <span class="literal">true</span>;</span><br><span class="line">         <span class="keyword">if</span>(trackback(tickets)) <span class="keyword">return</span> <span class="literal">true</span>;     <span class="comment">//ç»“æŸå›æº¯</span></span><br><span class="line">          <span class="comment">//æ’¤é”€é€‰æ‹©</span></span><br><span class="line">         visited[i] = <span class="literal">false</span>;</span><br><span class="line">         path.removeLast();</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>è¿›é˜¶å†™æ³•ï¼š</p>
<p>Map   computeIfAbsent      PriorityQueue</p>
</blockquote>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">//332</span></span><br><span class="line">&gt;<span class="comment">// å›°éš¾ çš„ DFS  å®‰æ’è¡Œç¨‹    æ‰€æœ‰çš„æœºç¥¨ å¿…é¡»éƒ½ç”¨ä¸€æ¬¡ ä¸” åªèƒ½ç”¨ä¸€æ¬¡</span></span><br><span class="line">&gt;<span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">&gt;<span class="comment">//è¦ç‚¹ä¸€ : è´ªå¿ƒ : æŒ‰ç…§å­—å…¸é¡ºåºè®¿é—®ï¼Œæˆ‘ä»¬æŠŠæ¯ä¸ªé¡¶ç‚¹çš„ä¸´æ¥ç‚¹æŒ‰ç…§å­—å…¸é¡ºåº  æ’åº</span></span><br><span class="line">          <span class="comment">// ä¹Ÿ å¯ä»¥ä¸å¯¹ä¸´æ¥ç‚¹æ’åºï¼Œè€Œæ˜¯ä½¿ç”¨å°é¡¶å †ï¼ˆJavaå¯ä»¥ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼‰ã€‚è¿™æ ·æˆ‘ä»¬åˆ é™¤è¾¹çš„æ“ä½œå’Œè®¿é—®æœ€å°å­—å…¸é¡ºåºé¡¶ç‚¹å¯ä»¥ç”¨ å‡ºé˜Ÿæ“ä½œä»£æ›¿ï¼Œæ—¶é—´å¤æ‚åº¦åº”è¯¥ä¼šæ¯”æ’åºå†åˆ é™¤è¦ä½ä¸€äº›ã€‚</span></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//è¦ç‚¹äºŒ : DFS(å›æº¯) : éå†å›¾æ—¶ï¼Œéœ€è¦å°†è®¿é—®åˆ°çš„èŠ‚ç‚¹  é€†åº  æ’å…¥åˆ°ç»“æœé›†</span></span><br><span class="line">&gt;<span class="comment">//è¦ç‚¹ä¸‰ : é¿å…å­˜åœ¨ç¯è·¯å¯¼è‡´èŠ‚ç‚¹é‡å¤è®¿é—®ï¼Œæˆ‘ä»¬  æ¯è®¿é—®è¿‡   ä¸€æ¡è¾¹  å°±æŠŠå®ƒæ ‡è®°ä¸ºè®¿é—®è¿‡ï¼Œæˆ–è€…ç›´æ¥å°†  è®¿é—®è¿‡çš„è¾¹  åˆ é™¤  ç„¶å æ¯æ¬¡éƒ½å–ä¸´æ¥ç‚¹çš„ç¬¬ä¸€ä¸ªå³å¯æ»¡è¶³å­—å…¸é¡ºåºè®¿é—®</span></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//computeIfAbsent  è¯¥æ–¹æ³•é€‚ç”¨äºéœ€è¦åœ¨ Map ä¸­è¿›è¡ŒæŸ¥æ‰¾æˆ–è®¡ç®—æŸäº›å€¼çš„åœºæ™¯ï¼Œæ¯”å¦‚å¯¹äºéœ€è¦åŠ¨æ€ç”ŸæˆæŸäº›å€¼çš„åœºæ™¯</span></span><br><span class="line"></span><br><span class="line">&gt;LinkedList&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">&gt;<span class="keyword">public</span> List&lt;String&gt; <span class="title function_">findItinerary</span><span class="params">(List&lt;List&lt;String&gt;&gt; tickets)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(tickets.size() == <span class="number">0</span>  || tickets == <span class="literal">null</span> ) <span class="keyword">return</span> res;</span><br><span class="line">  <span class="comment">// Map&lt;String, List&lt;String&gt;&gt; å­˜å‚¨ å›¾ï¼ŒKey ä¸ºé¡¶ç‚¹ï¼ŒList&lt;String&gt; ä¸ºä¸´æ¥ç‚¹ã€‚</span></span><br><span class="line">  HashMap&lt;String, PriorityQueue&lt;String&gt;&gt; graph = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  <span class="keyword">for</span> (List&lt;String&gt;  ticket : tickets) &#123;</span><br><span class="line">      <span class="comment">//æ’åº</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//å¦‚æœ graph ä¸­ä¸å­˜åœ¨ä»¥ ticket.get(0) ä¸ºé”®çš„æ˜ å°„ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„ PriorityQueue å®ä¾‹ï¼Œå¹¶å°†å…¶ä½œä¸ºè¯¥é”®å€¼å¯¹åº”çš„å€¼å­˜å…¥ graph ä¸­ï¼›å¦åˆ™ï¼Œç›´æ¥è¿”å›å¯¹åº”çš„ PriorityQueue å¯¹è±¡ã€‚</span></span><br><span class="line">      PriorityQueue&lt;String&gt; queue = graph.computeIfAbsent(ticket.get(<span class="number">0</span>), k -&gt; <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;());</span><br><span class="line">      queue.add(ticket.get(<span class="number">1</span>));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//dfs</span></span><br><span class="line">  dfs(graph,<span class="string">&quot;JFK&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(HashMap&lt;String, PriorityQueue&lt;String&gt;&gt; graph, String start)</span> &#123;</span><br><span class="line">  PriorityQueue&lt;String&gt; queue = graph.get(start);</span><br><span class="line">  <span class="keyword">while</span> (queue!=<span class="literal">null</span> &amp;&amp; queue.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="type">String</span> <span class="variable">poll</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">      dfs(graph, poll);</span><br><span class="line">  &#125;</span><br><span class="line">  res.add(<span class="number">0</span>,start);  <span class="comment">// é€†åºæ’å…¥</span></span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="å›°éš¾äºŒ">å›°éš¾äºŒ</h5>
<blockquote>
<p>å…¬å…±å…¬äº¤</p>
</blockquote>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">// æ— (åŒ)å‘å›¾</span></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numBusesToDestination</span><span class="params">(<span class="type">int</span>[][] routes, <span class="type">int</span> source, <span class="type">int</span> target)</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(source == target) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> bfs(routes, source, target);</span><br><span class="line">  <span class="keyword">return</span>  res;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">private</span> <span class="type">int</span> <span class="title function_">bfs</span><span class="params">(<span class="type">int</span>[][] routes, <span class="type">int</span> source, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">  <span class="comment">// é‚»æ¥è¡¨è®°å½•   ç«™ ä¸   è·¯çº¿çš„  å…³ç³»</span></span><br><span class="line">  HashMap&lt;Integer,List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">  <span class="comment">// è®°å½•ï¼šç»è¿‡çš„è·¯çº¿</span></span><br><span class="line">  Deque&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">  Set&lt;Integer&gt; visited= <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> <span class="variable">numOfRoutes</span> <span class="operator">=</span> routes.length;</span><br><span class="line">  <span class="comment">//å°†æ¯ä¸ªç«™ç‚¹å‡ºç°åœ¨çš„è·¯çº¿å·æ·»åŠ åˆ°å“ˆå¸Œè¡¨ä¸­ã€‚</span></span><br><span class="line">  <span class="comment">// åœ¨å¾ªç¯éå†æ¯ä¸ªè·¯çº¿æ—¶ï¼Œå¯¹äºè·¯çº¿ä¸­çš„æ¯ä¸ªç«™ç‚¹ stationï¼Œ</span></span><br><span class="line">  <span class="comment">//          é¦–å…ˆåˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨ä»¥ station ä¸ºé”®çš„å€¼ï¼Œ</span></span><br><span class="line">  <span class="comment">//          å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åœ¨å“ˆå¸Œè¡¨ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„ç©ºåˆ—è¡¨ï¼›ç„¶åå°†è¯¥è·¯çº¿ç¼–å· i æ·»åŠ åˆ°å“ˆå¸Œè¡¨ä¸­ä»¥ station ä¸ºé”®çš„å€¼æ‰€å¯¹åº”çš„åˆ—è¡¨ä¸­ã€‚</span></span><br><span class="line">  <span class="comment">//          æœ€åå¾—åˆ°çš„æ˜¯ä¸€ä¸ªåŒ…å«æ¯ä¸ªç«™ç‚¹å‡ºç°åœ¨çš„è·¯çº¿ç¼–å·çš„å“ˆå¸Œè¡¨ã€‚</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numOfRoutes; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> station : routes[i]) &#123;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span>(!graph.containsKey(station))&#123;</span><br><span class="line">              graph.put(station,<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">          &#125;</span><br><span class="line">          graph.get(station).add(i);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  queue.addAll(graph.get(source));</span><br><span class="line">  visited.addAll(graph.get(source));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">      count++;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">          <span class="type">int</span> <span class="variable">poll</span> <span class="operator">=</span>  queue.poll();</span><br><span class="line">          <span class="type">int</span>[] route = routes[poll];</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> station: route)&#123;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span>(station == target)  <span class="keyword">return</span> count;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">for</span> (<span class="type">int</span> bus : graph.getOrDefault(station, <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;())) &#123;</span><br><span class="line">                  <span class="keyword">if</span>(!visited.contains(bus)) &#123;</span><br><span class="line">                      queue.offer(bus);</span><br><span class="line">                      visited.add(bus);</span><br><span class="line">                  &#125;</span><br><span class="line"></span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>  -<span class="number">1</span>;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="å›°éš¾ä¸‰">å›°éš¾ä¸‰</h5>
<blockquote>
<p><a href="https://leetcode.cn/problems/word-ladder/">å•è¯æ¥é¾™</a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">//127</span></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> &#123;</span><br><span class="line">  <span class="comment">// ç¬¬ 1 æ­¥ï¼šå…ˆå°† wordList æ”¾åˆ°å“ˆå¸Œè¡¨é‡Œï¼Œä¾¿äºåˆ¤æ–­æŸä¸ªå•è¯æ˜¯å¦åœ¨ wordList é‡Œ</span></span><br><span class="line">  Set&lt;String&gt; wordSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(wordList);</span><br><span class="line">  <span class="keyword">if</span> (wordSet.size() == <span class="number">0</span> || !wordSet.contains(endWord)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  wordSet.remove(beginWord);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç¬¬ 2 æ­¥ï¼šå›¾çš„å¹¿åº¦ä¼˜å…ˆéå†ï¼Œå¿…é¡»ä½¿ç”¨é˜Ÿåˆ—å’Œè¡¨ç¤ºæ˜¯å¦è®¿é—®è¿‡çš„ visited å“ˆå¸Œè¡¨</span></span><br><span class="line">  Queue&lt;String&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">  queue.offer(beginWord);</span><br><span class="line">  Set&lt;String&gt; visited = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">  visited.add(beginWord);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç¬¬ 3 æ­¥ï¼šå¼€å§‹å¹¿åº¦ä¼˜å…ˆéå†ï¼ŒåŒ…å«èµ·ç‚¹ï¼Œå› æ­¤åˆå§‹åŒ–çš„æ—¶å€™æ­¥æ•°ä¸º 1</span></span><br><span class="line">  <span class="type">int</span> <span class="variable">step</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">currentSize</span> <span class="operator">=</span> queue.size();</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; currentSize; i++) &#123;</span><br><span class="line">          <span class="comment">// ä¾æ¬¡éå†å½“å‰é˜Ÿåˆ—ä¸­çš„å•è¯</span></span><br><span class="line">          <span class="type">String</span> <span class="variable">currentWord</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">          <span class="comment">// å¦‚æœ currentWord èƒ½å¤Ÿä¿®æ”¹ 1 ä¸ªå­—ç¬¦ä¸ endWord ç›¸åŒï¼Œåˆ™è¿”å› step + 1</span></span><br><span class="line">          <span class="keyword">if</span> (changeWordEveryOneLetter(currentWord, endWord, queue, visited, wordSet)) &#123;</span><br><span class="line">              <span class="keyword">return</span> step + <span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      step++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å°è¯•å¯¹ currentWord ä¿®æ”¹æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯èƒ½ä¸ endWord åŒ¹é…</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> currentWord</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> endWord</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> queue</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> visited</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> wordSet</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">changeWordEveryOneLetter</span><span class="params">(String currentWord, String endWord,</span></span><br><span class="line"><span class="params">                                           Queue&lt;String&gt; queue, Set&lt;String&gt; visited, Set&lt;String&gt; wordSet)</span> &#123;</span><br><span class="line">      <span class="type">char</span>[] charArray = currentWord.toCharArray();</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; endWord.length(); i++) &#123;</span><br><span class="line">          <span class="comment">// å…ˆä¿å­˜ï¼Œç„¶åæ¢å¤</span></span><br><span class="line">          <span class="type">char</span> <span class="variable">originChar</span> <span class="operator">=</span> charArray[i];</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">char</span> <span class="variable">k</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>; k &lt;= <span class="string">&#x27;z&#x27;</span>; k++) &#123;</span><br><span class="line">              <span class="keyword">if</span> (k == originChar) &#123;</span><br><span class="line">                  <span class="keyword">continue</span>;</span><br><span class="line">              &#125;</span><br><span class="line">              charArray[i] = k;</span><br><span class="line">              <span class="type">String</span> <span class="variable">nextWord</span> <span class="operator">=</span> String.valueOf(charArray);</span><br><span class="line">              <span class="keyword">if</span> (wordSet.contains(nextWord)) &#123;</span><br><span class="line">                  <span class="keyword">if</span> (nextWord.equals(endWord)) &#123;</span><br><span class="line">                      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="keyword">if</span> (!visited.contains(nextWord)) &#123;</span><br><span class="line">                      queue.add(nextWord);</span><br><span class="line">                      <span class="comment">// æ³¨æ„ï¼šæ·»åŠ åˆ°é˜Ÿåˆ—ä»¥åï¼Œå¿…é¡»é©¬ä¸Šæ ‡è®°ä¸ºå·²ç»è®¿é—®</span></span><br><span class="line">                      visited.add(nextWord);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// æ¢å¤</span></span><br><span class="line">          charArray[i] = originChar;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="BFS">==BFS==</h2>
<blockquote>
<ul>
<li>
<p><strong>BFS æ‰¾åˆ°çš„è·¯å¾„ä¸€å®šæ˜¯æœ€çŸ­çš„</strong></p>
</li>
<li>
<p>é—®é¢˜çš„æœ¬è´¨å°±æ˜¯è®©ä½ åœ¨ä¸€å¹…ã€Œå›¾ã€ä¸­æ‰¾åˆ°ä»èµ·ç‚¹ <code>start</code> åˆ°ç»ˆç‚¹ <code>target</code> çš„æœ€è¿‘è·ç¦».  æ‰¾==æœ€çŸ­è·¯å¾„==</p>
</li>
<li>
<p>ä¹Ÿå°±æ˜¯è¯´  åªæœ‰åœ¨   æ‰¾æœ€çŸ­è·¯å¾„çš„æ—¶å€™ ç”¨ BFS    å…¶ä»–æ—¶å€™ å¤§éƒ¨åˆ†è¿˜æ˜¯DFS</p>
</li>
</ul>
</blockquote>
<h4 id="BFSåœ¨å±‚æ¬¡éå†ä¸­æ¨¡ç‰ˆï¼š">BFSåœ¨å±‚æ¬¡éå†ä¸­æ¨¡ç‰ˆï¼š</h4>
<h5 id="è¿”å›å€¼æ˜¯äºŒç»´æ•°ç»„ï¼š">è¿”å›å€¼æ˜¯äºŒç»´æ•°ç»„ï¼š</h5>
<blockquote>
<p>å¤§éƒ¨åˆ†é¢˜ç›®å°±æ˜¯åœ¨è¿™ä¸ªçš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹&lt;æ ¸å¿ƒä»£ç  å‰ç½®&gt;</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;List&lt;Integer&gt;&gt;();       ç»“æœé›†</span><br><span class="line">Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();							é˜Ÿåˆ—</span><br><span class="line">    <span class="comment">// è¦æ˜¯å®šä¹‰åœ¨è¿™é‡Œå°±åªèƒ½æ‰“å°å¾—åˆ°ä¸€ä¸ªæ•´ä½“çš„ä¸€ç»´æ•°ç»„ï¼Œå› ä¸ºæ¯æ¬¡for å¾ªç¯ä¸­ä¸ä¼šé‡ç½®è¯¥ä¸€ç»´æ•°ç»„</span></span><br><span class="line">    <span class="comment">//   ArrayList&lt;Integer&gt; tmpList  = new ArrayList&lt;&gt;();</span></span><br><span class="line">    <span class="comment">//åŠ å…¥æ ¹èŠ‚ç‚¹</span></span><br><span class="line">queue.offer(root);													å…¥é˜Ÿ</span><br><span class="line">        <span class="comment">//åˆ¤ç©ºï¼Œè¿”å›çš„è¦æ˜¯äºŒç»´æ•°ç»„ä¸èƒ½æ˜¯null</span></span><br><span class="line"><span class="keyword">if</span>(root == <span class="literal">null</span>)  <span class="keyword">return</span> result;									</span><br><span class="line"><span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line"><span class="type">int</span> <span class="variable">queueSize</span> <span class="operator">=</span> queue.size();										é˜Ÿåˆ—çš„å¤§å°</span><br><span class="line"><span class="comment">// å¿…é¡»è¦è¿™é‡Œå®šä¹‰ä¸€ç»´æ•°ç»„,åªæœ‰åœ¨è¿™é‡Œå®šä¹‰çš„æ‰èƒ½æ¯å±‚éƒ½æ”¾åœ¨ä¸åŒçš„ä¸€ç»´æ•°ç»„é‡Œé¢ï¼Œæœ€ç»ˆæ„æˆäºŒç»´æ•°ç»„  å¹¶ä¸”åªæœ‰ è¿™é‡Œå®šä¹‰ tmpList æ‰èƒ½ä¹‹ååœ¨ whileä¸­ç›´æ¥åŠ åˆ° resultä¸­  å³ï¼šresult.add(tmpList);              </span></span><br><span class="line"><span class="comment">//æ¯å±‚éå†çš„æ—¶å€™ tmpList éƒ½ä¼šé‡ç½®</span></span><br><span class="line"> </span><br><span class="line">ArrayList&lt;Integer&gt; tmpList  = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();                   ä¸´æ—¶æ¥å—</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; queueSize;i++)&#123;</span><br><span class="line">		<span class="type">TreeNode</span> <span class="variable">outQueue</span> <span class="operator">=</span> queue.poll();              				å‡ºé˜Ÿ</span><br><span class="line">       <span class="keyword">if</span>(outQueue.left!=<span class="literal">null</span>) queue.offer(outQueue.left);			å·¦å³ä¾§è¿›è¡Œé€’å½’</span><br><span class="line">       <span class="keyword">if</span>(outQueue.right!=<span class="literal">null</span>) queue.offer(outQueue.right);</span><br><span class="line">       tmpList.add(outQueue.val);									ä¸´æ—¶æ¥å—</span><br><span class="line">&#125;	</span><br><span class="line">result.add(tmpList);												è¿›ç»“æœé›†</span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure>
<h5 id="è¿”å›å€¼æ˜¯ä¸€ç»´æ•°ç»„ï¼š">è¿”å›å€¼æ˜¯ä¸€ç»´æ•°ç»„ï¼š</h5>
<blockquote>
<p>å¤§éƒ¨åˆ†é¢˜ç›®å°±æ˜¯åœ¨è¿™ä¸ªçš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹&lt;æ ¸å¿ƒä»£ç  å‰ç½®&gt;</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(root == <span class="literal">null</span>)  <span class="keyword">return</span> result;</span><br><span class="line">queue.offer(root);</span><br><span class="line"><span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">             </span><br><span class="line">            </span><br><span class="line"><span class="type">int</span>  <span class="variable">queueSize</span> <span class="operator">=</span> queue.size();</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;queueSize;i++)&#123;</span><br><span class="line"><span class="type">TreeNode</span> <span class="variable">outqueue</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">      result.add(outqueue.val);</span><br><span class="line">      <span class="keyword">if</span>(outqueue.left!= <span class="literal">null</span>)   queue.add(outqueue.left);</span><br><span class="line">      <span class="keyword">if</span>(outqueue.right!= <span class="literal">null</span>)  queue.add(outqueue.right);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸éš¾çœ‹å‡º å°±æ˜¯åœ¨ <strong>å®šä¹‰ç»“æœé›†çš„æ—¶å€™</strong>  æœ‰åŒºåˆ«ï¼Œä¹Ÿå°±æ˜¯ç»“æœé›† <strong>ç»´åº¦</strong> å’Œ <strong>ä½ç½®</strong> çš„ åŒºåˆ«</p>
</blockquote>
<h4 id="BFSçš„æ¡†æ¶æ¨¡ç‰ˆ">BFSçš„æ¡†æ¶æ¨¡ç‰ˆ</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®¡ç®—ä»èµ·ç‚¹ start åˆ°ç»ˆç‚¹ target çš„æœ€è¿‘è·ç¦»               </span></span><br><span class="line"><span class="type">int</span> <span class="title function_">BFS</span><span class="params">(Node start, Node target)</span> &#123;</span><br><span class="line">    Queue&lt;Node&gt; q; <span class="comment">// æ ¸å¿ƒæ•°æ®ç»“æ„                       </span></span><br><span class="line">	q.offer(start); <span class="comment">// å°†èµ·ç‚¹åŠ å…¥é˜Ÿåˆ—</span></span><br><span class="line">    </span><br><span class="line">    --------------  åŒºåˆ«ä¹‹å¤„</span><br><span class="line">    Set&lt;Node&gt; visited; <span class="comment">// é¿å…èµ°å›å¤´è·¯     äºŒå‰æ ‘ä¸ç”¨</span></span><br><span class="line">    visited.add(start);</span><br><span class="line">    <span class="type">int</span> <span class="variable">step</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// è®°å½•æ‰©æ•£çš„æ­¥æ•°</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (q not empty) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sz</span> <span class="operator">=</span> q.size();</span><br><span class="line">        <span class="comment">/* å°†å½“å‰é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å‘å››å‘¨æ‰©æ•£ */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; sz; i++) &#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> q.poll();</span><br><span class="line">            </span><br><span class="line">     ----------------  åŒºåˆ«ä¹‹å¤„</span><br><span class="line">            <span class="comment">/* åˆ’é‡ç‚¹ï¼šè¿™é‡Œåˆ¤æ–­æ˜¯å¦åˆ°è¾¾ç»ˆç‚¹ */</span></span><br><span class="line">            <span class="keyword">if</span> (cur is target)</span><br><span class="line">                <span class="keyword">return</span> step;</span><br><span class="line">            <span class="comment">/* å°† cur çš„ç›¸é‚»èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ— */</span></span><br><span class="line">            <span class="keyword">for</span> (Node x : cur.adj()) &#123;    <span class="comment">//cur.adj() æ³›æŒ‡ cur ç›¸é‚»çš„èŠ‚ç‚¹</span></span><br><span class="line">                <span class="keyword">if</span> (x not in visited) &#123;</span><br><span class="line">                    q.offer(x);</span><br><span class="line">                    visited.add(x);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">     ----------------  åŒºåˆ«ä¹‹å¤„</span><br><span class="line">        <span class="comment">/* åˆ’é‡ç‚¹ï¼šæ›´æ–°æ­¥æ•°åœ¨è¿™é‡Œ */</span></span><br><span class="line">        step++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//visited çš„ä¸»è¦ä½œç”¨æ˜¯é˜²æ­¢èµ°å›å¤´è·¯ï¼Œå¤§éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯å¿…é¡»çš„ï¼Œ</span></span><br><span class="line"><span class="comment">//ä½†æ˜¯åƒä¸€èˆ¬çš„äºŒå‰æ ‘ç»“æ„ï¼Œæ²¡æœ‰å­èŠ‚ç‚¹åˆ°çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œä¸ä¼šèµ°å›å¤´è·¯å°±ä¸éœ€è¦ visitedã€‚</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>==æ³¨æ„==:</p>
<p>è¿™ä¸ª <code>while</code> å¾ªç¯å’Œ <code>for</code> å¾ªç¯çš„é…åˆ</p>
<p><strong><code>while</code> å¾ªç¯æ§åˆ¶ä¸€å±‚ä¸€å±‚å¾€ä¸‹èµ°ï¼Œ<code>for</code> å¾ªç¯åˆ©ç”¨ <code>sz</code> å˜é‡æ§åˆ¶ä»å·¦åˆ°å³éå†æ¯ä¸€å±‚äºŒå‰æ ‘èŠ‚ç‚¹</strong>ï¼š</p>
<img src="https://gitee.com/Ryang1118/typora/raw/master/images/202303231104890.png" style="zoom:25%;">
</blockquote>
<blockquote>
<p>æ„Ÿæ‚Ÿï¼š</p>
<p>==å¯¹äºå«æœ‰ <code>for</code> æˆ–è€… <code>å…¶ä»– (while ç­‰)å¾ªç¯</code>çš„ä»£ç ä¸­ï¼Œå¯¹äºæƒ³è¦å¾—åˆ°çš„ç»“æœï¼Œå¾€å¾€æ˜¯åœ¨å¾ªç¯ä¹‹å¤–è¿›è¡Œæ•°æ®å¤„ç†çš„ï¼Œä¾‹å¦‚ <code>è¿”å›ç»“æœï¼Œå–æœ€å¤§å€¼ç­‰ç­‰</code>==</p>
</blockquote>
<h4 id="å²›å±¿é—®é¢˜çš„BFS">å²›å±¿é—®é¢˜çš„BFS</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">bfs å‡½æ•°çš„åŸºæœ¬æ¡†æ¶</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span>  [][]dirs = &#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">void</span>/<span class="type">int</span> <span class="title function_">bfs</span><span class="params">(<span class="type">int</span>/... [][]grid, <span class="type">int</span>  i , <span class="type">int</span>  j )</span>&#123;</span><br><span class="line">    <span class="type">int</span>  <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">    <span class="type">int</span>  <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">            </span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ç§å†™æ³•   å¿…é¡»æ˜¯ n</span></span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.offer(i * n + j );   </span><br><span class="line">    grid[i][j] = æµ·æ´‹/<span class="string">&#x27;0&#x27;</span>/...;  <span class="comment">// å…¥é˜Ÿçš„æ—¶å€™è€Œä¸æ˜¯å‡ºé˜Ÿçš„æ—¶å€™åŠ å…¥  å¯ä»¥ä¿è¯ä¸ä¼šé‡å¤éå†   ç¬¬ä¸€æ¬¡åŠ å…¥</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">out</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> out / n;</span><br><span class="line">    <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> out % n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span>  k=<span class="number">0</span> ;k&lt;dirs.length;k++)&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">newx</span> <span class="operator">=</span> x+dirs[k][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">newy</span> <span class="operator">=</span> y+dirs[k][<span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(newx &gt;= <span class="number">0</span> &amp;&amp; newy &gt;=<span class="number">0</span> &amp;&amp;  newx &lt; m &amp;&amp; newy &lt; n &amp;&amp; grid[newx][newy]== <span class="string">&quot;é™†åœ°&quot;</span>)&#123;</span><br><span class="line">           queue.offer(newx * n  + newy); </span><br><span class="line">            grid[i][j] = æµ·æ´‹/<span class="string">&#x27;0&#x27;</span>/...;  <span class="comment">// å…¥é˜Ÿçš„æ—¶å€™è€Œä¸æ˜¯å‡ºé˜Ÿçš„æ—¶å€™åŠ å…¥  å¯ä»¥ä¿è¯ä¸ä¼šé‡å¤éå†  ç¬¬äºŒæ¬¡åŠ å…¥</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//ç¬¬äºŒç§å†™æ³•</span></span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.offer(i);</span><br><span class="line">    queue.offer(j);</span><br><span class="line">    grid[i][j] = æµ·æ´‹/<span class="string">&#x27;0&#x27;</span>/...;  <span class="comment">// å…¥é˜Ÿçš„æ—¶å€™è€Œä¸æ˜¯å‡ºé˜Ÿçš„æ—¶å€™åŠ å…¥  å¯ä»¥ä¿è¯ä¸ä¼šé‡å¤éå†   ç¬¬ä¸€æ¬¡åŠ å…¥</span></span><br><span class="line">    .........(<span class="comment">//695   step++;)</span></span><br><span class="line">    .........(<span class="comment">//1020  step++;)</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">    <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span>  k=<span class="number">0</span> ;k&lt;dirs.length;k++)&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">newx</span> <span class="operator">=</span> x+dirs[k][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">newy</span> <span class="operator">=</span> y+dirs[k][<span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(newx &gt;= <span class="number">0</span> &amp;&amp; newy &gt;=<span class="number">0</span> &amp;&amp;  newx &lt; m &amp;&amp; newy &lt; n &amp;&amp; grid[newx][newy]== <span class="string">&quot;é™†åœ°&quot;</span>)&#123;</span><br><span class="line">            queue.offer(newx); </span><br><span class="line">            queue.offer(newy); </span><br><span class="line">            grid[i][j] = æµ·æ´‹/<span class="string">&#x27;0&#x27;</span>/...;  <span class="comment">// å…¥é˜Ÿçš„æ—¶å€™è€Œä¸æ˜¯å‡ºé˜Ÿçš„æ—¶å€™åŠ å…¥  å¯ä»¥ä¿è¯ä¸ä¼šé‡å¤éå†  ç¬¬äºŒæ¬¡åŠ å…¥</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">        <span class="comment">//ç¬¬ä¸‰ç§å†™æ³•</span></span><br><span class="line">    Queue&lt;<span class="type">int</span>[]&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i,j&#125;);</span><br><span class="line">    grid[i][j] = éæµ·æ´‹éé™†åœ°çš„å€¼/<span class="string">&#x27;2&#x27;</span>/<span class="number">2.</span>..;  <span class="comment">// å…¥é˜Ÿçš„æ—¶å€™è€Œä¸æ˜¯å‡ºé˜Ÿçš„æ—¶å€™åŠ å…¥  å¯ä»¥ä¿è¯ä¸ä¼šé‡å¤éå† ç¬¬ä¸€æ¬¡åŠ å…¥</span></span><br><span class="line">    <span class="type">int</span> out[] = queue.poll();</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> out[<span class="number">0</span>];</span><br><span class="line">    <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> out[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span>  k=<span class="number">0</span> ;k&lt;dirs.length;k++)&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">newx</span> <span class="operator">=</span> x+dirs[k][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">newy</span> <span class="operator">=</span> y+dirs[k][<span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(newx &gt;= <span class="number">0</span> &amp;&amp; newy &gt;=<span class="number">0</span> &amp;&amp;  newx &lt; m &amp;&amp; newy &lt; n &amp;&amp; grid[newx][newy]== <span class="string">&quot;é™†åœ°&quot;</span>)&#123;</span><br><span class="line">            queue.offer(<span class="keyword">new</span> <span class="title class_">int</span>&#123;newx,newy&#125;); </span><br><span class="line">            grid[newx][newy] = éæµ·æ´‹éé™†åœ°çš„å€¼/<span class="string">&#x27;2&#x27;</span>/<span class="number">2.</span>..;  <span class="comment">// å…¥é˜Ÿçš„æ—¶å€™è€Œä¸æ˜¯å‡ºé˜Ÿçš„æ—¶å€™åŠ å…¥  å¯ä»¥ä¿è¯ä¸ä¼šé‡å¤éå†  ç¬¬äºŒæ¬¡åŠ å…¥</span></span><br><span class="line">            .........(<span class="comment">//695   step++;)</span></span><br><span class="line">            .........(<span class="comment">//1020  step++;)</span></span><br><span class="line">        &#125;</span><br><span class="line">         <span class="comment">/**463 å‘¨é•¿ é™„åŠ åˆ¤æ–­ </span></span><br><span class="line"><span class="comment">            //bfs æŒ‰åœˆè¿›è¡Œæ‰©å±•  æ‰€ä»¥æ¯ä¸€è½®æ‰©å±•ä¹‹å éƒ½å°†ä¼šå¯¹æ¯ä¸€ä¸ªå½“å‰èŠ‚ç‚¹çš„ä¸€åœˆèŠ‚ç‚¹è¿›è¡Œéå†  </span></span><br><span class="line"><span class="comment">            //æ‰€ä»¥æ­£å¥½å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§å¯¹å…¶è¿›è¡Œè®¡ç®—å‘¨é•¿ï¼Œçœ‹å››è¾¹æ˜¯ä¸æ˜¯ 0 æ˜¯çš„è¯å°± å‘¨é•¿+1 </span></span><br><span class="line"><span class="comment">                if( newx &lt; 0  ||  newy &lt;0 ||  newx &gt;=m ||  newy &gt;=n ||  grid[newx][newy] !=1) &#123;                  </span></span><br><span class="line"><span class="comment">                   if( newx &lt;0  ||  newy &lt;0 ||  newx &gt;=m ||  newy &gt;=n ||  grid[newx][newy]== 0 ) &#123;  </span></span><br><span class="line"><span class="comment">                       count++;</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">                continue;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">     return count;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//200</span></span><br><span class="line"> 		<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">               <span class="keyword">if</span>(grid[i][j]==<span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">                  bfs(grid,i,j);</span><br><span class="line">                  count++;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//695</span></span><br><span class="line">------&lt;bfs æœ‰å˜åŠ¨&gt;</span><br><span class="line">		<span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">    </span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt;n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[i][j] == <span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="comment">//æ¯ä¸€æ¬¡çš„ bfs éƒ½è¦åˆå§‹åŒ–  æ‰èƒ½è¿›è¡Œæ¯”è¾ƒ å–å¾— æœ€å€¼</span></span><br><span class="line">                    step = <span class="number">0</span>;</span><br><span class="line">                    bfs(grid,i,j);</span><br><span class="line">                    res = Math.max(res,step);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//1905</span></span><br><span class="line">  </span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid1.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid1[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//å…ˆå°†åœ¨  grid2æ˜¯é™†åœ°  å’Œåœ¨   grid1 æ˜¯æµ·æ°´   åœ°æ–¹ åœ¨grid2 ä¸­å…¨éƒ¨è®¾ç½®ä¸º æµ·æ°´</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; grid1.length;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt;grid1[<span class="number">0</span>].length ; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid2[i][j] ==<span class="number">1</span> &amp;&amp; grid1[i][j] == <span class="number">0</span>)&#123;</span><br><span class="line">                    bfs(grid2,i,j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç°åœ¨ grid2 ä¸­å‰©ä¸‹çš„å²›å±¿éƒ½æ˜¯å­å²›ï¼Œè®¡ç®—å²›å±¿æ•°é‡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid2[i][j] == <span class="number">1</span>)&#123;</span><br><span class="line">                    bfs(grid2,i,j);</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>  res;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment">//1020</span></span><br><span class="line">------&lt;bfs æœ‰å˜åŠ¨&gt;</span><br><span class="line">    <span class="type">int</span> step ;</span><br><span class="line"></span><br><span class="line"> 		<span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][<span class="number">0</span>] == <span class="number">1</span>) bfs(grid, i, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (grid[i][n-<span class="number">1</span>] == <span class="number">1</span>) bfs(grid, i, n - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä»ä¸Šè¾¹å’Œä¸‹è¾¹å‘ä¸­é—´éå†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[<span class="number">0</span>][j] == <span class="number">1</span>) bfs(grid, <span class="number">0</span>, j);</span><br><span class="line">            <span class="keyword">if</span> (grid[m - <span class="number">1</span>][j] == <span class="number">1</span>) bfs(grid, m - <span class="number">1</span>, j);</span><br><span class="line">        &#125;</span><br><span class="line">        step = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>( grid[i][j] == <span class="number">1</span>)&#123;</span><br><span class="line">                    bfs(grid,i,j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> step;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//1254&lt;ä¸ 1020 å‡ ä¹ä¸€æ¨¡ä¸€æ ·&gt;</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[<span class="number">0</span>][i] == <span class="number">0</span>)   bfs(grid,<span class="number">0</span>,i);</span><br><span class="line">            <span class="keyword">if</span>(grid[m-<span class="number">1</span>][i] == <span class="number">0</span>) bfs(grid,m-<span class="number">1</span>,i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">           <span class="keyword">if</span>(grid[i][<span class="number">0</span>] == <span class="number">0</span>) bfs(grid,i,<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span>(grid[i][n-<span class="number">1</span>] == <span class="number">0</span>)  bfs(grid,i,n-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[i][j] == <span class="number">0</span>)&#123;</span><br><span class="line">                    bfs(grid,i,j);</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line"><span class="comment">//463 </span></span><br><span class="line"> 		<span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[i][j] ==<span class="number">1</span>)&#123;</span><br><span class="line">                    res=bfs(grid,i,j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//130 </span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(board[<span class="number">0</span>][i] == <span class="string">&#x27;O&#x27;</span>)   bfs(board,<span class="number">0</span>,i);</span><br><span class="line">            <span class="keyword">if</span>(board[m-<span class="number">1</span>][i] == <span class="string">&#x27;O&#x27;</span>) bfs(board,m-<span class="number">1</span>,i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][<span class="number">0</span>] == <span class="string">&#x27;O&#x27;</span>)   bfs(board,i,<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span>(board[i][n-<span class="number">1</span>] == <span class="string">&#x27;O&#x27;</span>) bfs(board,i,n-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;m; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(board[i][j] == <span class="string">&#x27;#&#x27;</span>)    board[i][j] = <span class="string">&#x27;O&#x27;</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(board[i][j] == <span class="string">&#x27;O&#x27;</span>)    board[i][j] = <span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="ä¸€é“BFS-DFS-çš„ç»¼åˆåº”ç”¨">ä¸€é“BFS\DFS çš„ç»¼åˆåº”ç”¨</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//934  æœ€çŸ­çš„æ¡¥</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    LinkedList&lt;<span class="type">int</span>[]&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> dirs[][] = &#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">onlyOne</span> <span class="operator">=</span> <span class="literal">false</span>; </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">shortestBridge</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="comment">//å››é¢ç›¸è¿ == ä¸Šä¸‹å·¦å³</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(onlyOne) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[i][j] == <span class="number">1</span> &amp;&amp; !onlyOne)&#123;</span><br><span class="line">                    onlyOne = <span class="literal">true</span>;</span><br><span class="line">                    dfs(grid,i,j);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">return</span> bfs(grid);</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="comment">// è®¡ç®—æ‰©å±•çš„å±‚æ•°ï¼Œå°±æ˜¯æ¡¥çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">bfs</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            res++;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>; l &lt; size; l++) &#123;</span><br><span class="line">                <span class="type">int</span>[] poll = queue.poll();</span><br><span class="line">                <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> poll[<span class="number">0</span>];</span><br><span class="line">                <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> poll[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; dirs.length; k++) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newx</span> <span class="operator">=</span> x + dirs[k][<span class="number">0</span>];</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newy</span> <span class="operator">=</span> y + dirs[k][<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span>(newx &gt;= <span class="number">0</span> &amp;&amp; newy &gt;= <span class="number">0</span> &amp;&amp; newx &lt; m &amp;&amp; newy &lt; n &amp;&amp; grid[newx][newy] == <span class="number">0</span>) &#123;</span><br><span class="line">                            queue.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;newx, newy&#125;);</span><br><span class="line">                            grid[newx][newy] = <span class="number">2</span>;</span><br><span class="line">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(newx &gt;= <span class="number">0</span> &amp;&amp; newy &gt;= <span class="number">0</span> &amp;&amp; newx &lt; m &amp;&amp; newy &lt; n &amp;&amp; grid[newx][newy] == <span class="number">1</span>)&#123;</span><br><span class="line">                        <span class="keyword">return</span> res;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‰¾åˆ°å²›å±¿ï¼Œå²›å±¿çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span> || i &gt;= m || j &gt;= n || grid[i][j] == <span class="number">2</span> ) <span class="keyword">return</span> ;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(grid[i][j] == <span class="number">1</span>)&#123;</span><br><span class="line">            grid[i][j] = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(grid[i][j] == <span class="number">0</span>)&#123;  <span class="comment">//åª å‘å¤– æ‰©å±•ä¸€å±‚ å³å¯  æ‰€ä»¥æ˜¯ if</span></span><br><span class="line">            grid[i][j] = <span class="number">2</span>;</span><br><span class="line">            queue.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, j&#125;);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(grid, i, j+<span class="number">1</span>);</span><br><span class="line">        dfs(grid, i+<span class="number">1</span>, j);</span><br><span class="line">        dfs(grid, i-<span class="number">1</span>, j);</span><br><span class="line">        dfs(grid, i, j-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ»‘åŠ¨çª—å£é¢˜ï¼š">æ»‘åŠ¨çª—å£é¢˜ï¼š</h2>
<blockquote>
<p>==æ³¨==</p>
<p>â€‹	å°† ç´¢å¼•<strong>å·¦é—­å³å¼€</strong>åŒºé—´ <code>[left, right)</code> ç§°ä¸ºä¸€ä¸ªã€Œçª—å£ã€</p>
</blockquote>
<h5 id="æ ¸å¿ƒæ¡†æ¶">æ ¸å¿ƒæ¡†æ¶</h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ ¸å¿ƒé€»è¾‘</span></span><br><span class="line"><span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (right &lt; s.size()) &#123;</span><br><span class="line">    <span class="comment">// å¢å¤§çª—å£</span></span><br><span class="line">    window.add(s[right]);</span><br><span class="line">    right++;   </span><br><span class="line">    ........</span><br><span class="line">    <span class="keyword">while</span> (window needs shrink) &#123;</span><br><span class="line">        <span class="comment">// ç¼©å°çª—å£</span></span><br><span class="line">        window.remove(s[left]);</span><br><span class="line">        left++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="æ•´ä½“æ¡†æ¶">æ•´ä½“æ¡†æ¶</h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">å®Œæ•´æ¡†æ¶</span><br><span class="line">    </span><br><span class="line"><span class="comment">/* æ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶ */</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">slidingWindow</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    Map&lt;Character, Integer&gt; window = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//ï¼ˆ å˜é‡ ï¼‰</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (right &lt; s.length()) &#123;</span><br><span class="line">        <span class="comment">// c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦</span></span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(right);</span><br><span class="line">		<span class="comment">// å¢å¤§çª—å£</span></span><br><span class="line">        right++;</span><br><span class="line"><span class="comment">// è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span></span><br><span class="line">        ...</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*** debug è¾“å‡ºçš„ä½ç½® ***/</span></span><br><span class="line">        <span class="comment">// æ³¨æ„åœ¨æœ€ç»ˆçš„è§£æ³•ä»£ç ä¸­ä¸è¦ print</span></span><br><span class="line">        <span class="comment">// å› ä¸º IO æ“ä½œå¾ˆè€—æ—¶ï¼Œå¯èƒ½å¯¼è‡´è¶…æ—¶</span></span><br><span class="line">        System.out.printf(<span class="string">&quot;window: [%d, %d)\n&quot;</span>, left, right);</span><br><span class="line">        <span class="comment">/********************/</span></span><br><span class="line">        </span><br><span class="line"><span class="comment">// åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span></span><br><span class="line">        <span class="keyword">while</span> (window needs shrink) &#123;</span><br><span class="line">            <span class="comment">// d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦</span></span><br><span class="line">            <span class="type">char</span> <span class="variable">d</span> <span class="operator">=</span> s.charAt(left);</span><br><span class="line">            <span class="comment">// ç¼©å°çª—å£</span></span><br><span class="line">            left++;</span><br><span class="line"><span class="comment">// è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span></span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å…¶ä¸­ä¸¤å¤„ ... è¡¨ç¤ºçš„æ›´æ–°çª—å£æ•°æ®çš„åœ°æ–¹ï¼Œåˆ°æ—¶å€™ç›´æ¥å¾€é‡Œé¢å¡«å°±è¡Œäº†ã€‚</span><br><span class="line">è€Œä¸”ï¼Œè¿™ä¸¤ä¸ª ... å¤„çš„æ“ä½œåˆ†åˆ«æ˜¯æ‰©å¤§å’Œç¼©å°çª—å£çš„æ›´æ–°æ“ä½œï¼Œç­‰ä¼šä½ ä¼šå‘ç°å®ƒä»¬æ“ä½œæ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<blockquote>
<p>==æ€è€ƒ==</p>
<ul>
<li>ä»€ä¹ˆæ—¶å€™åº”è¯¥ç§»åŠ¨ <code>right</code> æ‰©å¤§çª—å£ï¼Ÿçª—å£åŠ å…¥å­—ç¬¦æ—¶ï¼Œåº”è¯¥æ›´æ–°å“ªäº›æ•°æ®ï¼Ÿ</li>
<li>ä»€ä¹ˆæ—¶å€™åº”è¯¥ç§»åŠ¨ <code>left</code> ç¼©å°çª—å£ï¼Ÿä»çª—å£ç§»å‡ºå­—ç¬¦æ—¶ï¼Œåº”è¯¥æ›´æ–°å“ªäº›æ•°æ®ï¼Ÿ</li>
<li>æˆ‘ä»¬è¦çš„<strong>ç»“æœ</strong>åº”è¯¥åœ¨æ‰©å¤§çª—å£æ—¶è¿˜æ˜¯ç¼©å°çª—å£æ—¶è¿›è¡Œæ›´æ–°ï¼Ÿ</li>
</ul>
</blockquote>
<h5 id="javaç›¸å…³çš„çŸ¥è¯†">==javaç›¸å…³çš„çŸ¥è¯†==</h5>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">// å°† string  è½¬ä¸ºå­—ç¬¦ä¸² </span></span><br><span class="line">&gt;<span class="keyword">for</span>(<span class="type">char</span> c:t.toCharArray())&#123;</span><br><span class="line">&gt;<span class="comment">//å°† c  åŠ åˆ°å¯¹åº”çš„mapç»“åˆä¸­ï¼Œ  è¦æ˜¯æœ‰çš„è¯å°±+1ï¼Œæ²¡æœ‰å°±ä¸º 0+1</span></span><br><span class="line">&gt;request.put(c,request.getOrDefault(c,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//mapç”¨äº åˆ¤æ–­æ˜¯å¦å«æœ‰ è¯¥é”®</span></span><br><span class="line">&gt;<span class="keyword">if</span>(request.containsKey(remover))</span><br><span class="line">&gt;<span class="keyword">if</span>(window.get(remover).equals(request.get(remover))) </span><br><span class="line">&gt;<span class="comment">//ä¸¤ä¸ªmapé›†åˆä¸­çš„é”®å€¼éƒ½ä¸€æ ·æ‰ä¸ºtrue</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="ä¸€ä¸ªå­—ç¬¦ä¸²-æ•°ç»„">ä¸€ä¸ªå­—ç¬¦ä¸² / æ•°ç»„</h5>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">//3  ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚        </span></span><br><span class="line"></span><br><span class="line">&gt;----å˜é‡</span><br><span class="line">&gt;HashMap&lt;Character, Integer&gt; window = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">&gt;<span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&gt;<span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&gt;<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&gt;<span class="type">int</span> res= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line">&gt;<span class="comment">// çª—å£çš„å¤§å°è¿›è¡Œæ›´æ–°ï¼› çª—å£ä¸­çš„é”®å€¼æ›´æ–°</span></span><br><span class="line">&gt;window.put(add,window.getOrDefault(add,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">&gt;count++;</span><br><span class="line"></span><br><span class="line">&gt;----åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span><br><span class="line">&gt;<span class="comment">//çª—å£ç¼©å°çš„æ¡ä»¶ï¼š çª—å£ä¸­çš„é”®å¯¹åº”çš„å€¼ &gt;1 </span></span><br><span class="line">&gt;<span class="keyword">while</span>(window.get(add)&gt;<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line">&gt;<span class="comment">// çª—å£çš„å¤§å°è¿›è¡Œæ›´æ–°ï¼› çª—å£ä¸­çš„é”®å€¼æ›´æ–°</span></span><br><span class="line"> count --;</span><br><span class="line"> window.put(remove,window.get(remove)-<span class="number">1</span>);</span><br><span class="line">&gt;----è¿”å›å€¼</span><br><span class="line">&gt;<span class="comment">//ç»“æœé›†æ”¶é›†ï¼šè®°å½•æ¯ä¸€æ¬¡çš„æœ€å¤§å€¼</span></span><br><span class="line">      res = Math.max(res,count);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//209   é•¿åº¦æœ€å°çš„å­æ•°ç»„   æ»¡è¶³å…¶å’Œ â‰¥ target çš„é•¿åº¦æœ€å°çš„ è¿ç»­å­æ•°ç»„  å¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› 0 ã€‚ </span></span><br><span class="line"></span><br><span class="line">&gt;----å˜é‡</span><br><span class="line">	<span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> right= <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;   </span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line"> <span class="keyword">if</span>(sum &lt; target)&#123;</span><br><span class="line">          sum =sum+add;</span><br><span class="line">          <span class="comment">//window.put(add,window.getOrDefault(add,0 )+1);</span></span><br><span class="line">          count++;</span><br><span class="line">      &#125;</span><br><span class="line">&gt;----åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span><br><span class="line">&gt;<span class="keyword">while</span>(sum &gt;= target)</span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line">&gt;<span class="keyword">if</span>(sum &gt;= target)&#123;</span><br><span class="line"> res = Math.min(res,count);</span><br><span class="line">&gt;&#125;</span><br><span class="line"> sum =sum-remove;</span><br><span class="line"> count--;</span><br><span class="line"></span><br><span class="line">&gt;----è¿”å›å€¼</span><br><span class="line">&gt;<span class="keyword">return</span> res== Integer.MAX_VALUE? <span class="number">0</span>:res;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// æ¨¡ç‰ˆæ¡†æ¶æœ‰å˜åŠ¨</span></span><br><span class="line">&gt;<span class="comment">//1004   ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° kï¼Œå¦‚æœå¯ä»¥ç¿»è½¬æœ€å¤š k ä¸ª 0 ï¼Œåˆ™è¿”å› æ•°ç»„ä¸­è¿ç»­ 1 çš„æœ€å¤§ä¸ªæ•° ã€‚</span></span><br><span class="line">&gt;----å˜é‡</span><br><span class="line">	<span class="type">int</span> right= <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> left= <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> k;</span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line">&gt;<span class="comment">// æ‰©å¤§çª—å£çš„æ—¶å€™ k æ˜¯å¯ä»¥ç­‰äº 0  çš„ ï¼Œ</span></span><br><span class="line">&gt;<span class="comment">// å¦åˆ™è¦æ˜¯åœ¨æ‰©å¤§çª—å£çš„æ—¶å€™  åªåˆ¤æ–­ k&gt;0 ä¼šå¯¼è‡´ count çš„å€¼ä¼šå˜å°ï¼Œ</span></span><br><span class="line">&gt;<span class="comment">// åŸå› æ˜¯ä¸€æ—¦ K == 0;å°±ä¼šä½¿çª—å£åœ¨é‡åˆ° k ä¸ª0 ä¹‹åä¸ç®¡æœ€åä¸€ä¸ª 0 åé¢çš„å€¼æ˜¯å¦ä¸º1 ç›´æ¥ç¼©å°çª—å£ï¼Œå°±ä¼šå¯¼è‡´ è®¡æ•°ä¸å®Œæ•´ã€‚</span></span><br><span class="line">&gt;<span class="comment">// æ‰€ä»¥ k=0 æ”¾åœ¨å¢åŠ çª—å£çš„æ—¶å€™ï¼Œå°±æ˜¯ä¸ºäº†åˆ¤æ–­æœ€åä¸€ä¸ª0 çš„åé¢çš„å€¼æ˜¯0è¿˜æ˜¯1 ï¼Œè¿™ä¸ªæ—¶å€™å³ä½¿æ‰©å¤§çª—å£ä¼šå¤š++ä¸€æ¬¡ï¼› ä½†æ˜¯åœ¨ç¼©å°çª—å£çš„æ—¶å€™è¿˜æ˜¯ä¼š--ï¼Œå°±ä¼šè¿›è¡ŒæŠµæ¶ˆï¼›</span></span><br><span class="line">      <span class="keyword">if</span>(nums[right] == <span class="number">0</span> &amp;&amp; k&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">          k--;</span><br><span class="line">      &#125;</span><br><span class="line">      right++;</span><br><span class="line">      count++;</span><br><span class="line"></span><br><span class="line">&gt;----åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">while</span>(k&lt;<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line"><span class="keyword">if</span>(nums[left]==<span class="number">0</span>)&#123;</span><br><span class="line">              k++;</span><br><span class="line">          &#125;</span><br><span class="line">          left++;</span><br><span class="line">          count--;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">&gt;----è¿”å›å€¼</span><br><span class="line">&gt;<span class="comment">//ç¼©å°å®Œçª—å£è¿›è¡Œæ”¶é›†ç»“æœ</span></span><br><span class="line">&gt;res = Math.max(res,count);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//1004   å®Œæ•´ä»£ç </span></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//æ€è·¯ï¼šé‡åˆ° Kä¸ª 0 ä¹‹åå°±ç¼©å°çª—å£ï¼Œæ¯”è¾ƒæ¯æ¬¡çš„æ”¶é›†åˆ°çš„æœ€å¤§ count</span></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestOnes</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">  <span class="type">int</span> right= <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> left= <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> k;</span><br><span class="line">  <span class="keyword">while</span>(right&lt;nums.length)&#123;</span><br><span class="line">&gt;<span class="comment">// æ‰©å¤§çª—å£çš„æ—¶å€™ k æ˜¯å¯ä»¥ç­‰äº 0  çš„ ï¼Œ</span></span><br><span class="line">&gt;<span class="comment">//å¦åˆ™è¦æ˜¯åœ¨æ‰©å¤§çª—å£çš„æ—¶å€™  åªåˆ¤æ–­ k&gt;0 ä¼šå¯¼è‡´ count çš„å€¼ä¼šå˜å°ï¼Œ</span></span><br><span class="line">&gt;<span class="comment">//åŸå› æ˜¯ä¸€æ—¦ K ==0;å°±ä¼šä½¿çª—å£åœ¨é‡åˆ° k ä¸ª0 ä¹‹åä¸ç®¡æœ€åä¸€ä¸ª 0 åé¢çš„å€¼æ˜¯å¦ä¸º1 ç›´æ¥ç¼©å°çª—å£ï¼Œå°±ä¼šå¯¼è‡´ è®¡æ•°ä¸å®Œæ•´ã€‚</span></span><br><span class="line">&gt;<span class="comment">//æ‰€ä»¥ k=0 æ”¾åœ¨å¢åŠ çª—å£çš„æ—¶å€™ï¼Œå°±æ˜¯ä¸ºäº†åˆ¤æ–­æœ€åä¸€ä¸ª0 çš„åé¢çš„å€¼æ˜¯0è¿˜æ˜¯1 ï¼Œè¿™ä¸ªæ—¶å€™å³ä½¿æ‰©å¤§çª—å£ä¼šå¤š++ä¸€æ¬¡ï¼› ä½†æ˜¯åœ¨ç¼©å°çª—å£çš„æ—¶å€™è¿˜æ˜¯ä¼š--ï¼Œå°±ä¼šè¿›è¡ŒæŠµæ¶ˆï¼›</span></span><br><span class="line">      <span class="keyword">if</span>(nums[right] == <span class="number">0</span> &amp;&amp; k&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">          k--;</span><br><span class="line">      &#125;</span><br><span class="line">      right++;</span><br><span class="line">      count++;</span><br><span class="line">      <span class="keyword">while</span>(k&lt;<span class="number">0</span>)&#123;</span><br><span class="line">          <span class="keyword">if</span>(nums[left]==<span class="number">0</span>)&#123;</span><br><span class="line">              k++;</span><br><span class="line">          &#125;</span><br><span class="line">          left++;</span><br><span class="line">          count--;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//ç¼©å°å®Œçª—å£è¿›è¡Œæ”¶é›†ç»“æœ</span></span><br><span class="line">      res = Math.max(res,count);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="ä¸¤ä¸ªå­ç¬¦ä¸²">ä¸¤ä¸ªå­ç¬¦ä¸²</h5>
<blockquote>
<p><strong>76 438  567 å…±æ€§ å°±æ˜¯   å­ä¸²å¯ä»¥æ— åº ä½†æ˜¯é•¿åº¦å›ºå®š ä¸ªæ•°ä¸€è‡´</strong></p>
<p>==1208åˆ™æ˜¯è¦é€ä½æ¯”è¾ƒ==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//76   ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ã€ä¸€ä¸ªå­—ç¬¦ä¸² t ã€‚è¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ s ä¸­ä¸å­˜åœ¨æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² &quot;&quot;</span></span><br><span class="line">&gt;----å˜é‡</span><br><span class="line"><span class="type">int</span> right= <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">   HashMap&lt;Character,Integer&gt; request = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">   HashMap&lt;Character,Integer&gt;  window = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">   <span class="keyword">for</span>(<span class="type">char</span> c:t.toCharArray())&#123;</span><br><span class="line">       request.put(c,request.getOrDefault(c,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(request.containsKey(add))&#123;</span><br><span class="line">          window.put(add,window.getOrDefault(add,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">          <span class="keyword">if</span>(window.get(add).equals(request.get(add)))</span><br><span class="line">          count++;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">&gt;----åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">while</span>(count == request.size())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(right- left&lt;len)&#123;</span><br><span class="line">              start = left;</span><br><span class="line">              len  = right - left;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(request.containsKey(remove))&#123;</span><br><span class="line">                <span class="keyword">if</span>(window.get(remove).equals(request.get(remove)))</span><br><span class="line">                  valid--;</span><br><span class="line">                  <span class="comment">// get(remove)-1</span></span><br><span class="line">                  window.put(remove,window.get(remove)-<span class="number">1</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">&gt;----è¿”å›å€¼</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> len ==  Integer.MAX_VALUE? <span class="string">&quot;&quot;</span>: s.substring(start,start+len);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//438   ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ pï¼Œæ‰¾åˆ° s ä¸­æ‰€æœ‰ p çš„ å¼‚ä½è¯ çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ </span></span><br><span class="line">&gt;----å˜é‡</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  HashMap&lt;Character, Integer&gt; request = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  HashMap&lt;Character, Integer&gt; window = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">char</span> c : p.toCharArray())&#123;</span><br><span class="line">      request.put(c,request.getOrDefault(c,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(request.containsKey(add))&#123;</span><br><span class="line">          window.put(adder,window.getOrDefault(add,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">          <span class="keyword">if</span>(window.get(add).equals(request.get(add)))</span><br><span class="line">              count++;</span><br><span class="line">          <span class="comment">//System.out.println(window);</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">&gt;----åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">while</span>(right-left &gt;= p.length())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line"></span><br><span class="line">   		<span class="keyword">if</span>(count == request.size()) &#123;  <span class="comment">//request.size()</span></span><br><span class="line">              result.add(left);</span><br><span class="line">          &#125;</span><br><span class="line">			...</span><br><span class="line">			<span class="keyword">if</span>(request.containsKey(remove))&#123;</span><br><span class="line">              <span class="keyword">if</span>(window.get(remove).equals(request.get(remove)))</span><br><span class="line">                  count--;</span><br><span class="line"></span><br><span class="line">              <span class="comment">// window.put(remover, window.get(remover)-1);</span></span><br><span class="line">              window.put(remove, window.get(remove)-<span class="number">1</span>);</span><br><span class="line">             <span class="comment">// System.out.println(window);</span></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">&gt;----è¿”å›å€¼</span><br><span class="line">			<span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//567   ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² s1 å’Œ s2 ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ s2 æ˜¯å¦åŒ…å« s1 çš„æ’åˆ—ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false   å’Œ438å‡ ä¹æ²¡å·®</span></span><br><span class="line">&gt;----å˜é‡</span><br><span class="line"><span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  HashMap&lt;Character, Integer&gt; request = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  HashMap&lt;Character, Integer&gt; window = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">char</span> c : s1.toCharArray())&#123;</span><br><span class="line">      request.put(c,request.getOrDefault(c,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line">	<span class="keyword">if</span>(request.containsKey(add))&#123;</span><br><span class="line">          window.put(add,window.getOrDefault(add,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">          <span class="keyword">if</span>(window.get(add).equals(request.get(add)))</span><br><span class="line">         		count++;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">&gt;----åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span><br><span class="line">&gt;<span class="keyword">while</span>(right-left &gt;= s1.length())</span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">if</span>(count == request.size())  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(request.containsKey(remove))&#123;</span><br><span class="line">  <span class="keyword">if</span>(window.get(remove).equals(request.get(remove)))</span><br><span class="line">      count--;</span><br><span class="line">  window.put(remove,window.get(remover)-<span class="number">1</span>);</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;----è¿”å›å€¼</span><br><span class="line">&gt;<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// æ¨¡ç‰ˆæ¡†æ¶æœ‰å˜åŠ¨</span></span><br><span class="line">&gt;<span class="comment">// 1208        å¦‚æœä½ å¯ä»¥å°† s çš„å­å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå®ƒåœ¨ t ä¸­å¯¹åº”çš„å­å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å¯ä»¥è½¬åŒ–çš„æœ€å¤§é•¿åº¦ã€‚</span></span><br><span class="line">&gt;<span class="comment">// é¢˜æ„ï¼š cost ä¸æ˜¯ä¸ªæ•°  è€Œæ˜¯|s[i] - t[i]| å°±æ˜¯ä¸¤ä¸ªå­—ç¬¦çš„ ASCII ç å€¼çš„å·®çš„ç»å¯¹å€¼</span></span><br><span class="line">&gt;----å˜é‡</span><br><span class="line"><span class="type">int</span> right= <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> left= <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">diff</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line">	diff += Math.abs(s.charAt(right) - t.charAt(right));</span><br><span class="line">      right++;</span><br><span class="line">      count++;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;----åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">while</span>(diff&gt;maxCost)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line"></span><br><span class="line">   diff -= Math.abs(s.charAt(left) - t.charAt(left));</span><br><span class="line">   left++;</span><br><span class="line">   count--;</span><br><span class="line"></span><br><span class="line">&gt;----è¿”å›å€¼  </span><br><span class="line">&gt;<span class="comment">// æ›´æ–°å€¼</span></span><br><span class="line">&gt;res = Math.max(res, count);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//1208 å®Œæ•´ä»£ç </span></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// é¢˜æ„ï¼š cost ä¸æ˜¯ä¸ªæ•°  è€Œæ˜¯|s[i] - t[i]| å°±æ˜¯ä¸¤ä¸ªå­—ç¬¦çš„ ASCII ç å€¼çš„å·®çš„ç»å¯¹å€¼</span></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">equalSubstring</span><span class="params">(String s, String t, <span class="type">int</span> maxCost)</span> &#123;</span><br><span class="line">  <span class="type">int</span> right= <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> left= <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">diff</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// çª—å£ æ‰©å¤§</span></span><br><span class="line">  <span class="keyword">while</span>(right&lt;s.length())&#123;</span><br><span class="line">      diff += Math.abs(s.charAt(right) - t.charAt(right));</span><br><span class="line">      right++;</span><br><span class="line">      count++;</span><br><span class="line">      <span class="comment">// ç¼©å°çª—å£</span></span><br><span class="line">      <span class="keyword">while</span>(diff&gt;maxCost)&#123;</span><br><span class="line">          diff -= Math.abs(s.charAt(left) - t.charAt(left));</span><br><span class="line">          left++;</span><br><span class="line">          count--;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// æ›´æ–°å€¼</span></span><br><span class="line">      res = Math.max(res, count);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;----å˜é‡</span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line"></span><br><span class="line">&gt;----åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span><br><span class="line"></span><br><span class="line">&gt;----è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span><br><span class="line"></span><br><span class="line">&gt;----è¿”å›å€¼</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="äºŒåˆ†æœç´¢">äºŒåˆ†æœç´¢</h2>
<blockquote>
<p><strong>ä¸è¦å‡ºç° elseï¼Œè€Œæ˜¯æŠŠæ‰€æœ‰æƒ…å†µç”¨ else if å†™æ¸…æ¥šï¼Œè¿™æ ·å¯ä»¥æ¸…æ¥šåœ°å±•ç°æ‰€æœ‰ç»†èŠ‚</strong>ã€‚</p>
</blockquote>
<blockquote>
<p><strong>å¦å¤–æå‰è¯´æ˜ä¸€ä¸‹ï¼Œè®¡ç®— <code>mid</code> æ—¶éœ€è¦é˜²æ­¢æº¢å‡º</strong>ï¼Œä»£ç ä¸­ <code>left + (right - left) / 2</code> å°±å’Œ <code>(left + right) / 2</code> çš„ç»“æœç›¸åŒï¼Œä½†æ˜¯æœ‰æ•ˆé˜²æ­¢äº† <code>left</code> å’Œ <code>right</code> å¤ªå¤§ï¼Œç›´æ¥ç›¸åŠ å¯¼è‡´æº¢å‡ºçš„æƒ…å†µã€‚</p>
</blockquote>
<blockquote>
<ul>
<li>
<p>while(  &lt;= )    &lt;==&gt;    rightçš„èµ‹å€¼æ˜¯<code>nums.length - 1</code>   &lt;==&gt;    ä¸¤ç«¯éƒ½é—­åŒºé—´ <code>[left, right]</code></p>
</li>
<li>
<p><code>left = mid + 1</code>   æˆ–è€…    <code>right = mid - 1</code></p>
</li>
<li>
<p>while(  &lt; )    &lt;==&gt;    right çš„èµ‹å€¼æ˜¯ <code>nums.length</code>     &lt;==&gt;    å·¦é—­å³å¼€åŒºé—´ <code>[left, right)</code></p>
</li>
<li>
<p><code>left = mid + 1</code>  æˆ–è€…     <code>right = mid</code></p>
</li>
</ul>
<p>å³ä¾§è¾¹ç•Œçš„ä¸€ä¸ª<strong>ç‰¹æ®Šç‚¹</strong>  å°±æ˜¯ç»“å°¾ è·å–leftçš„æ—¶å€™è¦ -1</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ¨¡æ¿</span></span><br><span class="line">	<span class="keyword">while</span>(left &lt;= right) &#123;			---left &lt; right					---left &lt; right</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>; 		--- right=mid ; 						----right = mid ;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] == target) &#123;</span><br><span class="line">... <span class="comment">//ä¸‰é€‰ä¸€ 		  </span></span><br><span class="line"> <span class="comment">// è¿”å›ä¸­ç‚¹ç´¢å¼•å€¼				//å·¦è¾¹ç•Œ                    								//å³è¾¹ç•Œ</span></span><br><span class="line"><span class="comment">/**return mid;*/</span>		<span class="comment">/*right = mid - 1;**/</span>   ---right = mid ;          <span class="comment">/**left = mid + 1;*/</span>  ----left = mid + <span class="number">1</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">--æ³¨æ„ï¼š</span><br><span class="line">	----å…¶å®å¯¹äºå·¦å³è¾¹ç•Œè€Œè¨€</span><br><span class="line">	----è¿”å›çš„æ¡ä»¶ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯åœ¨ <span class="keyword">while</span>()&#123;&#125;ä¸­æœ‰æ‰€å˜åŒ–</span><br><span class="line">....... <span class="comment">//ä¸‰é€‰ä¸€</span></span><br><span class="line"> <span class="comment">// è¿”å›ä¸­ç‚¹ç´¢å¼•å€¼		//å·¦è¾¹ç•Œ</span></span><br><span class="line"> <span class="comment">//return -1;  		//if (left == nums.length) return -1;				//if (left - 1 &lt; 0) return -1;</span></span><br><span class="line">                    <span class="comment">// åˆ¤æ–­ä¸€ä¸‹ nums[left] æ˜¯ä¸æ˜¯ target                  // åˆ¤æ–­ä¸€ä¸‹ nums[left] æ˜¯ä¸æ˜¯ target</span></span><br><span class="line">                    <span class="comment">//return nums[left] == target ? left : -1;         //return nums[left - 1] == target ? (left - 1) : -1;</span></span><br><span class="line">&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="å·¦å³è¾¹ç•Œé—®é¢˜">å·¦å³è¾¹ç•Œé—®é¢˜</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] searchRange(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> [] result = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">            result[<span class="number">0</span>] = -<span class="number">1</span>;</span><br><span class="line">            result[<span class="number">1</span>] = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">leftbound</span> <span class="operator">=</span> GetLeftBound(nums,target);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rightbound</span> <span class="operator">=</span> GetRightBound(nums,target);</span><br><span class="line">        result[<span class="number">0</span>] = leftbound;</span><br><span class="line">        result[<span class="number">1</span>] = rightbound;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span>  result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">GetLeftBound</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right)&#123;   <span class="comment">//[)</span></span><br><span class="line">            mid = left + (right - left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &lt; target)&#123;</span><br><span class="line">                left = mid  + <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &gt; target)&#123;</span><br><span class="line">                right= mid ;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] == target)&#123;</span><br><span class="line">                right = mid ;  <span class="comment">// ç¼©å°å³è¾¹ç•Œ ä»è€Œæ‰¾åˆ°æœ€å·¦è¾¹ç•Œ</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment">// System.out.println(&quot;nums[&quot;+left+&quot;]=&quot; + &quot; &quot;+nums[left]);</span></span><br><span class="line">        <span class="keyword">if</span>(left == nums.length ) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> nums[left]  == target ? left :-<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">GetRightBound</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right)&#123;    <span class="comment">//[)</span></span><br><span class="line">            mid = left + (right - left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &lt; target)&#123;</span><br><span class="line">                left = mid  + <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &gt; target)&#123;</span><br><span class="line">                right = mid ;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] == target)&#123;</span><br><span class="line">                left = mid + <span class="number">1</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//System.out.println(&quot;nums[&quot;+(left-1)+&quot;]=&quot; + &quot; &quot;+nums[left-1]);</span></span><br><span class="line">        <span class="keyword">if</span>(left - <span class="number">1</span> &lt; <span class="number">0</span>)  <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> nums[left-<span class="number">1</span>] == target ?  left -<span class="number">1</span> :-<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ—‹è½¬æ•°ç»„é—®é¢˜">æ—‹è½¬æ•°ç»„é—®é¢˜</h4>
<blockquote>
<p>æ—‹è½¬æ•°ç»„ä¸€èˆ¬ åªæ¯”è¾ƒ <code>mid  æœ€å³   </code>ï¼ˆå› ä¸º  å°¾å·´ï¼ˆæœ€å³ï¼‰ å¿…ç„¶æ˜¯å°äºç­‰äº å¤´  ï¼ˆæœ€å·¦ï¼‰ï¼‰ä¸¤ä¸ªç‚¹  çš„å¤§å°</p>
</blockquote>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="number">33</span>   <span class="comment">// æ‰¾æŒ‡å®šçš„taget</span></span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length -<span class="number">1</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">      mid = left +(right - left)/<span class="number">2</span>;</span><br><span class="line">      <span class="comment">// head   å¿…ç„¶æ˜¯å¤§äº  tail çš„</span></span><br><span class="line">      <span class="type">int</span> <span class="variable">head</span> <span class="operator">=</span> nums[left];</span><br><span class="line">      <span class="type">int</span> <span class="variable">tail</span> <span class="operator">=</span> nums[right];</span><br><span class="line">      <span class="keyword">if</span>(nums[mid] == target) <span class="keyword">return</span> mid;</span><br><span class="line">      <span class="comment">//å¯ä»¥æ˜ç¡®çš„æ˜¯å‰åŠéƒ¨ æ˜¯å‡åºçš„</span></span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &gt;tail)&#123;</span><br><span class="line">          <span class="comment">// å°±å»å‰åŠéƒ¨åˆ†å¯»æ‰¾  æ¯”å¦‚  4 5 6 7 8 9 10 11 12 0 1 2 3  æ‰¾6</span></span><br><span class="line">          <span class="keyword">if</span>(nums[mid]&gt;target &amp;&amp;  head&lt;=target)&#123;</span><br><span class="line">              right = mid -<span class="number">1</span>;</span><br><span class="line">          <span class="comment">// å¦åˆ™å»ååŠéƒ¨åˆ†æŸ¥æ‰¾  æ¯”å¦‚  4 5 6 7 8 9 10 11 12 0 1 2 3  æ‰¾12</span></span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">              left = mid + <span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;<span class="keyword">else</span> &#123;  <span class="comment">//å¯ä»¥æ˜ç¡®çš„æ˜¯  ååŠéƒ¨ æ˜¯å‡åºçš„</span></span><br><span class="line">      <span class="comment">// 6 7 0 1 2 3 4 5   æ‰¾3 </span></span><br><span class="line">          <span class="keyword">if</span>(nums[mid] &lt; target &amp;&amp; tail &gt;= target)&#123;</span><br><span class="line">              left = mid +<span class="number">1</span>;</span><br><span class="line">      <span class="comment">// 6 7 0 1 2 3 4 5   æ‰¾7 </span></span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">              right = mid - <span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;ç‰›å®¢   æ‰¾æœ€å°å€¼  åªä¸å°¾å·´æ¯”è¾ƒ</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minNumberInRotateArray</span><span class="params">(<span class="type">int</span> [] array)</span> &#123;</span><br><span class="line">  <span class="type">int</span>  <span class="variable">right</span> <span class="operator">=</span> array.length - <span class="number">1</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="comment">//å°¾å·´ å¿…ç„¶æ˜¯å°äºç­‰äº å¤´   æ‰€ä»¥åªè¿›è¡Œæ¯”è¾ƒ å°¾å·´å°±å¯ä»¥äº†</span></span><br><span class="line">  <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (left + <span class="number">1</span>  == right)  <span class="keyword">return</span> Math.min(array[left], array[right]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="type">int</span> <span class="variable">tail</span> <span class="operator">=</span> array[right];</span><br><span class="line">      mid = (right - left) / <span class="number">2</span> + left;</span><br><span class="line">      <span class="keyword">if</span> (array[mid] &gt; tail) &#123; <span class="comment">//æ¯”å°¾å·´è¿˜ å¤§</span></span><br><span class="line">          left  =  mid;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (array[mid] &lt; tail) &#123; <span class="comment">//æ¯”å°¾å·´è¿˜å°  è¯´æ˜åé¢ä¸€æ®µè‚¯å®šæ˜¯é€’å¢çš„</span></span><br><span class="line">          right = mid ;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123; <span class="comment">//å’Œå°¾å·´ æˆ–è€… å¤´ ä¸€æ ·å¤§çš„æ—¶å€™   ä¸€ä¸ªä¸€ä¸ªå°è¯•</span></span><br><span class="line">          <span class="comment">// left+=1; æ˜¯è¿‡ä¸æ‰ ç”¨ä¾‹  1,0,1,1,1  çš„  åŸå› æ˜¯ æˆ‘ä»¬æ¯”è¾ƒçš„ æ˜¯ç»“å°¾èŠ‚ç‚¹çš„ å…ƒç´ (array[right])</span></span><br><span class="line">          right -= <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> array[mid];</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="nSumé—®é¢˜">nSumé—®é¢˜</h2>
<blockquote>
<p>å®é™…ä¸Šå°±æ˜¯æŠŠä¹‹å‰çš„é¢˜ç›®è§£æ³•åˆå¹¶èµ·æ¥äº†ï¼Œ<code>n == 2</code> æ—¶æ˜¯ <code>twoSum</code> çš„åŒæŒ‡é’ˆè§£æ³•ï¼Œ<code>n &gt; 2</code> æ—¶å°±æ˜¯ç©·ä¸¾ç¬¬ä¸€ä¸ªæ•°å­—ï¼Œç„¶åé€’å½’è°ƒç”¨è®¡ç®— <code>(n-1)Sum</code>ï¼Œç»„è£…ç­”æ¡ˆã€‚</p>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè°ƒç”¨è¿™ä¸ª <code>nSum</code> å‡½æ•°ä¹‹å‰ä¸€å®šè¦å…ˆç»™ <code>nums</code> æ•°ç»„æ’åº</strong>ï¼Œå› ä¸º <code>nSum</code> æ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œå¦‚æœåœ¨ <code>nSum</code> å‡½æ•°é‡Œè°ƒç”¨æ’åºå‡½æ•°ï¼Œé‚£ä¹ˆæ¯æ¬¡é€’å½’éƒ½ä¼šè¿›è¡Œæ²¡æœ‰å¿…è¦çš„æ’åºï¼Œæ•ˆç‡ä¼šéå¸¸ä½ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ±‚å’Œæ¨¡ç‰ˆï¼š</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; <span class="title function_">nSum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">long</span> target, <span class="type">int</span> n, <span class="type">int</span> start)</span>&#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt;  res= <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(n&lt;<span class="number">2</span> || nums.length &lt; n)&#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> start;</span><br><span class="line">            <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length-<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(left &lt; right)&#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">leftval</span>  <span class="operator">=</span> nums[left];</span><br><span class="line">                <span class="type">int</span> <span class="variable">rightval</span> <span class="operator">=</span> nums[right];</span><br><span class="line">                <span class="type">long</span> <span class="variable">sum</span> <span class="operator">=</span> leftval + rightval;</span><br><span class="line">                <span class="keyword">if</span>(sum &lt; target)&#123;</span><br><span class="line">                    <span class="keyword">while</span>(left&lt;right &amp;&amp; nums[left]==leftval) left++;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sum &gt; target)&#123;</span><br><span class="line">                    <span class="keyword">while</span>(left&lt;right &amp;&amp; nums[right]==rightval) right--;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sum == target)&#123;</span><br><span class="line">                    List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">                    list.add(nums[left]);</span><br><span class="line">                    list.add(nums[right]);</span><br><span class="line">                    res.add(list);</span><br><span class="line">                    <span class="keyword">while</span>(left &lt; right &amp;&amp; nums[left] == leftval) left++;</span><br><span class="line">                    <span class="keyword">while</span>(left &lt; right &amp;&amp; nums[right] == rightval) right--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">           <span class="type">int</span> i= start;</span><br><span class="line">           <span class="keyword">while</span>(i&lt;nums.length)&#123;</span><br><span class="line">               <span class="type">int</span> <span class="variable">now</span> <span class="operator">=</span> nums[i];</span><br><span class="line">                List&lt;List&lt;Integer&gt;&gt; lists = nSum(nums,target-now,n-<span class="number">1</span>,i+<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">for</span>(List&lt;Integer&gt;list : lists)&#123;</span><br><span class="line">                    list.add(now);</span><br><span class="line">                    res.add(list);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">while</span>(i&lt;nums.length &amp;&amp; nums[i] == now)</span><br><span class="line">                    i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="å‰ç¼€å’Œ">==å‰ç¼€å’Œ==</h2>
<h4 id="ä¸€ç»´æ•°ç»„å‰ç¼€å’Œ">ä¸€ç»´æ•°ç»„å‰ç¼€å’Œ</h4>
<blockquote>
<p>å°±æ˜¯å°† ä¸€ä¸ªæ•°ç»„ å‰é¢ä»  ä¸‹æ ‡<code>i~j</code>çš„å¤šä¸ªæ•°è¿›è¡Œæ±‚å’Œ</p>
</blockquote>
<h4 id="æ ¸å¿ƒä»£ç ">æ ¸å¿ƒä»£ç </h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">â‘ <span class="comment">//ç”¨æ•°ç»„å­˜å‚¨çš„å½¢å¼</span></span><br><span class="line"><span class="type">int</span> preSum[] = <span class="keyword">new</span> <span class="title class_">int</span>(nums.length+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">    preSum[i] = preSum[i-<span class="number">1</span>]+nums[i-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">---- è¿”å›æŸä¸€ä¸ª åŒºé—´çš„ å€¼</span><br><span class="line">    </span><br><span class="line"><span class="keyword">return</span> preSum[right + <span class="number">1</span>] - preSum[left];</span><br><span class="line"><span class="comment">//Presum çš„ ç¬¬ä¸€ä½ é»˜è®¤ä¸º 0 ;  èµ‹å€¼æ˜¯ä» ç¬¬äºŒä½ï¼ˆi=1ï¼‰å¼€å§‹çš„  </span></span><br><span class="line"><span class="comment">//æ‰€ä»¥æ˜¯   right + 1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">â‘¡<span class="comment">//ä¸ç”¨æ•°ç»„å­˜å‚¨çš„å½¢å¼  724</span></span><br><span class="line"><span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">       sum += nums[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">â‘¢<span class="comment">//ä½¿ç”¨map é›†åˆçš„å½¢å¼ï¼š  560   1248</span></span><br><span class="line"> 		HashMap&lt;Integer, Integer&gt; preSumMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, Integer&gt;();</span><br><span class="line">        <span class="comment">//å‰ç¼€å’Œmapé›†åˆ ç¬¬ä¸€ä½ä¸€æ ·ä¸º0</span></span><br><span class="line">        preSumMap.put(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">      	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">            sum+=nums[i];</span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<h4 id="åŸç†ï¼š">åŸç†ï¼š</h4>
<blockquote>
<img src="https://gitee.com/Ryang1118/typora/raw/master/images/202303241717648.png" alt="image-20230324171756609" style="zoom:25%;">
<ul>
<li>
<p>è¿™æ ·å°±èƒ½å¾—åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„<code>preSum[]  </code>ï¼Œè¿™ä¸ªæ•°ç»„å­˜æ”¾çš„ å€¼ å°±æ˜¯å‰ n  ä¸ª æ•°æ±‚å’Œçš„ç»“æœ</p>
</li>
<li>
<p>Presum çš„ ç¬¬ä¸€ä½ é»˜è®¤ä¸º 0 ;  èµ‹å€¼æ˜¯ä» ç¬¬äºŒä½<code>ï¼ˆi=1ï¼‰</code>å¼€å§‹çš„</p>
</li>
</ul>
</blockquote>
<h4 id="äºŒç»´æ•°ç»„å‰ç¼€å’Œ">äºŒç»´æ•°ç»„å‰ç¼€å’Œ</h4>
<h5 id="æ ¸å¿ƒä»£ç -2">æ ¸å¿ƒä»£ç </h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="type">int</span> [][]preSum = <span class="keyword">new</span> <span class="title class_">int</span>[m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">                <span class="comment">// è®¡ç®—æ¯ä¸ªçŸ©é˜µ [0, 0, i, j] çš„å…ƒç´ å’Œ</span></span><br><span class="line">                preSum[i][j] = preSum[i-<span class="number">1</span>][j] + preSum[i][j-<span class="number">1</span>] + matrix[i - <span class="number">1</span>][j - <span class="number">1</span>] - preSum[i-<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line">                <span class="comment">//è·å¾—æ¯ä¸ªçŸ©é˜µçš„å¤§å°</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> preSum[x2+<span class="number">1</span>][y2+<span class="number">1</span>] - preSum[x1][y2+<span class="number">1</span>] - preSum[x2+<span class="number">1</span>][y1] + preSum[x1][y1];</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>==æ³¨ï¼š==<br>
1ã€<code> preSum[i][j] = preSum[i-1][j] + preSum[i][j-1] + matrix[i - 1][j - 1] - preSum[i-1][j-1];</code></p>
<ul>
<li>
<p>è¿™æ˜¯æ¥è·å¾—çŸ©é˜µä¸­æ¯ä¸€ä½çš„ å€¼ï¼ŒpreSumçŸ©é˜µçš„ è¡Œ<code> i</code> åˆ—<code> j</code>è¡¨ç¤º  åŸçŸ©é˜µ  çš„ç¬¬<code>(i-1)</code>è¡Œç¬¬<code>(j-1)</code>åˆ—çš„å…ƒç´ ä¹‹å’Œæ˜¯å¤šå°‘</p>
</li>
<li>
<p>è¿™ä¸ªå…¬å¼çš„å«ä¹‰å°±æ˜¯ï¼š</p>
</li>
</ul>
<p><img src="https://gitee.com/Ryang1118/typora/raw/master/images/202303241646207.png" alt></p>
<p>å°†å·²çŸ¥çš„ <code>çŸ©é˜µé¢ç§¯[i-1,j]ï¼ˆçº¢è‰²éƒ¨åˆ†ï¼‰</code> å’Œ<code>çŸ©é˜µé¢ç§¯[i,j-1]ï¼ˆçº¢è‰²éƒ¨åˆ†ï¼‰</code>ä¹‹å’Œ å‡å» <code>é‡å çŸ©é˜µé¢ç§¯[i,j-1]ï¼ˆé»„è‰²å­—ä½“éƒ¨åˆ†ï¼‰</code> å†åŠ ä¸Š<code>åŸçŸ©é˜µçš„å½“å‰å€¼matrix[i-1,j-1]</code>   å°±æ˜¯æ‰€æ±‚å¾—åˆ°<code>åŸçŸ©é˜µ[i-1,j-1]é¢ç§¯ä¹‹å’Œ</code>  å­˜æ”¾åœ¨ <code>ç°åœ¨çŸ©é˜µpreSum[i][j]</code>ä¸­</p>
<p><strong>æ³¨æ„ï¼š</strong><code>iï¼Œj</code>éƒ½æ˜¯ä»¥preSumä¸ºåŸºå‡†ï¼Œä¸Šå›¾çš„çŸ©é˜µæ˜¯ <code>matirx</code>ä¸­çš„çŸ©é˜µ</p>
<p>2ã€<code>preSum[x2+1][y2+1] - preSum[x1][y2+1] - preSum[x2+1][y1] + preSum[x1][y1];</code></p>
<p>â€‹	<strong>åŸç†</strong>ï¼š<img src="https://gitee.com/Ryang1118/typora/raw/master/images/202303241707744.png" alt="image-20230324170718702" style="zoom:25%;"></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 560   ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å› è¯¥æ•°ç»„ä¸­å’Œä¸º k çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•° </span></span><br><span class="line">---- å‰ç¼€å’Œå˜é‡   +  map   ä¸€è¾¹åŠ   ä¸€è¾¹å¯»æ‰¾  ä¸€éput </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">subarraySum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">            HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">            <span class="comment">// ç¬¬ä¸€æ”¾ 0</span></span><br><span class="line">            map.put(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span>  <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">                sum += nums[i];</span><br><span class="line">                <span class="comment">//åˆ¤æ–­mapä¸­æœ‰æ²¡æœ‰ sum-k   è¦æ˜¯æœ‰çš„è¯å°±è¯´æ˜æœ‰è¿™ä¸ªå­é›†</span></span><br><span class="line">                <span class="keyword">if</span>(map.containsKey(sum-k))&#123;</span><br><span class="line">                    count+=map.get(sum-k);</span><br><span class="line">                &#125;</span><br><span class="line">                map.put(sum, map.getOrDefault(sum,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> count;</span><br><span class="line">----å¦ä¸€ç§ è€—æ—¶çš„å†™æ³•:</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">subarraySum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">            <span class="type">int</span> prefix[] = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length+<span class="number">1</span>];</span><br><span class="line">             <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">                prefix[i+<span class="number">1</span>] = prefix[i]+ nums[i];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;prefix.length;i++)&#123; </span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i;j&lt;prefix.length-<span class="number">1</span>;j++)&#123;</span><br><span class="line">                    <span class="comment">//æ­¤å¤„ç´¢å¼•åç§»</span></span><br><span class="line">                    <span class="keyword">if</span>(prefix[j+<span class="number">1</span>]-prefix[i] == k)&#123;</span><br><span class="line">                        count++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//1248  ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° kã€‚å¦‚æœæŸä¸ªè¿ç»­å­æ•°ç»„ä¸­æ°å¥½æœ‰ k ä¸ªå¥‡æ•°æ•°å­—ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºè¿™ä¸ªå­æ•°ç»„æ˜¯ã€Œä¼˜ç¾å­æ•°ç»„ã€ã€‚</span></span><br><span class="line"></span><br><span class="line">---- å‰ç¼€å’Œ + æ€æƒ³è½¬æ¢ + map</span><br><span class="line">---- å¥‡å¶ æŸç§æ„ä¹‰ä¸Š æ˜¯ç­‰äº <span class="number">0</span>/<span class="number">1</span> çš„</span><br><span class="line">    <span class="comment">// åŒ 560 å¥‡æ•°å˜ 1ï¼Œå¶æ•°å˜ 0ï¼Œç„¶åæ‰¾åŒºé—´å’Œä¸º kï¼ˆKä¸ª1ï¼‰ çš„å­æ•°ç»„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numberOfSubarrays</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        HashMap&lt;Integer, Integer&gt; preSumMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, Integer&gt;();</span><br><span class="line">        <span class="comment">//å‰ç¼€å’Œmapé›†åˆ ç¬¬ä¸€ä½ä¸€æ ·ä¸º0</span></span><br><span class="line">        preSumMap.put(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//å˜æ›´æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i]%<span class="number">2</span> == <span class="number">0</span>) nums[i] =<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> nums[i] =<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ±‚å‰ç¼€å’Œä¸º K çš„å­é›†ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">            sum+=nums[i];</span><br><span class="line">            <span class="keyword">if</span>(preSumMap.containsKey(sum-k))&#123;</span><br><span class="line">                count+=preSumMap.get(sum-k);</span><br><span class="line">            &#125;</span><br><span class="line">            preSumMap.put(sum,preSumMap.getOrDefault(sum,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//724  æ•°ç»„ ä¸­å¿ƒä¸‹æ ‡ æ˜¯æ•°ç»„çš„ä¸€ä¸ªä¸‹æ ‡ï¼Œå…¶å·¦ä¾§æ‰€æœ‰å…ƒç´ ç›¸åŠ çš„å’Œç­‰äºå³ä¾§æ‰€æœ‰å…ƒç´ ç›¸åŠ çš„å’Œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pivotIndex</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        map.put(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++)&#123;</span><br><span class="line">            sum += nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">          sum -= nums[i];</span><br><span class="line">          <span class="keyword">if</span>(sum == left) <span class="keyword">return</span> i;</span><br><span class="line">          left+=nums[i];</span><br><span class="line">       &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">------- å¦å¤–çš„è§£æ³•</span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pivotIndex</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">           sum += nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">//   æ–¹å¼ä¸€:åˆ¤æ–­å·¦ç«¯ å’Œ å³ç«¯ çš„å’Œ</span></span><br><span class="line">    <span class="comment">//     for(int i =0;i&lt;nums.length;i++) &#123;</span></span><br><span class="line">    <span class="comment">//         right = right - nums[i];</span></span><br><span class="line">    <span class="comment">//         if (right == left) return i;</span></span><br><span class="line">    <span class="comment">//         left += nums[i]; </span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">//æ–¹å¼äºŒï¼š å·¦ç«¯ å’Œ + ä¸­é—´ç‚¹  = æ€»å’Œ</span></span><br><span class="line">          <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">              <span class="comment">//å·¦æ±‚å’Œ*2+ä¸­å¿ƒç´¢å¼•å€¼ = æ€»å’Œ</span></span><br><span class="line">            <span class="keyword">if</span> (left * <span class="number">2</span> + nums[i] == sum) <span class="keyword">return</span> i;</span><br><span class="line">            left += nums[i]; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">map + å‰ç¼€å’Œçš„æ¨¡ç‰ˆ</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">subarraySum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="comment">// k-v k:å‰ç¼€å’Œï¼ˆæœ‰Nä¸ªå¥‡æ•°ï¼‰ vï¼šæœ‰å‡ ç§æƒ…å†µ</span></span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">--------æ¨¡ç‰ˆï¼š      <span class="comment">//ï¼ˆsum += numï¼‰</span></span><br><span class="line">    </span><br><span class="line">----------<span class="number">1248</span>     sum+=<span class="number">1</span>; <span class="comment">//å°±æ˜¯è½¬ä¸º0ï¼ˆå¶æ•°ï¼‰/1ï¼ˆå¥‡æ•°ï¼‰</span></span><br><span class="line">-------<span class="number">560</span>         sum += num; <span class="comment">//724ä¹Ÿè¿™ä¹ˆå†™</span></span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">------<span class="number">560</span> <span class="number">1248</span>  èƒ½åœ¨ä¸€ä¸ªå¾ªç¯çš„å†™åŸå› æ˜¯  æ¯æ¬¡ç´¯åŠ æ±‚å’Œ çš„sum éƒ½è¦è¿›è¡Œæ¯”è¾ƒ          </span><br><span class="line">         <span class="keyword">if</span> (map.containsKey(sum - k)) &#123;</span><br><span class="line">              count += map.get(sum - k);</span><br><span class="line">         &#125;</span><br><span class="line">         map.put(sum, map.getOrDefault(sum,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//----724 è¦ä¸¤æ¬¡å¾ªç¯  å› ä¸ºåœ¨æ‹¿åˆ°ç»“æœä¹‹åå†è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">//    	for(int i= 0;i&lt;nums.length;i++)&#123;</span></span><br><span class="line"><span class="comment">//          sum -= nums[i];</span></span><br><span class="line"><span class="comment">//          if(sum == count) return i;</span></span><br><span class="line"><span class="comment">//          count+=nums[i];</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1248  æ»‘åŠ¨çª—å£çš„è§£æ³•ï¼š</p>
<blockquote>
<p>æ ·ä¾‹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">&gt;è¾“å…¥ï¼šnums = [2,2,2,1,2,2,1,2,2,2], k = 2</span><br><span class="line">&gt;è¾“å‡ºï¼š16</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numberOfSubarrays</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>, oddCnt = <span class="number">0</span>, res = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (right &lt; nums.length) &#123;</span><br><span class="line">      <span class="comment">// å³æŒ‡é’ˆå…ˆèµ°ï¼Œæ¯é‡åˆ°ä¸€ä¸ªå¥‡æ•°åˆ™ oddCnt++ã€‚</span></span><br><span class="line">      <span class="keyword">if</span> ((nums[right++]  % <span class="number">2</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">          oddCnt++;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//  è‹¥å½“å‰æ»‘åŠ¨çª—å£ [left, right) ä¸­æœ‰ k ä¸ªå¥‡æ•°äº†ï¼Œè¿›å…¥æ­¤åˆ†æ”¯ç»Ÿè®¡å½“å‰æ»‘åŠ¨çª—å£ä¸­çš„ä¼˜ç¾å­æ•°ç»„ä¸ªæ•°ã€‚</span></span><br><span class="line">      <span class="keyword">if</span> (oddCnt == k) &#123;</span><br><span class="line">          <span class="comment">// å…ˆå°†æ»‘åŠ¨çª—å£çš„å³è¾¹ç•Œå‘å³æ‹“å±•ï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªå¥‡æ•°ï¼ˆæˆ–å‡ºç•Œï¼‰</span></span><br><span class="line">          <span class="comment">// rightEvenCnt å³ä¸ºç¬¬ k ä¸ªå¥‡æ•°å³è¾¹çš„å¶æ•°çš„ä¸ªæ•°</span></span><br><span class="line">          <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> right;</span><br><span class="line">          <span class="keyword">while</span> (right &lt; nums.length &amp;&amp; (nums[right] % <span class="number">2</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">              right++;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="type">int</span> <span class="variable">rightEvenCnt</span> <span class="operator">=</span> right - tmp;</span><br><span class="line">          <span class="comment">// leftEvenCnt å³ä¸ºç¬¬ 1 ä¸ªå¥‡æ•°å·¦è¾¹çš„å¶æ•°çš„ä¸ªæ•°</span></span><br><span class="line">          <span class="type">int</span> <span class="variable">leftEvenCnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">          <span class="keyword">while</span> ((nums[left] % <span class="number">2</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">              leftEvenCnt++;</span><br><span class="line">              left++;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// ç¬¬ 1 ä¸ªå¥‡æ•°å·¦è¾¹çš„ leftEvenCnt ä¸ªå¶æ•°éƒ½å¯ä»¥ä½œä¸ºä¼˜ç¾å­æ•°ç»„çš„èµ·ç‚¹</span></span><br><span class="line">          <span class="comment">// (å› ä¸ºç¬¬1ä¸ªå¥‡æ•°å·¦è¾¹å¯ä»¥1ä¸ªå¶æ•°éƒ½ä¸å–ï¼Œæ‰€ä»¥èµ·ç‚¹çš„é€‰æ‹©æœ‰ leftEvenCnt + 1 ç§ï¼‰</span></span><br><span class="line">          <span class="comment">// ç¬¬ k ä¸ªå¥‡æ•°å³è¾¹çš„ rightEvenCnt ä¸ªå¶æ•°éƒ½å¯ä»¥ä½œä¸ºä¼˜ç¾å­æ•°ç»„çš„ç»ˆç‚¹</span></span><br><span class="line">          <span class="comment">// (å› ä¸ºç¬¬kä¸ªå¥‡æ•°å³è¾¹å¯ä»¥1ä¸ªå¶æ•°éƒ½ä¸å–ï¼Œæ‰€ä»¥ç»ˆç‚¹çš„é€‰æ‹©æœ‰ rightEvenCnt + 1 ç§ï¼‰</span></span><br><span class="line">          <span class="comment">// æ‰€ä»¥è¯¥æ»‘åŠ¨çª—å£ä¸­ï¼Œä¼˜ç¾å­æ•°ç»„å·¦å³èµ·ç‚¹çš„é€‰æ‹©ç»„åˆæ•°ä¸º (leftEvenCnt + 1) * (rightEvenCnt + 1)</span></span><br><span class="line">          res += (leftEvenCnt + <span class="number">1</span>) * (rightEvenCnt + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">          <span class="comment">// æ­¤æ—¶ left æŒ‡å‘çš„æ˜¯ç¬¬ 1 ä¸ªå¥‡æ•°ï¼Œå› ä¸ºè¯¥åŒºé—´å·²ç»ç»Ÿè®¡å®Œäº†ï¼Œå› æ­¤ left å³ç§»ä¸€ä½ï¼ŒoddCnt--</span></span><br><span class="line">          left++;</span><br><span class="line">          oddCnt--;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="å·®åˆ†æ•°ç»„">å·®åˆ†æ•°ç»„</h2>
<blockquote>
<p><strong>ä¸»è¦é€‚ç”¨åœºæ™¯</strong> æ˜¯é¢‘ç¹å¯¹åŸå§‹æ•°ç»„çš„<strong>æŸä¸ªåŒºé—´çš„å…ƒç´ è¿›è¡Œå¢å‡</strong>ã€‚</p>
<p>æ€»å…±éœ€è¦<code>ä¸‰ä¸ªæ•°ç»„</code></p>
</blockquote>
<h4 id="æ ¸å¿ƒä»£ç -3">æ ¸å¿ƒä»£ç </h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">diff[<span class="number">0</span>] = nums[<span class="number">0</span>];  <span class="comment">//åŒºåˆ«</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i= <span class="number">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">    diff[i] = nums[i]-nums[i-<span class="number">1</span>];</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h4 id="åŸç†ï¼š-2">åŸç†ï¼š</h4>
<blockquote>
<img src="https://gitee.com/Ryang1118/typora/raw/master/images/202303241742451.png" style="zoom:25%;">
<p>ä¹‹åå°±å¯ä»¥ç»ç”± å·®åˆ†æ•°ç»„ <strong>åæ¨</strong> åŸæ•°ç»„</p>
</blockquote>
<h4 id="åæ¨ä»£ç ">åæ¨ä»£ç </h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> res[] = <span class="keyword">new</span> <span class="title class_">int</span> [diff.length];</span><br><span class="line">res[<span class="number">0</span>] = diff[<span class="number">0</span>];  <span class="comment">// åŒä¸Š </span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i&lt;diff.length;i++)&#123;</span><br><span class="line">    res[i] = res[i-<span class="number">1</span>]+diff[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¦‚æœè¦å¯¹åŒºé—´ <code>nums[i..j]</code> çš„å…ƒç´ å…¨éƒ¨åŠ  3ï¼Œé‚£ä¹ˆåªéœ€è¦è®© <code>diff[i] += 3</code>ï¼Œç„¶åå†è®© <code>diff[j+1] -= 3</code> å³å¯</p>
<p>â€‹	<strong>å…¶å® nums[] å’Œ diff[] æ˜¯ä¸€æ ·é•¿çš„ï¼Œæ‰€ä»¥ä¸‹æ ‡é•¿åº¦ä½ç½®ä¹Ÿæ˜¯ä¸€æ ·çš„</strong>ï¼Œæ‰€ä»¥ç›´æ¥ j+1</p>
</blockquote>
<h4 id="ä»£ç ç»„åˆ">ä»£ç ç»„åˆ</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­£æ¨ å·®åˆ†æ•°ç»„</span></span><br><span class="line">	<span class="type">int</span>[] diff = <span class="literal">null</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Difference</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>( nums.length == <span class="number">0</span>)  <span class="keyword">return</span> ;</span><br><span class="line">        </span><br><span class="line">        diff = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">        diff[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            diff[i] = nums[i] - nums[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// åæ¨åŸæ•°ç»„</span></span><br><span class="line"> 	<span class="keyword">public</span> <span class="type">int</span>[] result() &#123;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[diff.length];</span><br><span class="line">       </span><br><span class="line">        res[<span class="number">0</span>] = diff[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; diff.length; i++) &#123;</span><br><span class="line">            res[i] = res[i - <span class="number">1</span>] + diff[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿›è¡Œå¢åŠ ï¼ˆ+ æ­£æ•°ï¼‰ã€å‡å°‘ï¼ˆ+ è´Ÿæ•°ï¼‰æ“ä½œ</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">increment</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="comment">//  diff[i] åŠ  val   diffæ˜¯å·®åˆ†æ•°ç»„   æ„å‘³ç€ä» [i]å¼€å§‹ä¹‹åçš„æ¯ä¸€ä¸ªåŸæ•°ç»„ä¸­çš„æ•°éƒ½ä¼š+3  å°±æ˜¯è¯´ï¼Œè¿™ä¸ªåŠ çš„æ•°æ˜¯ å·®å€¼</span></span><br><span class="line">        diff[i] += val;  </span><br><span class="line">        <span class="keyword">if</span> (j + <span class="number">1</span> &lt; diff.length) &#123;</span><br><span class="line">            diff[j + <span class="number">1</span>] -= val;</span><br><span class="line">            <span class="comment">//å½“ j+1 &gt;= diff.length æ—¶ï¼Œè¯´æ˜æ˜¯å¯¹ nums[i] åŠä»¥åçš„æ•´ä¸ªæ•°ç»„éƒ½è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å†ç»™ diff æ•°ç»„å‡ val äº†ã€‚</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ¨¡ç‰ˆæ•´åˆ">æ¨¡ç‰ˆæ•´åˆ</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//èˆªç­é¢„å®šç»Ÿè®¡    +    æ‹¼è½¦  </span></span><br><span class="line">	<span class="type">int</span> diff[];</span><br><span class="line">    <span class="type">int</span> result [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] corpFlightBookings(<span class="type">int</span>[][] bookings, <span class="type">int</span> n) &#123;</span><br><span class="line">        </span><br><span class="line">        result = <span class="keyword">new</span> <span class="title class_">int</span> [n];</span><br><span class="line">        diff = <span class="keyword">new</span> <span class="title class_">int</span> [n];</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span> || bookings.length == <span class="number">0</span> ) <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ­£æ¨ diff æ•°ç»„çš„å€¼</span></span><br><span class="line">        <span class="comment">//diff[0] = nums[0];</span></span><br><span class="line">        <span class="comment">//for(int i = 1; i &lt; n-1; i++)&#123;</span></span><br><span class="line">        	<span class="comment">// æŸä¸ªä¸€ç»´æ•°ç»„ nums</span></span><br><span class="line">            <span class="comment">//diff[i] = nums[i]-nums[i-1];</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¾ªç¯ ä¸” æ“ä½œ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> []booking :bookings)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> booking[<span class="number">0</span>]-<span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> booking[<span class="number">1</span>]-<span class="number">1</span>;  <span class="comment">//-1 æ˜¯å› ä¸ºä¸‹æ ‡æ˜¯ä» 1 å¼€å§‹çš„ï¼Œè¦æ˜¯ä» 0 å¼€å§‹å°±ä¸ç”¨ -1</span></span><br><span class="line">            <span class="type">int</span> val=booking[<span class="number">2</span>];</span><br><span class="line">            							 <span class="comment">//  èˆªç­é¢„è®¢ç»Ÿè®¡</span></span><br><span class="line">            							 <span class="comment">//  int j  = trip[2]-1; //åæ ‡èŒƒå›´ï¼š 0 &lt;= fromi &lt; toi &lt;= 1000</span></span><br><span class="line">            													 <span class="comment">//ä½†æ˜¯ åœ¨ trip[2]  ä½ç½®å·²ç»ä¸‹è½¦ï¼Œåœ¨è½¦ä¸Šçš„åŒºé—´å°±æ˜¯  [trip[1],trip[2]-1]</span></span><br><span class="line">           <span class="comment">// è¿›è¡Œæ“ä½œ</span></span><br><span class="line">            diff[i] += val;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//diff.length</span></span><br><span class="line">            <span class="keyword">if</span>(j+<span class="number">1</span>&lt;diff.length)&#123;</span><br><span class="line">            	diff[j+<span class="number">1</span>] -= val;</span><br><span class="line">        	&#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åæ¨ åŸæ•°ç»„çš„å€¼</span></span><br><span class="line">        result[<span class="number">0</span>] = diff[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;diff.length;i++)&#123;</span><br><span class="line">            result[i] = result[i-<span class="number">1</span>]+diff[i];</span><br><span class="line">            	<span class="comment">//æ‹¼è½¦æ—¶ï¼š</span></span><br><span class="line">            	 <span class="keyword">if</span>(res[i] &gt; capacity) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;    <span class="comment">//return true;</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="å•è°ƒæ ˆ">å•è°ƒæ ˆ</h2>
<h4 id="æ¨¡ç‰ˆ">æ¨¡ç‰ˆ</h4>
<blockquote>
<p>==æ³¨æ„== æ‰€æœ‰å…¥æ ˆçš„å…ƒç´ å…¨æ˜¯ æ•°ç»„ä¸‹æ ‡  <code> Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();  //å­˜çš„éƒ½æ˜¯è§’æ ‡</code></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>()&#123;...è§ä¸‹&#125;</span><br><span class="line"><span class="comment">// æœ€å¤§é¢ç§¯    å•è°ƒå‡æ ˆ -----------------------------------æ•°ç»„æ‰©å®¹ï¼Œæ”¶å°¾ + 0</span></span><br><span class="line"> <span class="comment">// å½“å‰ æ¯” å‰é¢çš„éƒ½è¦ å°çš„æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">                <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> res[stack.peek()];</span><br><span class="line">                <span class="comment">//System.out.print(mid);</span></span><br><span class="line">                stack.pop();</span><br><span class="line">                <span class="keyword">if</span>(!stack.isEmpty())&#123;</span><br><span class="line">                     <span class="comment">// å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯” å½“å‰å€¼å° çš„æŸ±å­</span></span><br><span class="line">                    <span class="comment">//int left = res[stack.peek()];</span></span><br><span class="line">                    <span class="comment">//System.out.print(left);</span></span><br><span class="line">                    <span class="comment">// å³è¾¹ç¬¬ä¸€ä¸ªæ¯” å½“å‰å€¼å° çš„æŸ±å­</span></span><br><span class="line">                    <span class="comment">//int right = res[i];</span></span><br><span class="line">                    <span class="comment">//System.out.print(right);</span></span><br><span class="line">                    <span class="comment">// å·¦å³æœ€å°æŸ±å­ä¹‹é—´çš„ é—´éš” åº•</span></span><br><span class="line">                    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> i-stack.peek()-<span class="number">1</span>;</span><br><span class="line">                    <span class="comment">//System.out.print(len);</span></span><br><span class="line">                    <span class="comment">// ä»¥å½“å‰æŸ±å­ä¸º é«˜ ç®—å¾— æœ€ å¤§é¢ç§¯</span></span><br><span class="line">                    result= Math.max(result,mid*len);</span><br><span class="line">                    <span class="comment">//System.out.print(result);</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>==496  ä¸‹ä¸€ä¸ªæ›´å¤§æ•° I==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="type">int</span> result[];</span><br><span class="line">&gt;<span class="type">int</span> []res;</span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span>[] nextGreaterElement(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2) &#123;</span><br><span class="line"></span><br><span class="line">  res = <span class="keyword">new</span> <span class="title class_">int</span>[nums2.length];</span><br><span class="line">  Arrays.fill(res,-<span class="number">1</span>);</span><br><span class="line">  result  = <span class="keyword">new</span> <span class="title class_">int</span>[nums1.length];</span><br><span class="line">  Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">  HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  <span class="comment">//å…ˆå°† ç¬¬ 0 ä¸ª å…ƒç´ åŠ å…¥åˆ°æ ˆï¼Œé˜²æ­¢æ ˆç©º </span></span><br><span class="line">  stack.push(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums2.length; i++) &#123;</span><br><span class="line">      <span class="comment">//å•è°ƒé€’å¢æ ˆ</span></span><br><span class="line">      <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; nums2[i]&gt;nums2[stack.peek()]) &#123;</span><br><span class="line">          res[stack.peek()] = nums2[i];</span><br><span class="line">          stack.pop();</span><br><span class="line">      &#125;</span><br><span class="line">      stack.push(i);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums2.length; i++) &#123;</span><br><span class="line">      map.put(nums2[i],res[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums1.length; i++) &#123;</span><br><span class="line">      result[i]= map.get(nums1[i]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<p>==503 ä¸‹ä¸€ä¸ªæ›´å¤§æ•° II==</p>
<p>==ç¯å½¢æ•°ç»„å¤„ç†æ–¹æ³•==  % å–ä½™  åŠ é•¿æ•°ç»„é•¿åº¦ï¼Œä½¿æ•°ç»„é•¿ * 2   ä¹‹åå¯¹æ‰€æœ‰çš„i ç›¸å…³æ“ä½œ % nums.length</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="type">int</span> res[];</span><br><span class="line">&gt;<span class="type">int</span> result[];</span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span>[] nextGreaterElements(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">  res = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span> * nums.length];</span><br><span class="line">  result = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">  Arrays.fill(res,-<span class="number">1</span>);</span><br><span class="line">  Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">  stack.push(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;<span class="number">2</span> * nums.length; i++) &#123;</span><br><span class="line">      <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; nums[i%nums.length] &gt; nums[stack.peek()]) &#123;</span><br><span class="line">          res[stack.peek()] = nums[i%nums.length];</span><br><span class="line">          stack.pop();</span><br><span class="line">      &#125;</span><br><span class="line">      stack.push(i%nums.length);</span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">      result[i] = res[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<p>==739  æ¯æ—¥æ¸©åº¦  ä¸‹ä¸€ä¸ªå¤§çš„æ•°çš„è§’æ ‡==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span>[] dailyTemperatures(<span class="type">int</span>[] temperatures) &#123;</span><br><span class="line">  <span class="type">int</span> []res  = <span class="keyword">new</span> <span class="title class_">int</span> [temperatures.length];</span><br><span class="line">  Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();  <span class="comment">//å­˜çš„éƒ½æ˜¯è§’æ ‡</span></span><br><span class="line">  <span class="comment">// é¦–å…ˆæŠŠæ•°ç»„çš„ ç¬¬ä¸€ä¸ªå…ƒç´ å…¥æ ˆï¼Œéšåæ‰èƒ½æ¯”è¾ƒ</span></span><br><span class="line">  stack.push(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt; temperatures.length;i++)&#123;</span><br><span class="line">      <span class="comment">// è¿™é‡Œ temperatures[i]&gt;temperatures[stack.peek()]  å¤§äº  å°±æ˜¯å•è°ƒå¢ æ ˆ</span></span><br><span class="line">      <span class="comment">//       			  &lt;							   å°äº  å°±æ˜¯å•è°ƒå‡ æ ˆ</span></span><br><span class="line">      <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; temperatures[i]&gt;temperatures[stack.peek()])&#123;</span><br><span class="line">          <span class="comment">// è¿”å›ä¸‹æ ‡ä¹‹é—´çš„å·®å€¼</span></span><br><span class="line">          res[stack.peek()] = i - stack.peek();   </span><br><span class="line">          <span class="comment">// è¿”å›ä¸‹æ ‡å¯¹åº”çš„å€¼</span></span><br><span class="line">          <span class="comment">//res[stack.peek()] = nums2[i];     ä¸¤ä¸ªæ•°ç»„çš„è¯å¯ä»¥ç”¨mapè¿›è¡Œæ¥æ”¶ </span></span><br><span class="line">          stack.pop();</span><br><span class="line">      &#125;  </span><br><span class="line">      stack.push(i);      </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<p>==42æ¥é›¨æ°´==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">trap</span><span class="params">(<span class="type">int</span>[] height)</span> &#123;</span><br><span class="line">  <span class="type">int</span> res [] = <span class="keyword">new</span> <span class="title class_">int</span>[height.length];</span><br><span class="line">  Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">  stack.push(<span class="number">0</span>);</span><br><span class="line">  <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span> ;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; height.length;i++) &#123;</span><br><span class="line">      <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; height[i] &gt; height[stack.peek()]) &#123;</span><br><span class="line">       <span class="comment">// æ¥é›¨æ°´    å•è°ƒå¢æ ˆ</span></span><br><span class="line">          <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> height[stack.peek()];</span><br><span class="line">          <span class="comment">// å‡ºæ ˆ</span></span><br><span class="line">          stack.pop();</span><br><span class="line">          <span class="keyword">if</span>(!stack.isEmpty())&#123;</span><br><span class="line">              <span class="comment">// å·¦è¾¹ç¬¬ä¸€ä¸ªé«˜çš„   å°±æ˜¯æ ˆé‡Œé¢ å‡¹æ§½å€¼ çš„ä¸‹ä¸€ä¸ª</span></span><br><span class="line">              <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span>height[stack.peek()];</span><br><span class="line">              <span class="comment">// å³è¾¹ç¬¬ä¸€ä¸ªé«˜çš„   å°±æ˜¯å½“å‰è¦è¿›æ ˆçš„å€¼</span></span><br><span class="line">              <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span>height[i];</span><br><span class="line">              <span class="comment">// åº•</span></span><br><span class="line">              <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> i-stack.peek()-<span class="number">1</span>;  <span class="comment">//-1</span></span><br><span class="line">              <span class="comment">// é«˜</span></span><br><span class="line">              <span class="type">int</span> <span class="variable">hei</span> <span class="operator">=</span> Math.min(left,right)-mid;</span><br><span class="line">              <span class="comment">//é¢ç§¯ = åº•*é«˜</span></span><br><span class="line">              sum +=  hei*len;</span><br><span class="line">          &#125;</span><br><span class="line">       &#125;</span><br><span class="line">         stack.push(i);</span><br><span class="line">      &#125;</span><br><span class="line">       <span class="keyword">return</span> sum;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<p>==84ä¸€ç»´æœ€å¤§é¢ç§¯==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">largestRectangleArea</span><span class="params">(<span class="type">int</span>[] heights)</span> &#123;</span><br><span class="line">  <span class="comment">// æ€è·¯æ˜¯ ç®—å‡ºæ¯ä¸ªæŸ±å­ä¸ºé«˜çš„æœ€å¤§é¢ç§¯ æ¯”è¾ƒå¤§å°</span></span><br><span class="line">  <span class="type">int</span> res[] = <span class="keyword">new</span> <span class="title class_">int</span>[heights.length +<span class="number">2</span>];</span><br><span class="line">  <span class="type">int</span> result= <span class="number">0</span>;</span><br><span class="line">  <span class="comment">//æ”¶å°¾åŠ 0 é˜²æ­¢ç‰¹æ®Šæƒ…å†µ &lt;=</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= heights.length; i++) &#123;</span><br><span class="line">     res[i] = heights[i-<span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å•è°ƒé€’å‡æ ˆ</span></span><br><span class="line">  Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">  stack.push(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; res.length; i++) &#123;</span><br><span class="line">      <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; res[i] &lt; res[stack.peek()]) &#123;</span><br><span class="line">          <span class="comment">// å½“å‰ æ¯” å‰é¢çš„éƒ½è¦ å°çš„æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">          <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> res[stack.peek()];</span><br><span class="line">          <span class="comment">//System.out.print(mid);</span></span><br><span class="line">          stack.pop();</span><br><span class="line">          <span class="keyword">if</span>(!stack.isEmpty())&#123;</span><br><span class="line">               <span class="comment">// å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯” å½“å‰å€¼å° çš„æŸ±å­</span></span><br><span class="line">              <span class="comment">//int left = res[stack.peek()];</span></span><br><span class="line"></span><br><span class="line">              <span class="comment">// å³è¾¹ç¬¬ä¸€ä¸ªæ¯” å½“å‰å€¼å° çš„æŸ±å­</span></span><br><span class="line">              <span class="comment">//int right = res[i];</span></span><br><span class="line"></span><br><span class="line">              <span class="comment">// å·¦å³æœ€å°æŸ±å­ä¹‹é—´çš„ é—´éš” åº•</span></span><br><span class="line">              <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> i-stack.peek()-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">              <span class="comment">// ä»¥å½“å‰æŸ±å­ä¸º é«˜ ç®—å¾— æœ€ å¤§é¢ç§¯</span></span><br><span class="line">              result= Math.max(result,mid*len);</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      stack.push(i);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<p>==85 äºŒç»´æœ€å¤§é¢ç§¯==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maximalRectangle</span><span class="params">(<span class="type">char</span>[][] matrix)</span> &#123;</span><br><span class="line">&gt;<span class="type">int</span>  <span class="variable">m</span> <span class="operator">=</span> matrix.length;</span><br><span class="line">&gt;<span class="type">int</span>  <span class="variable">n</span> <span class="operator">=</span> matrix[<span class="number">0</span>].length;</span><br><span class="line">&gt;<span class="type">int</span> height[] = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">&gt;<span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"> <span class="keyword">for</span>(<span class="type">int</span>  <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m;i++)&#123;</span><br><span class="line">     <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; n;j++)&#123;</span><br><span class="line">         <span class="keyword">if</span>(matrix[i][j]==<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">             height[j] +=<span class="number">1</span>;</span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">             height[j] = <span class="number">0</span>;</span><br><span class="line">     &#125;</span><br><span class="line">      <span class="comment">// æ¯ä¸€å±‚éƒ½è¿›è¡Œ æ±‚é¢ç§¯  å’Œ å¯¹é¢ç§¯çš„æ¯”è¾ƒ</span></span><br><span class="line">      res = Math.max(res,largestRectangleArea(height));</span><br><span class="line"> &#125;</span><br><span class="line">&gt;<span class="keyword">return</span> res;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">largestRectangleArea</span><span class="params">(<span class="type">int</span>[] heights)</span> &#123;</span><br><span class="line">      <span class="comment">// æ€è·¯æ˜¯ ç®—å‡ºæ¯ä¸ªæŸ±å­ä¸ºé«˜çš„æœ€å¤§é¢ç§¯ æ¯”è¾ƒå¤§å°</span></span><br><span class="line">      <span class="type">int</span> res[] = <span class="keyword">new</span> <span class="title class_">int</span>[heights.length +<span class="number">2</span>];</span><br><span class="line">      <span class="type">int</span> result= <span class="number">0</span>;</span><br><span class="line">      <span class="comment">//æ”¶å°¾åŠ 0 é˜²æ­¢ç‰¹æ®Šæƒ…å†µ &lt;=</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= heights.length; i++) &#123;</span><br><span class="line">         res[i] = heights[i-<span class="number">1</span>];</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//å•è°ƒé€’å‡æ ˆ</span></span><br><span class="line">      Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">      stack.push(<span class="number">0</span>);</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; res.length; i++) &#123;</span><br><span class="line">          <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; res[i] &lt; res[stack.peek()]) &#123;</span><br><span class="line">              <span class="comment">// å½“å‰ æ¯” å‰é¢çš„éƒ½è¦ å°çš„æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">              <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> res[stack.peek()];</span><br><span class="line">              <span class="comment">//System.out.print(mid);</span></span><br><span class="line">              stack.pop();</span><br><span class="line">              <span class="keyword">if</span>(!stack.isEmpty())&#123;</span><br><span class="line">                   <span class="comment">// å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯” å½“å‰å€¼å° çš„æŸ±å­</span></span><br><span class="line">                  <span class="comment">//int left = res[stack.peek()];</span></span><br><span class="line"></span><br><span class="line">                  <span class="comment">// å³è¾¹ç¬¬ä¸€ä¸ªæ¯” å½“å‰å€¼å° çš„æŸ±å­</span></span><br><span class="line">                  <span class="comment">//int right = res[i];</span></span><br><span class="line"></span><br><span class="line">                  <span class="comment">// å·¦å³æœ€å°æŸ±å­ä¹‹é—´çš„ é—´éš” åº•</span></span><br><span class="line">                  <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> i-stack.peek()-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                  <span class="comment">// ä»¥å½“å‰æŸ±å­ä¸º é«˜ ç®—å¾— æœ€ å¤§é¢ç§¯</span></span><br><span class="line">                  result= Math.max(result,mid*len);</span><br><span class="line"></span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line">          stack.push(i);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="å­—å…¸æ ‘">å­—å…¸æ ‘</h2>
<h4 id="åº”ç”¨åœºæ™¯ï¼šå¤„ç†å­—ç¬¦ä¸²å‰ç¼€ç›¸å…³">åº”ç”¨åœºæ™¯ï¼šå¤„ç†å­—ç¬¦ä¸²å‰ç¼€ç›¸å…³</h4>
<h4 id="åŸºæœ¬ä»‹ç»">åŸºæœ¬ä»‹ç»</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">TrieMapä¸­çš„æ ‘èŠ‚ç‚¹TrieNodeçš„ä»£ç å®ç°æ˜¯è¿™æ ·</span><br><span class="line"></span><br><span class="line">TrieMap&lt;V&gt;çš„é”®å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå€¼çš„ç±»å‹Vå¯ä»¥éšæ„</span><br><span class="line">    </span><br><span class="line"><span class="comment">/* Trie æ ‘èŠ‚ç‚¹å®ç° */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TrieNode</span>&lt;V&gt; &#123;</span><br><span class="line">    <span class="type">V</span> <span class="variable">val</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    TrieNode&lt;V&gt;[] children = <span class="keyword">new</span> <span class="title class_">TrieNode</span>[<span class="number">256</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">valå­—æ®µå­˜å‚¨é”®å¯¹åº”çš„å€¼ï¼Œchildrenæ•°ç»„å­˜å‚¨æŒ‡å‘å­èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</span><br><span class="line">    </span><br><span class="line">TrieNodeä¸­childrenæ•°ç»„çš„ç´¢å¼•æ˜¯æœ‰æ„ä¹‰çš„ï¼Œä»£è¡¨é”®ä¸­çš„ä¸€ä¸ªå­—ç¬¦ã€‚</span><br><span class="line">æ¯”å¦‚è¯´children[<span class="number">97</span>]å¦‚æœéç©ºï¼Œè¯´æ˜è¿™é‡Œå­˜å‚¨äº†ä¸€ä¸ªå­—ç¬¦<span class="string">&#x27;a&#x27;</span>ï¼Œå› ä¸º<span class="string">&#x27;a&#x27;</span>çš„ ASCII ç ä¸º <span class="number">97</span>ã€‚</span><br><span class="line">    </span><br><span class="line">TrieNodeèŠ‚ç‚¹æœ¬èº«åªå­˜å‚¨valå­—æ®µï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ªå­—æ®µæ¥å­˜å‚¨å­—ç¬¦ï¼Œå­—ç¬¦æ˜¯é€šè¿‡å­èŠ‚ç‚¹åœ¨çˆ¶èŠ‚ç‚¹çš„childrenæ•°ç»„ä¸­çš„ç´¢å¼•ç¡®å®šçš„</span><br><span class="line">    </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>==Trie æ ‘ç”¨ã€Œæ ‘æã€å­˜å‚¨å­—ç¬¦ä¸²ï¼ˆé”®ï¼‰ï¼Œç”¨ã€ŒèŠ‚ç‚¹ã€å­˜å‚¨å­—ç¬¦ä¸²ï¼ˆé”®ï¼‰å¯¹åº”çš„æ•°æ®ï¼ˆå€¼ï¼‰ã€‚==</p>
</blockquote>
<h4 id="API">API</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">TreeMap API </span><br><span class="line">    </span><br><span class="line"><span class="comment">// åº•å±‚ç”¨ Trie æ ‘å®ç°çš„é”®å€¼æ˜ å°„</span></span><br><span class="line"><span class="comment">// é”®ä¸º String ç±»å‹ï¼Œå€¼ä¸ºç±»å‹ V</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TrieMap</span>&lt;V&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***** å¢/æ”¹ *****/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨ Map ä¸­æ·»åŠ  key</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(String key, V val)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***** åˆ  *****/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤é”® key ä»¥åŠå¯¹åº”çš„å€¼</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(String key)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***** æŸ¥ *****/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœç´¢ key å¯¹åº”çš„å€¼ï¼Œä¸å­˜åœ¨åˆ™è¿”å› null</span></span><br><span class="line">    <span class="comment">// get(&quot;the&quot;) -&gt; 4</span></span><br><span class="line">    <span class="comment">// get(&quot;tha&quot;) -&gt; null</span></span><br><span class="line">    <span class="keyword">public</span> V <span class="title function_">get</span><span class="params">(String key)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­ key æ˜¯å¦å­˜åœ¨åœ¨ Map ä¸­</span></span><br><span class="line">    <span class="comment">// containsKey(&quot;tea&quot;) -&gt; false</span></span><br><span class="line">    <span class="comment">// containsKey(&quot;team&quot;) -&gt; true</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">containsKey</span><span class="params">(String key)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨ Map çš„æ‰€æœ‰é”®ä¸­æœç´¢ query çš„æœ€çŸ­å‰ç¼€</span></span><br><span class="line">    <span class="comment">// shortestPrefixOf(&quot;themxyz&quot;) -&gt; &quot;the&quot;</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">shortestPrefixOf</span><span class="params">(String query)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨ Map çš„æ‰€æœ‰é”®ä¸­æœç´¢ query çš„æœ€é•¿å‰ç¼€</span></span><br><span class="line">    <span class="comment">// longestPrefixOf(&quot;themxyz&quot;) -&gt; &quot;them&quot;</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">longestPrefixOf</span><span class="params">(String query)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœç´¢æ‰€æœ‰å‰ç¼€ä¸º prefix çš„é”®</span></span><br><span class="line">    <span class="comment">// keysWithPrefix(&quot;th&quot;) -&gt; [&quot;that&quot;, &quot;the&quot;, &quot;them&quot;]</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">keysWithPrefix</span><span class="params">(String prefix)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å’Œå¦å­˜åœ¨å‰ç¼€ä¸º prefix çš„é”®</span></span><br><span class="line">    <span class="comment">// hasKeyWithPrefix(&quot;tha&quot;) -&gt; true</span></span><br><span class="line">    <span class="comment">// hasKeyWithPrefix(&quot;apple&quot;) -&gt; false</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasKeyWithPrefix</span><span class="params">(String prefix)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šé…ç¬¦ . åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œæœç´¢æ‰€æœ‰åŒ¹é…çš„é”®</span></span><br><span class="line">    <span class="comment">// keysWithPattern(&quot;t.a.&quot;) -&gt; [&quot;team&quot;, &quot;that&quot;]</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">keysWithPattern</span><span class="params">(String pattern)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šé…ç¬¦ . åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨åŒ¹é…çš„é”®</span></span><br><span class="line">    <span class="comment">// hasKeyWithPattern(&quot;.ip&quot;) -&gt; true</span></span><br><span class="line">    <span class="comment">// hasKeyWithPattern(&quot;.i&quot;) -&gt; false</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasKeyWithPattern</span><span class="params">(String pattern)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å› Map ä¸­é”®å€¼å¯¹çš„æ•°é‡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="APIå®ç°">APIå®ç°</h4>
<blockquote>
<p><code>TrieMap</code>ç±»ä¸­ä¸€å®šéœ€è¦è®°å½• Trie çš„æ ¹èŠ‚ç‚¹<code>root</code>ï¼Œä»¥åŠ Trie æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹æ•°é‡ç”¨äºå®ç°<code>size()</code>æ–¹æ³•</p>
</blockquote>
<h5 id="å®ç°containsKeyæ–¹æ³•å’Œgetæ–¹æ³•">å®ç°<code>containsKey</code>æ–¹æ³•å’Œ<code>get</code>æ–¹æ³•</h5>
<blockquote>
<p><strong>å°±ç®—<code>getNode(key)</code>çš„è¿”å›å€¼<code>x</code>éç©ºï¼Œä¹Ÿåªèƒ½è¯´å­—ç¬¦ä¸²<code>key</code>æ˜¯ä¸€ä¸ªã€Œå‰ç¼€ã€ï¼›é™¤é<code>x.val</code>åŒæ—¶éç©ºï¼Œæ‰èƒ½åˆ¤æ–­é”®<code>key</code>å­˜åœ¨</strong>ã€‚</p>
</blockquote>
<h5 id="å®ç°shortestPrefixOfæ–¹æ³•">å®ç°<code>shortestPrefixOf</code>æ–¹æ³•</h5>
<blockquote>
<p><strong>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ for å¾ªç¯ç»“æŸä¹‹åæˆ‘ä»¬è¿˜éœ€è¦é¢å¤–æ£€æŸ¥ä¸€ä¸‹</strong>ã€‚</p>
<p>å› ä¸ºä¹‹å‰è¯´äº† Trie æ ‘ä¸­ã€Œæ ‘æã€å­˜å‚¨å­—ç¬¦ä¸²ï¼Œã€ŒèŠ‚ç‚¹ã€å­˜å‚¨å­—ç¬¦ä¸²å¯¹åº”çš„å€¼ï¼Œfor å¾ªç¯ç›¸å½“äºåªéå†äº†ã€Œæ ‘æã€ï¼Œä½†æ¼æ‰äº†æœ€åä¸€ä¸ªã€ŒèŠ‚ç‚¹ã€ï¼Œå³<code>key</code>æœ¬èº«å°±æ˜¯<code>TrieMap</code>ä¸­çš„ä¸€ä¸ªé”®çš„æƒ…å†µã€‚</p>
</blockquote>
<h5 id="å®ç°-longestPrefixOf-æ–¹æ³•">å®ç° <code>longestPrefixOf </code>æ–¹æ³•</h5>
<blockquote>
<p>æ¯æ¬¡é‡åˆ°<code>p.val</code>éç©ºçš„æ—¶å€™è¯´æ˜æ‰¾åˆ°ä¸€ä¸ªé”®ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸æ€¥ç€è¿”å›ï¼Œè€Œæ˜¯æ›´æ–°<code>max_len</code>å˜é‡ï¼Œè®°å½•æœ€é•¿å‰ç¼€çš„é•¿åº¦ã€‚</p>
<p>åŒæ ·çš„ï¼Œåœ¨ for å¾ªç¯ç»“æŸæ—¶è¿˜æ˜¯è¦ç‰¹æ®Šåˆ¤æ–­ä¸€ä¸‹ï¼Œå¤„ç†<code>key</code>æœ¬èº«å°±æ˜¯é”®çš„æƒ…å†µã€‚</p>
</blockquote>
<h5 id="å®ç°keysWithPrefixæ–¹æ³•">å®ç°<code>keysWithPrefix</code>æ–¹æ³•</h5>
<blockquote>
<p>å¾—åˆ°æ‰€æœ‰å‰ç¼€ä¸º<code>prefix</code>çš„é”®:å…ˆåˆ©ç”¨<code>getNode</code>å‡½æ•°åœ¨ Trie æ ‘ä¸­æ‰¾åˆ°<code>prefix</code>å¯¹åº”çš„èŠ‚ç‚¹<code>x</code>ï¼Œç„¶æ–½å±•å¤šå‰æ ‘çš„éå†ç®—æ³•ï¼Œéå†ä»¥<code>x</code>ä¸ºæ ¹çš„è¿™æ£µ Trie æ ‘ï¼Œæ‰¾åˆ°æ‰€æœ‰é”®å€¼å¯¹ï¼š</p>
</blockquote>
<h5 id="å®ç°keysWithPatternæ–¹æ³•">å®ç°<code>keysWithPattern</code>æ–¹æ³•</h5>
<blockquote>
<p>ä½¿ç”¨é€šé…ç¬¦æ¥åŒ¹é…å¤šä¸ªé”®ï¼Œå…¶å…³é”®å°±åœ¨äºé€šé…ç¬¦<code>.</code>å¯ä»¥åŒ¹é…æ‰€æœ‰å­—ç¬¦</p>
</blockquote>
<blockquote>
<p><code>keysWithPattern</code>å’Œ<code>keysWithPrefix</code>çš„å®ç°æ˜¯æœ‰äº›ç±»ä¼¼çš„ï¼Œè€Œä¸”è¿™ä¸¤ä¸ªå‡½æ•°è¿˜æœ‰ä¸€ä¸ªæ½œåœ¨çš„ç‰¹æ€§ï¼š<strong>å®ƒä»¬è¿”å›çš„ç»“æœåˆ—è¡¨ä¸€å®šæ˜¯ç¬¦åˆã€Œå­—å…¸åºã€çš„</strong>ã€‚</p>
</blockquote>
<h5 id="å®ç°hasKeyWithPatternæ–¹æ³•">å®ç°<code>hasKeyWithPattern</code>æ–¹æ³•</h5>
<blockquote>
<p>åˆ¤æ–­æ˜¯å¦å­˜åœ¨é”®åŒ¹é…æ¨¡å¼ä¸²</p>
</blockquote>
<h5 id="å®ç°putæ–¹æ³•">å®ç°<code>put</code>æ–¹æ³•</h5>
<blockquote>
<p><strong>Trie æ ‘ä¸­çš„é”®å°±æ˜¯ã€Œæ ‘æã€ï¼Œå€¼å°±æ˜¯ã€ŒèŠ‚ç‚¹ã€ï¼Œæ‰€ä»¥æ’å…¥çš„é€»è¾‘å°±æ˜¯æ²¿è·¯æ–°å»ºã€Œæ ‘æã€ï¼ŒæŠŠ<code>key</code>çš„æ•´æ¡ã€Œæ ‘æã€æ„å»ºå‡ºæ¥ä¹‹åï¼Œåœ¨æ ‘ææœ«ç«¯çš„ã€ŒèŠ‚ç‚¹ã€ä¸­å­˜å‚¨<code>val</code></strong>ï¼š</p>
</blockquote>
<h5 id="å®ç°removeå‡½æ•°">å®ç°<code>remove</code>å‡½æ•°</h5>
<blockquote>
<p>å¦‚æœä½ æƒ³åˆ é™¤é”®<code>&quot;team&quot;</code>ï¼Œé‚£ä¹ˆéœ€è¦åˆ æ‰<code>&quot;eam&quot;</code>è¿™æ¡æ ‘ææ‰æ˜¯ç¬¦åˆé€»è¾‘çš„;åˆ å¤šäº†è‚¯å®šä¸è¡Œï¼Œä½†åˆ å°‘äº†ä¹Ÿä¸è¡Œï¼Œå¦åˆ™å‰æ–‡å®ç°çš„<code>hasKeyWithPrefix</code>å°±ä¼šå‡ºé”™ã€‚</p>
<p>é¦–å…ˆï¼Œé€’å½’ä¿®æ”¹æ•°æ®ç»“æ„çš„æ—¶å€™ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹æƒ³åˆ æ‰è‡ªå·±ï¼Œç›´æ¥è¿”å›ç©ºæŒ‡é’ˆå°±è¡Œäº†ã€‚</p>
<p><strong>å…¶æ¬¡ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¦‚ä½•çŸ¥é“è‡ªå·±æ˜¯å¦éœ€è¦è¢«åˆ é™¤å‘¢ï¼Ÿä¸»è¦çœ‹è‡ªå·±çš„<code>val</code>å­—æ®µæ˜¯å¦ä¸ºç©ºä»¥åŠè‡ªå·±çš„<code>children</code>æ•°ç»„æ˜¯å¦å…¨éƒ½æ˜¯ç©ºæŒ‡é’ˆ</strong>ã€‚</p>
<p><strong>ä¸€ä¸ªèŠ‚ç‚¹å¦‚ä½•çŸ¥é“è‡ªå·±æ˜¯å¦éœ€è¦è¢«åˆ é™¤å‘¢ï¼Ÿä¸»è¦çœ‹è‡ªå·±çš„<code>val</code>å­—æ®µæ˜¯å¦ä¸ºç©ºä»¥åŠè‡ªå·±çš„<code>children</code>æ•°ç»„æ˜¯å¦å…¨éƒ½æ˜¯ç©ºæŒ‡é’ˆ</strong>ã€‚</p>
<p>==ååºä½ç½®çš„ç‰¹ç‚¹==</p>
<p>ä¸€ä¸ªèŠ‚ç‚¹è¦å…ˆé€’å½’å¤„ç†å­æ ‘ï¼Œç„¶ååœ¨ååºä½ç½®æ£€æŸ¥è‡ªå·±çš„<code>val</code>å­—æ®µå’Œ<code>children</code>åˆ—è¡¨ï¼Œåˆ¤æ–­è‡ªå·±æ˜¯å¦éœ€è¦è¢«åˆ é™¤ã€‚</p>
<p>å¦‚æœè‡ªå·±çš„<code>val</code>å­—æ®µä¸ºç©ºï¼Œè¯´æ˜è‡ªå·±æ²¡æœ‰å­˜å‚¨å€¼ï¼Œå¦‚æœåŒæ—¶è‡ªå·±çš„<code>children</code>æ•°ç»„å…¨æ˜¯ç©ºæŒ‡é’ˆï¼Œè¯´æ˜è‡ªå·±ä¸‹é¢ä¹Ÿæ²¡æœ‰æ¥æ ‘æï¼Œå³ä¸æ˜¯ä»»ä½•ä¸€ä¸ªé”®çš„å‰ç¼€ã€‚è¿™ç§æƒ…å†µä¸‹è¿™ä¸ªèŠ‚ç‚¹å°±æ²¡æœ‰å­˜åœ¨çš„æ„ä¹‰äº†ï¼Œåº”è¯¥åˆ æ‰è‡ªå·±ã€‚</p>
</blockquote>
<h5 id="TrieMapå®Œæ•´API"><code>TrieMap</code>å®Œæ•´API</h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TrieMap</span>&lt;V&gt; &#123;</span><br><span class="line">    <span class="comment">// ASCII ç ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">R</span> <span class="operator">=</span> <span class="number">256</span>;</span><br><span class="line">    <span class="comment">// å½“å‰å­˜åœ¨ Map ä¸­çš„é”®å€¼å¯¹ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// Trie æ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> TrieNode&lt;V&gt; root = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">TrieNode</span>&lt;V&gt; &#123;</span><br><span class="line">        <span class="type">V</span> <span class="variable">val</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        TrieNode&lt;V&gt;[] children = <span class="keyword">new</span> <span class="title class_">TrieNode</span>[R];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***** å¢/æ”¹ *****/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨ map ä¸­æ·»åŠ æˆ–ä¿®æ”¹é”®å€¼å¯¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(String key, V val)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!containsKey(key)) &#123;</span><br><span class="line">            <span class="comment">// æ–°å¢é”®å€¼å¯¹</span></span><br><span class="line">            size++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// éœ€è¦ä¸€ä¸ªé¢å¤–çš„è¾…åŠ©å‡½æ•°ï¼Œå¹¶æ¥æ”¶å…¶è¿”å›å€¼</span></span><br><span class="line">        root = put(root, key, val, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰ï¼šå‘ä»¥ node ä¸ºæ ¹çš„ Trie æ ‘ä¸­æ’å…¥ key[i..]ï¼Œè¿”å›æ’å…¥å®Œæˆåçš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> TrieNode&lt;V&gt; <span class="title function_">put</span><span class="params">(TrieNode&lt;V&gt; node, String key, V val, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ ‘æä¸å­˜åœ¨ï¼Œæ–°å»º</span></span><br><span class="line">            node = <span class="keyword">new</span> <span class="title class_">TrieNode</span>&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i == key.length()) &#123;</span><br><span class="line">            <span class="comment">// key çš„è·¯å¾„å·²æ’å…¥å®Œæˆï¼Œå°†å€¼ val å­˜å…¥èŠ‚ç‚¹</span></span><br><span class="line">            node.val = val;</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> key.charAt(i);</span><br><span class="line">        <span class="comment">// é€’å½’æ’å…¥å­èŠ‚ç‚¹ï¼Œå¹¶æ¥æ”¶è¿”å›å€¼</span></span><br><span class="line">        node.children[c] = put(node.children[c], key, val, i + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***** åˆ  *****/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨ Map ä¸­åˆ é™¤ key</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!containsKey(key)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// é€’å½’ä¿®æ”¹æ•°æ®ç»“æ„è¦æ¥æ”¶å‡½æ•°çš„è¿”å›å€¼</span></span><br><span class="line">        root = remove(root, key, <span class="number">0</span>);</span><br><span class="line">        size--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰ï¼šåœ¨ä»¥ node ä¸ºæ ¹çš„ Trie æ ‘ä¸­åˆ é™¤ key[i..]ï¼Œè¿”å›åˆ é™¤åçš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> TrieNode&lt;V&gt; <span class="title function_">remove</span><span class="params">(TrieNode&lt;V&gt; node, String key, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i == key.length()) &#123;</span><br><span class="line">            <span class="comment">// æ‰¾åˆ°äº† key å¯¹åº”çš„ TrieNodeï¼Œåˆ é™¤ val</span></span><br><span class="line">            node.val = <span class="literal">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> key.charAt(i);</span><br><span class="line">            <span class="comment">// é€’å½’å»å­æ ‘è¿›è¡Œåˆ é™¤</span></span><br><span class="line">            node.children[c] = remove(node.children[c], key, i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ååºä½ç½®ï¼Œé€’å½’è·¯å¾„ä¸Šçš„èŠ‚ç‚¹å¯èƒ½éœ€è¦è¢«æ¸…ç†</span></span><br><span class="line">        <span class="keyword">if</span> (node.val != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœè¯¥ TireNode å­˜å‚¨ç€ valï¼Œä¸éœ€è¦è¢«æ¸…ç†</span></span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ£€æŸ¥è¯¥ TrieNode æ˜¯å¦è¿˜æœ‰åç¼€</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt; R; c++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (node.children[c] != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// åªè¦å­˜åœ¨ä¸€ä¸ªå­èŠ‚ç‚¹ï¼ˆåç¼€æ ‘æï¼‰ï¼Œå°±ä¸éœ€è¦è¢«æ¸…ç†</span></span><br><span class="line">                <span class="keyword">return</span> node;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ—¢æ²¡æœ‰å­˜å‚¨ valï¼Œä¹Ÿæ²¡æœ‰åç¼€æ ‘æï¼Œåˆ™è¯¥èŠ‚ç‚¹éœ€è¦è¢«æ¸…ç†</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***** æŸ¥ *****/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœç´¢ key å¯¹åº”çš„å€¼ï¼Œä¸å­˜åœ¨åˆ™è¿”å› null</span></span><br><span class="line">    <span class="keyword">public</span> V <span class="title function_">get</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        <span class="comment">// ä» root å¼€å§‹æœç´¢ key</span></span><br><span class="line">        TrieNode&lt;V&gt; x = getNode(root, key);</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="literal">null</span> || x.val == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// x ä¸ºç©ºæˆ– x çš„ val å­—æ®µä¸ºç©ºéƒ½è¯´æ˜ key æ²¡æœ‰å¯¹åº”çš„å€¼</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x.val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­ key æ˜¯å¦å­˜åœ¨åœ¨ Map ä¸­</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">containsKey</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> get(key) != <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å’Œå¦å­˜åœ¨å‰ç¼€ä¸º prefix çš„é”®</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasKeyWithPrefix</span><span class="params">(String prefix)</span> &#123;</span><br><span class="line">        <span class="comment">// åªè¦èƒ½æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±æ˜¯å­˜åœ¨å‰ç¼€</span></span><br><span class="line">        <span class="keyword">return</span> getNode(root, prefix) != <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨æ‰€æœ‰é”®ä¸­å¯»æ‰¾ query çš„æœ€çŸ­å‰ç¼€</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">shortestPrefixOf</span><span class="params">(String query)</span> &#123;</span><br><span class="line">        TrieNode&lt;V&gt; p = root;</span><br><span class="line">        <span class="comment">// ä»èŠ‚ç‚¹ node å¼€å§‹æœç´¢ key</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; query.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// æ— æ³•å‘ä¸‹æœç´¢</span></span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (p.val != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// æ‰¾åˆ°ä¸€ä¸ªé”®æ˜¯ query çš„å‰ç¼€</span></span><br><span class="line">                <span class="keyword">return</span> query.substring(<span class="number">0</span>, i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å‘ä¸‹æœç´¢</span></span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> query.charAt(i);</span><br><span class="line">            p = p.children[c];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (p != <span class="literal">null</span> &amp;&amp; p.val != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœ query æœ¬èº«å°±æ˜¯ä¸€ä¸ªé”®</span></span><br><span class="line">            <span class="keyword">return</span> query;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨æ‰€æœ‰é”®ä¸­å¯»æ‰¾ query çš„æœ€é•¿å‰ç¼€</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">longestPrefixOf</span><span class="params">(String query)</span> &#123;</span><br><span class="line">        TrieNode&lt;V&gt; p = root;</span><br><span class="line">        <span class="comment">// è®°å½•å‰ç¼€çš„æœ€å¤§é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">max_len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä»èŠ‚ç‚¹ node å¼€å§‹æœç´¢ key</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; query.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// æ— æ³•å‘ä¸‹æœç´¢</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (p.val != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// æ‰¾åˆ°ä¸€ä¸ªé”®æ˜¯ query çš„å‰ç¼€ï¼Œæ›´æ–°å‰ç¼€çš„æœ€å¤§é•¿åº¦</span></span><br><span class="line">                max_len = i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å‘ä¸‹æœç´¢</span></span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> query.charAt(i);</span><br><span class="line">            p = p.children[c];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (p != <span class="literal">null</span> &amp;&amp; p.val != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœ query æœ¬èº«å°±æ˜¯ä¸€ä¸ªé”®</span></span><br><span class="line">            <span class="keyword">return</span> query;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> query.substring(<span class="number">0</span>, max_len);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœç´¢å‰ç¼€ä¸º prefix çš„æ‰€æœ‰é”®</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">keysWithPrefix</span><span class="params">(String prefix)</span> &#123;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°åŒ¹é… prefix åœ¨ Trie æ ‘ä¸­çš„é‚£ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        TrieNode&lt;V&gt; x = getNode(root, prefix);</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// DFS éå†ä»¥ x ä¸ºæ ¹çš„è¿™æ£µ Trie æ ‘</span></span><br><span class="line">        traverse(x, <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(prefix), res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†ä»¥ node èŠ‚ç‚¹ä¸ºæ ¹çš„ Trie æ ‘ï¼Œæ‰¾åˆ°æ‰€æœ‰é”®</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">traverse</span><span class="params">(TrieNode&lt;V&gt; node, StringBuilder path, List&lt;String&gt; res)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// åˆ°è¾¾ Trie æ ‘åº•éƒ¨å¶å­ç»“ç‚¹</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (node.val != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// æ‰¾åˆ°ä¸€ä¸ª keyï¼Œæ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­</span></span><br><span class="line">            res.add(path.toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å›æº¯ç®—æ³•éå†æ¡†æ¶</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt; R; c++) &#123;</span><br><span class="line">            <span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">            path.append(c);</span><br><span class="line">            traverse(node.children[c], path, res);</span><br><span class="line">            <span class="comment">// æ’¤é”€é€‰æ‹©</span></span><br><span class="line">            path.deleteCharAt(path.length() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šé…ç¬¦ . åŒ¹é…ä»»æ„å­—ç¬¦</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">keysWithPattern</span><span class="params">(String pattern)</span> &#123;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        traverse(root, <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(), pattern, <span class="number">0</span>, res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†å‡½æ•°ï¼Œå°è¯•åœ¨ã€Œä»¥ node ä¸ºæ ¹çš„ Trie æ ‘ä¸­ã€åŒ¹é… pattern[i..]</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">traverse</span><span class="params">(TrieNode&lt;V&gt; node, StringBuilder path, String pattern, <span class="type">int</span> i, List&lt;String&gt; res)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// æ ‘æä¸å­˜åœ¨ï¼Œå³åŒ¹é…å¤±è´¥</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i == pattern.length()) &#123;</span><br><span class="line">            <span class="comment">// pattern åŒ¹é…å®Œæˆ</span></span><br><span class="line">            <span class="keyword">if</span> (node.val != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœè¿™ä¸ªèŠ‚ç‚¹å­˜å‚¨ç€ valï¼Œåˆ™æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…çš„é”®</span></span><br><span class="line">                res.add(path.toString());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> pattern.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">            <span class="comment">// pattern[i] æ˜¯é€šé…ç¬¦ï¼Œå¯ä»¥å˜åŒ–æˆä»»æ„å­—ç¬¦</span></span><br><span class="line">            <span class="comment">// å¤šå‰æ ‘ï¼ˆå›æº¯ç®—æ³•ï¼‰éå†æ¡†æ¶</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">char</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; R; j++) &#123;</span><br><span class="line">                path.append(j);</span><br><span class="line">                traverse(node.children[j], path, pattern, i + <span class="number">1</span>, res);</span><br><span class="line">                path.deleteCharAt(path.length() - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// pattern[i] æ˜¯æ™®é€šå­—ç¬¦ c</span></span><br><span class="line">            path.append(c);</span><br><span class="line">            traverse(node.children[c], path, pattern, i + <span class="number">1</span>, res);</span><br><span class="line">            path.deleteCharAt(path.length() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å’Œå¦å­˜åœ¨å‰ç¼€ä¸º prefix çš„é”®</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasKeyWithPattern</span><span class="params">(String pattern)</span> &#123;</span><br><span class="line">        <span class="comment">// ä» root èŠ‚ç‚¹å¼€å§‹åŒ¹é… pattern[0..]</span></span><br><span class="line">        <span class="keyword">return</span> hasKeyWithPattern(root, pattern, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡½æ•°å®šä¹‰ï¼šä» node èŠ‚ç‚¹å¼€å§‹åŒ¹é… pattern[i..]ï¼Œè¿”å›æ˜¯å¦æˆåŠŸåŒ¹é…</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">hasKeyWithPattern</span><span class="params">(TrieNode&lt;V&gt; node, String pattern, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// æ ‘æä¸å­˜åœ¨ï¼Œå³åŒ¹é…å¤±è´¥</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i == pattern.length()) &#123;</span><br><span class="line">            <span class="comment">// æ¨¡å¼ä¸²èµ°åˆ°å¤´äº†ï¼Œçœ‹çœ‹åŒ¹é…åˆ°çš„æ˜¯å¦æ˜¯ä¸€ä¸ªé”®</span></span><br><span class="line">            <span class="keyword">return</span> node.val != <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> pattern.charAt(i);</span><br><span class="line">        <span class="comment">// æ²¡æœ‰é‡åˆ°é€šé…ç¬¦</span></span><br><span class="line">        <span class="keyword">if</span> (c != <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">            <span class="comment">// ä» node.children[c] èŠ‚ç‚¹å¼€å§‹åŒ¹é… pattern[i+1..]</span></span><br><span class="line">            <span class="keyword">return</span> hasKeyWithPattern(node.children[c], pattern, i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// é‡åˆ°é€šé…ç¬¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; R; j++) &#123;</span><br><span class="line">            <span class="comment">// pattern[i] å¯ä»¥å˜åŒ–æˆä»»æ„å­—ç¬¦ï¼Œå°è¯•æ‰€æœ‰å¯èƒ½ï¼Œåªè¦é‡åˆ°ä¸€ä¸ªåŒ¹é…æˆåŠŸå°±è¿”å›</span></span><br><span class="line">            <span class="keyword">if</span> (hasKeyWithPattern(node.children[j], pattern, i + <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// éƒ½æ²¡æœ‰åŒ¹é…</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä»èŠ‚ç‚¹ node å¼€å§‹æœç´¢ keyï¼Œå¦‚æœå­˜åœ¨è¿”å›å¯¹åº”èŠ‚ç‚¹ï¼Œå¦åˆ™è¿”å› null</span></span><br><span class="line">    <span class="keyword">private</span> TrieNode&lt;V&gt; <span class="title function_">getNode</span><span class="params">(TrieNode&lt;V&gt; node, String key)</span> &#123;</span><br><span class="line">        TrieNode&lt;V&gt; p = node;</span><br><span class="line">        <span class="comment">// ä»èŠ‚ç‚¹ node å¼€å§‹æœç´¢ key</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; key.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// æ— æ³•å‘ä¸‹æœç´¢</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å‘ä¸‹æœç´¢</span></span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> key.charAt(i);</span><br><span class="line">            p = p.children[c];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="TrieSetå®Œæ•´API"><code>TrieSet</code>å®Œæ•´API</h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TrieSet</span> &#123;</span><br><span class="line">    <span class="comment">// åº•å±‚ç”¨ä¸€ä¸ª TrieMapï¼Œé”®å°±æ˜¯ TrieSetï¼Œå€¼ä»…ä»…èµ·åˆ°å ä½çš„ä½œç”¨</span></span><br><span class="line">    <span class="comment">// å€¼çš„ç±»å‹å¯ä»¥éšä¾¿è®¾ç½®ï¼Œæˆ‘å‚è€ƒ Java æ ‡å‡†åº“è®¾ç½®æˆ Object</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> TrieMap&lt;Object&gt; map = <span class="keyword">new</span> <span class="title class_">TrieMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***** å¢ *****/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨é›†åˆä¸­æ·»åŠ å…ƒç´  key</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        map.put(key, <span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***** åˆ  *****/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»é›†åˆä¸­åˆ é™¤å…ƒç´  key</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        map.remove(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***** æŸ¥ *****/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­å…ƒç´  key æ˜¯å¦å­˜åœ¨é›†åˆä¸­</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">contains</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.containsKey(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨é›†åˆä¸­å¯»æ‰¾ query çš„æœ€çŸ­å‰ç¼€</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">shortestPrefixOf</span><span class="params">(String query)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.shortestPrefixOf(query);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨é›†åˆä¸­å¯»æ‰¾ query çš„æœ€é•¿å‰ç¼€</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">longestPrefixOf</span><span class="params">(String query)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.longestPrefixOf(query);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨é›†åˆä¸­æœç´¢å‰ç¼€ä¸º prefix çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">keysWithPrefix</span><span class="params">(String prefix)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.keysWithPrefix(prefix);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­é›†åˆä¸­æ˜¯å¦å­˜åœ¨å‰ç¼€ä¸º prefix çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasKeyWithPrefix</span><span class="params">(String prefix)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.hasKeyWithPrefix(prefix);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šé…ç¬¦ . åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œè¿”å›é›†åˆä¸­åŒ¹é… pattern çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">keysWithPattern</span><span class="params">(String pattern)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.keysWithPattern(pattern);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šé…ç¬¦ . åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œåˆ¤æ–­é›†åˆä¸­æ˜¯å¦å­˜åœ¨åŒ¹é… pattern çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasKeyWithPattern</span><span class="params">(String pattern)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.hasKeyWithPattern(pattern);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>==å‡½æ•°çš„è°ƒç”¨å…³ç³»==</p>
<p>==å¢/æ”¹==    <strong>put</strong> â€“&gt;<strong>containsKey</strong>ã€<strong>put</strong>&lt;é€’å½’&gt;</p>
<p>==åˆ ==    <strong>remove</strong>-&gt;<strong>containsKey</strong>ã€<strong>remove</strong> &lt;é€’å½’&gt;</p>
<p>==æŸ¥==    <strong>get</strong>-&gt; <strong>getNode</strong></p>
<p>==æ˜¯å¦å­˜åœ¨==     <strong>containsKey</strong>-&gt; <strong>get</strong></p>
<p>==æ˜¯å¦å­˜åœ¨å‰ç¼€ä¸º prefix çš„é”®==   <strong>hasKeyWithPrefix</strong>-&gt;<strong>getNode</strong></p>
<p>==æ˜¯å¦å­˜åœ¨ç¬¦åˆçš„é€šé…ç¬¦çš„é”®==  <strong>hasKeyWithPattern</strong>  &lt;é€’å½’&gt;</p>
<p>==æœ€çŸ­å‰ç¼€==       <strong>shortestPrefixOf</strong></p>
<p>==æœ€é•¿å‰ç¼€==       <strong>longestPrefixOf</strong></p>
<p>==æœç´¢å‰ç¼€ä¸º prefix çš„æ‰€æœ‰é”®==    <strong>keysWithPrefix</strong>-&gt;<strong>getNode</strong> ã€ <strong>traverse</strong>&lt;é€’å½’&gt;</p>
<p>==é€šé…ç¬¦ . åŒ¹é…ä»»æ„å­—ç¬¦==       <strong>keysWithPattern</strong>-&gt; <strong>traverse</strong>&lt;é€’å½’&gt;</p>
<p>==ä»èŠ‚ç‚¹ node å¼€å§‹æœç´¢ keyï¼Œå¦‚æœå­˜åœ¨è¿”å›å¯¹åº”èŠ‚ç‚¹==   **getNode **</p>
<p>==å¤§å°==       <strong>size</strong></p>
</blockquote>
<h2 id="åˆ†æ²»">åˆ†æ²»</h2>
<blockquote>
<p>æœ¬è´¨ï¼š  ä¹Ÿæ˜¯é€’å½’</p>
</blockquote>
<blockquote>
<p><strong>1ã€ä¸è¦æ€è€ƒæ•´ä½“ï¼Œè€Œæ˜¯æŠŠç›®å…‰èšç„¦å±€éƒ¨ï¼Œåªçœ‹ä¸€ä¸ªè¿ç®—ç¬¦</strong>ã€‚</p>
<p>æ¯”å¦‚ <a href="https://labuladong.gitee.io/algo/di-yi-zhan-da78c/shou-ba-sh-66994/dong-ge-da-cbce8/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘ç¬¬ä¸€æœŸ</a> å°±å‘Šè¯‰ä½ è§£å†³äºŒå‰æ ‘ç³»åˆ—é—®é¢˜åªè¦æ€è€ƒæ¯ä¸ªèŠ‚ç‚¹éœ€è¦åšä»€ä¹ˆï¼Œè€Œä¸è¦æ€è€ƒæ•´æ£µæ ‘éœ€è¦åšä»€ä¹ˆã€‚</p>
<p>è¯´ç™½äº†ï¼Œè§£å†³é€’å½’ç›¸å…³çš„ç®—æ³•é—®é¢˜ï¼Œå°±æ˜¯ä¸€ä¸ªåŒ–æ•´ä¸ºé›¶çš„è¿‡ç¨‹ï¼Œä½ å¿…é¡»ç„å‡†ä¸€ä¸ªå°çš„çªç ´å£ï¼Œç„¶åæŠŠé—®é¢˜æ‹†è§£ï¼Œå¤§è€ŒåŒ–å°ï¼Œåˆ©ç”¨é€’å½’å‡½æ•°æ¥è§£å†³ã€‚</p>
<p><strong>2ã€æ˜ç¡®é€’å½’å‡½æ•°çš„å®šä¹‰æ˜¯ä»€ä¹ˆï¼Œç›¸ä¿¡å¹¶ä¸”åˆ©ç”¨å¥½å‡½æ•°çš„å®šä¹‰</strong>ã€‚</p>
<p>è¿™ä¸ªå‡½æ•°ä¸å°±æ˜¯å¹²è¿™ä¸ªäº‹å„¿çš„å—ï¼Ÿ<strong>è¿™å°±æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´çš„ç¬¬äºŒä¸ªå…³é”®ç‚¹ï¼Œæ˜ç¡®å‡½æ•°çš„å®šä¹‰ï¼Œç›¸ä¿¡å¹¶ä¸”åˆ©ç”¨è¿™ä¸ªå‡½æ•°å®šä¹‰</strong>ã€‚</p>
<p>ä½ ç”­ç®¡è¿™ä¸ªå‡½æ•°æ€ä¹ˆåšåˆ°çš„ï¼Œä½ ç›¸ä¿¡å®ƒèƒ½åšåˆ°ï¼Œç„¶åç”¨å°±è¡Œäº†ï¼Œæœ€åå®ƒå°±çœŸçš„èƒ½åšåˆ°äº†ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç»“æœé›†æ¥æ”¶</span></span><br><span class="line">     List&lt;Integer&gt; res= <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;();</span><br><span class="line">     <span class="comment">// ä¼˜åŒ–</span></span><br><span class="line">     HashMap&lt;String, List&lt;Integer&gt;&gt; meno = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">     <span class="keyword">if</span>(meno.containsKey(expression))&#123;</span><br><span class="line">         <span class="keyword">return</span> meno.get(expression);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     <span class="comment">//åˆ†æ²»</span></span><br><span class="line">     <span class="comment">// åˆ†ï¼ˆé€’å½’ï¼‰</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;expression.length(); i++) &#123;</span><br><span class="line">         <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> expression.charAt(i);</span><br><span class="line">          <span class="comment">//é¢˜è®¾åªæœ‰ä¸‰ç§è¿ç®—ç¬¦</span></span><br><span class="line">        <span class="comment">// å¦‚æœæ˜¯è¿ç®—ç¬¦å°± ç»§ç»­è¿›è¡Œç¼©å‡</span></span><br><span class="line">         <span class="keyword">if</span>(c==<span class="string">&#x27;-&#x27;</span> || c==<span class="string">&#x27;+&#x27;</span> || c==<span class="string">&#x27;*&#x27;</span>)&#123;</span><br><span class="line">             List&lt;Integer&gt; left = diffWaysToCompute(expression.substring(<span class="number">0</span>,i));</span><br><span class="line">             List&lt;Integer&gt; right = diffWaysToCompute(expression.substring(i+<span class="number">1</span>));</span><br><span class="line">    <span class="comment">//æ²»ï¼ˆæ€ä¹ˆåšï¼‰</span></span><br><span class="line">             <span class="keyword">for</span>(<span class="type">int</span> a:left) &#123;</span><br><span class="line">                 <span class="keyword">for</span>(<span class="type">int</span> b:right)&#123;</span><br><span class="line">                     <span class="keyword">if</span>(c ==<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">                         res.add(a-b);</span><br><span class="line">                     <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">&#x27;+&#x27;</span>)</span><br><span class="line">                         res.add(a+b);</span><br><span class="line">                     <span class="keyword">else</span></span><br><span class="line">                         res.add(a*b);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="comment">// é€’å½’æˆªæ­¢æ¡ä»¶</span></span><br><span class="line">     <span class="keyword">if</span>(res.isEmpty())&#123;</span><br><span class="line">         res.add(Integer.parseInt(expression));</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">return</span> res;</span><br></pre></td></tr></table></figure>
<h2 id="æ‰‹æ’•-LRU">æ‰‹æ’• LRU</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LRUCache</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> capacity;</span><br><span class="line">    </span><br><span class="line">    LinkedHashMap&lt;Integer,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LRUCache</span><span class="params">(<span class="type">int</span> capacity)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.capacity = capacity;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//è¡¨ç¤ºè®¿é—®</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> key)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(key))&#123;</span><br><span class="line">            <span class="keyword">return</span>  -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">//ç§»è‡³è¡¨å°¾</span></span><br><span class="line">        changeSwap(key);</span><br><span class="line">        <span class="keyword">return</span> map.get(key);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¡¨ç¤ºæ·»åŠ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(<span class="type">int</span> key, <span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(key))&#123;</span><br><span class="line">            <span class="comment">//å€¼çš„æ›¿æ¢</span></span><br><span class="line">            map.put(key, value);</span><br><span class="line">    <span class="comment">//ç§»åˆ°è¡¨å°¾</span></span><br><span class="line">            changeSwap(key);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¶…å‡ºé¢„è®¾å€¼ åˆ é™¤è¡¨å¤´</span></span><br><span class="line">        <span class="keyword">if</span>(map.size() &gt; capacity)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">first</span> <span class="operator">=</span> map.keySet().iterator().next();</span><br><span class="line">            map.remove(first);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç›´æ¥æ·»åŠ åˆ°è¡¨å°¾å³å¯</span></span><br><span class="line">        map.put(key, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">changeSwap</span><span class="params">(<span class="type">int</span> key)</span>&#123;</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ </span></span><br><span class="line">        <span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> map.get(key);</span><br><span class="line">        <span class="comment">//éšåè¿›è¡Œåˆ é™¤</span></span><br><span class="line">        map.remove(key);</span><br><span class="line">        <span class="comment">//å†å°†å…¶åŠ åˆ°è¡¨å°¾</span></span><br><span class="line">        map.put(key,val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ ˆå®ç°é˜Ÿåˆ—">æ ˆå®ç°é˜Ÿåˆ—</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;</span><br><span class="line"></span><br><span class="line">    Stack&lt;Integer&gt; stack1 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; stack2 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="comment">//åªç®¡å…¥æ ˆå°±å¯ä»¥äº†</span></span><br><span class="line">        stack1.push(x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//å…¥æ ˆç»“æŸä¹‹åï¼Œæ ˆ2 ä¸ºç©ºæ‰ä¼šè¿›è¡Œä»æ ˆ1 è¿›æ ˆï¼Œç›´åˆ°æ ˆ1 ä¸ºç©º</span></span><br><span class="line">        <span class="keyword">if</span>(stack2.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">while</span>(!stack1.isEmpty())&#123;</span><br><span class="line">                stack2.push(stack1.pop());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack2.peek();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// é˜²æ­¢æ ˆ2 ä¸ºç©º</span></span><br><span class="line">        <span class="keyword">if</span>(stack2.isEmpty())&#123;</span><br><span class="line">            peek();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack2.pop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//è¦ä¸¤ä¸ªæ ˆä¸€èµ·ä¸ºç©ºçš„æ—¶å€™æ‰ä¸ºç©ºï¼Œå¦åˆ™å¯èƒ½ä¼šå› ä¸ºæ²¡æœ‰popæ“ä½œå¯¼è‡´ä¸€ç©ºä¸€éç©º</span></span><br><span class="line">        <span class="keyword">return</span> stack2.isEmpty() &amp;&amp; stack1.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é˜Ÿåˆ—å®ç°æ ˆ">é˜Ÿåˆ—å®ç°æ ˆ</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ä¸¤ä¸ªé˜Ÿåˆ—</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyStack</span> &#123;</span><br><span class="line">    Queue&lt;Integer&gt; queue1 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    Queue&lt;Integer&gt; queue2 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//  éœ€è¦è¿›è¡Œäº¤æ¢</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        queue1.offer(x);</span><br><span class="line">        <span class="keyword">while</span>(!queue2.isEmpty())&#123;</span><br><span class="line">            queue1.offer(queue2.poll());</span><br><span class="line">        &#125;</span><br><span class="line">         <span class="comment">//ç¬¬ä¸€éçš„æ—¶å€™ä¸ä¼šè¿›è¡Œwhile()å¾ªç¯</span></span><br><span class="line">        Queue&lt;Integer&gt; tmp = queue2;</span><br><span class="line">        queue2 = queue1;</span><br><span class="line">        queue1 =tmp;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue2.peek();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue2.poll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue2.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MyStack object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MyStack obj = new MyStack();</span></span><br><span class="line"><span class="comment"> * obj.push(x);</span></span><br><span class="line"><span class="comment"> * int param_2 = obj.pop();</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.top();</span></span><br><span class="line"><span class="comment"> * boolean param_4 = obj.empty();</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">å•ä¸ªé˜Ÿåˆ—</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyStack</span> &#123;</span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  éœ€è¦è¿›è¡Œäº¤æ¢</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> queue.size();</span><br><span class="line">        queue.offer(x);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;n; i++) &#123;</span><br><span class="line">            queue.offer(queue.poll());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue.peek();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> queue.poll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>==é€šè§£   ï¼ˆä¸¤ä¸ªæ ˆ  ã€ é˜Ÿåˆ—ï¼‰==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">class</span> <span class="title class_">MyStack</span> &#123;</span><br><span class="line">&gt;Queue&lt;Integer&gt; queue1 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">&gt;Queue&lt;Integer&gt; queue2 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">&gt;<span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//  éœ€è¦è¿›è¡Œäº¤æ¢   				é˜Ÿåˆ—--&gt;æ ˆ</span></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  queue1.offer(x);</span><br><span class="line">  <span class="keyword">while</span>(!queue2.isEmpty())&#123;</span><br><span class="line">      queue1.offer(queue2.poll());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(!queue1.isEmpty())&#123;</span><br><span class="line">      queue2.offer(queue1.poll());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> queue2.peek();</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> queue2.poll();</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> queue2.isEmpty();</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;</span><br><span class="line"></span><br><span class="line">&gt;Stack&lt;Integer&gt; stack1 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">&gt;Stack&lt;Integer&gt; stack2 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="title function_">MyQueue</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ ˆè½¬é˜Ÿåˆ—</span></span><br><span class="line">  <span class="keyword">while</span>(!stack2.isEmpty())&#123;</span><br><span class="line">      stack1.push(stack2.pop());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  stack1.push(x);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(!stack1.isEmpty())&#123;</span><br><span class="line">      stack2.push(stack1.pop());</span><br><span class="line">  &#125;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> stack2.pop();</span><br><span class="line"></span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> stack2.peek();</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span>  stack2.isEmpty();</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">/**</span></span><br><span class="line"><span class="comment">&gt;* Your MyQueue object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">&gt;* MyQueue obj = new MyQueue();</span></span><br><span class="line"><span class="comment">&gt;* obj.push(x);</span></span><br><span class="line"><span class="comment">&gt;* int param_2 = obj.pop();</span></span><br><span class="line"><span class="comment">&gt;* int param_3 = obj.peek();</span></span><br><span class="line"><span class="comment">&gt;* boolean param_4 = obj.empty();</span></span><br><span class="line"><span class="comment">&gt;*/</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="äºŒå‰æ ‘å…¬å…±ç¥–å…ˆ">äºŒå‰æ ‘å…¬å…±ç¥–å…ˆ</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">         <span class="keyword">if</span>(root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span>(root == p  || root == q) <span class="keyword">return</span> root;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">left</span>  <span class="operator">=</span> lowestCommonAncestor(root.left,p,q);</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> lowestCommonAncestor(root.right,p,q);</span><br><span class="line">        <span class="keyword">if</span>(left != <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) <span class="keyword">return</span> root;</span><br><span class="line">        <span class="keyword">if</span>(left == <span class="literal">null</span>  &amp;&amp; right == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> right == <span class="literal">null</span>? left : right; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¦æ˜¯äºŒå‰æœç´¢æ ‘çš„è¯è¿˜æœ‰è¿™æ ·çš„ä¸€ç§å†™æ³•ï¼Œå› ä¸º  äºŒå‰æœç´¢æ ‘æ˜¯æœ‰åºçš„</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span>(p.val &lt; cur.val &amp;&amp; q.val &lt; cur.val || p.val &gt;cur.val &amp;&amp; q.val &gt; cur.val)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p.val &lt; cur.val)&#123;</span><br><span class="line">                cur = cur.left;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                cur = cur.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ‰‹æ’•å¿«æ’">æ‰‹æ’•å¿«æ’</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ‰‹æ’•å¿«æ’</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Quick</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(<span class="type">int</span> nums[])</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">low</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">high</span> <span class="operator">=</span> nums.length-<span class="number">1</span>;</span><br><span class="line">        shuffle(nums);</span><br><span class="line">        sortQuick(nums,low,high);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sortQuick</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> low, <span class="type">int</span> high)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(low  &gt;= high) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="comment">//è·å–åæ ‡</span></span><br><span class="line">        <span class="type">int</span>  <span class="variable">mid</span> <span class="operator">=</span> partitions(nums,low,high);</span><br><span class="line">        sortQuick(nums,low,mid-<span class="number">1</span>);</span><br><span class="line">        sortQuick(nums,mid+<span class="number">1</span>,high);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">partitions</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> low, <span class="type">int</span> high)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> nums[low];</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> low+<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> high;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">            <span class="keyword">while</span>(left &lt; high &amp;&amp; nums[left] &lt;= pivot)&#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(right&gt; low &amp;&amp; nums[right] &gt; pivot)&#123;</span><br><span class="line">                right--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(left &gt;= right) <span class="keyword">break</span>;</span><br><span class="line">            swap(nums,left,right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°† pivot æ”¾åˆ°åˆé€‚çš„ä½ç½®ï¼Œå³ pivot å·¦è¾¹å…ƒç´ è¾ƒå°ï¼Œå³è¾¹å…ƒç´ è¾ƒå¤§</span></span><br><span class="line">        swap(nums,low,right);</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span>  <span class="operator">=</span> nums[left];</span><br><span class="line">        nums[left] = nums[right];</span><br><span class="line">        nums[right] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">shuffle</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> i + random.nextInt(n-i);</span><br><span class="line">            swap(nums,i,t);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ‰‹æ’•äºŒå‰å †å®ç°ä¼˜å…ˆçº§é˜Ÿåˆ—">æ‰‹æ’•äºŒå‰å †å®ç°ä¼˜å…ˆçº§é˜Ÿåˆ—</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Priority_Queue</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Comparable</span>&lt;T&gt;&gt;&#123;</span><br><span class="line">    T[] pq;</span><br><span class="line">    <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    Priority_Queue(<span class="type">int</span> capacity) &#123;</span><br><span class="line">        pq = (T[]) <span class="keyword">new</span> <span class="title class_">Comparable</span>[capacity +<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">max</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pq[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(T e)</span>&#123;</span><br><span class="line">        size++;</span><br><span class="line">        <span class="comment">// å…ˆæŠŠæ–°å…ƒç´ åŠ åˆ°æœ€å</span></span><br><span class="line">        pq[size] = e;</span><br><span class="line">        <span class="comment">// ç„¶åè®©å®ƒä¸Šæµ®åˆ°æ­£ç¡®çš„ä½ç½®</span></span><br><span class="line">        swim(size);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">delMax</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">max</span> <span class="operator">=</span> pq[<span class="number">1</span>];</span><br><span class="line">        <span class="comment">// æŠŠè¿™ä¸ªæœ€å¤§å…ƒç´ æ¢åˆ°æœ€åï¼Œåˆ é™¤ä¹‹</span></span><br><span class="line">        swap(<span class="number">1</span>, size);</span><br><span class="line">        pq[size] = <span class="literal">null</span>;</span><br><span class="line">        size--;</span><br><span class="line">        <span class="comment">// è®© pq[1] ä¸‹æ²‰åˆ°æ­£ç¡®ä½ç½®</span></span><br><span class="line">        sink(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">swim</span><span class="params">(<span class="type">int</span> x)</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(x &gt; <span class="number">1</span> &amp;&amp; less(parent(x),x ))&#123;</span><br><span class="line">            swap(parent(x),x );</span><br><span class="line">            x = parent(x);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">sink</span><span class="params">(<span class="type">int</span> x)</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(left(x) &lt;= size)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> left(x);</span><br><span class="line">            <span class="keyword">if</span>(right(x) &lt;= size &amp;&amp; less(max,right(x))) <span class="keyword">break</span>;</span><br><span class="line">            swap(x,max);</span><br><span class="line">            x= max;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">temp</span> <span class="operator">=</span> pq[i];</span><br><span class="line">        pq[i] = pq[j];</span><br><span class="line">        pq[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">less</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pq[i].compareTo(pq[j]) &lt; <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// çˆ¶èŠ‚ç‚¹çš„ç´¢å¼•</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">parent</span><span class="params">(<span class="type">int</span> root)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> root / <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å·¦å­©å­çš„ç´¢å¼•</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">left</span><span class="params">(<span class="type">int</span> root)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> root * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å³å­©å­çš„ç´¢å¼•</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">right</span><span class="params">(<span class="type">int</span> root)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> root * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="å›¾">å›¾</h2>
<h4 id="å‰ç½®ï¼š-å›¾è®ºåŸºç¡€">å‰ç½®ï¼š å›¾è®ºåŸºç¡€</h4>
<blockquote>
<p><code>å›¾èŠ‚ç‚¹çš„é€»è¾‘ç»“æ„  </code>      â€”â€”å’Œå¤šå‰æ ‘èŠ‚ç‚¹å‡ ä¹å®Œå…¨ä¸€æ ·</p>
</blockquote>
<blockquote>
<p>è€Œæ˜¯ç”¨å¸¸è¯´çš„<strong>é‚»æ¥è¡¨å’Œé‚»æ¥çŸ©é˜µ</strong>æ¥å®ç°</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é‚»æ¥è¡¨     </span></span><br><span class="line">    æˆ‘æŠŠæ¯ä¸ªèŠ‚ç‚¹ x çš„é‚»å±…éƒ½å­˜åˆ°ä¸€ä¸ªåˆ—è¡¨é‡Œï¼Œç„¶åæŠŠ x å’Œè¿™ä¸ªåˆ—è¡¨å…³è”èµ·æ¥ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ä¸€ä¸ªèŠ‚ç‚¹ x æ‰¾åˆ°å®ƒçš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹ã€‚</span><br><span class="line"><span class="comment">// graph[x] å­˜å‚¨ x çš„æ‰€æœ‰é‚»å±…èŠ‚ç‚¹</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">List&lt;Integer&gt;[] graph;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// é‚»æ¥çŸ©é˜µ</span></span><br><span class="line">é‚»æ¥çŸ©é˜µåˆ™æ˜¯ä¸€ä¸ªäºŒç»´å¸ƒå°”æ•°ç»„ï¼Œæˆ‘ä»¬æƒä¸”ç§°ä¸º matrixï¼Œå¦‚æœèŠ‚ç‚¹ x å’Œ y æ˜¯ç›¸è¿çš„ï¼Œé‚£ä¹ˆå°±æŠŠ matrix[x][y] è®¾ä¸º <span class="literal">true</span>ï¼ˆä¸Šå›¾ä¸­ç»¿è‰²çš„æ–¹æ ¼ä»£è¡¨ <span class="literal">true</span>ï¼‰ã€‚å¦‚æœæƒ³æ‰¾èŠ‚ç‚¹ x çš„é‚»å±…ï¼Œå»æ‰«ä¸€åœˆ matrix[x][..] å°±è¡Œäº†</span><br><span class="line"><span class="comment">// matrix[x][y] è®°å½• x æ˜¯å¦æœ‰ä¸€æ¡æŒ‡å‘ y çš„è¾¹</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span>[][] matrix;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>==æœ‰å‘åŠ æƒå›¾==<br>
å¦‚æœæ˜¯é‚»æ¥è¡¨ï¼Œæˆ‘ä»¬ä¸ä»…ä»…å­˜å‚¨æŸä¸ªèŠ‚ç‚¹ x çš„æ‰€æœ‰é‚»å±…èŠ‚ç‚¹ï¼Œè¿˜å­˜å‚¨ x åˆ°æ¯ä¸ªé‚»å±…çš„æƒé‡ï¼Œ<br>
å¦‚æœæ˜¯é‚»æ¥çŸ©é˜µï¼Œ<code>matrix[x][y]</code> ä¸å†æ˜¯å¸ƒå°”å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ª int å€¼ï¼Œ0 è¡¨ç¤ºæ²¡æœ‰è¿æ¥ï¼Œå…¶ä»–å€¼è¡¨ç¤ºæƒé‡ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="comment">// é‚»æ¥è¡¨</span></span><br><span class="line">&gt;<span class="comment">// graph[x] å­˜å‚¨ x çš„æ‰€æœ‰é‚»å±…èŠ‚ç‚¹ä»¥åŠå¯¹åº”çš„æƒé‡</span></span><br><span class="line">&gt;List&lt;<span class="type">int</span>[]&gt;[] graph;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">// é‚»æ¥çŸ©é˜µ</span></span><br><span class="line">&gt;<span class="comment">// matrix[x][y] è®°å½• x æŒ‡å‘ y çš„è¾¹çš„æƒé‡ï¼Œ0 è¡¨ç¤ºä¸ç›¸é‚»</span></span><br><span class="line">&gt;<span class="type">int</span>[][] matrix;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>==æ— å‘å›¾==<br>
æ‰€è°“çš„ã€Œæ— å‘ã€ï¼Œç­‰åŒäºã€ŒåŒå‘ã€<br>
å¦‚æœè¿æ¥æ— å‘å›¾ä¸­çš„èŠ‚ç‚¹ x å’Œ yï¼ŒæŠŠ <code>matrix[x][y]</code> å’Œ <code>matrix[y][x]</code> éƒ½å˜æˆ true å°±è¡Œäº†ï¼›</p>
<p>é‚»æ¥è¡¨ä¹Ÿæ˜¯ç±»ä¼¼çš„æ“ä½œï¼Œåœ¨ x çš„é‚»å±…åˆ—è¡¨é‡Œæ·»åŠ  yï¼ŒåŒæ—¶åœ¨ y çš„é‚»å±…åˆ—è¡¨é‡Œæ·»åŠ  xã€‚</p>
</blockquote>
<h4 id="å›¾çš„éå†">å›¾çš„éå†</h4>
<h6 id="å¤šå‰æ ‘çš„-DFS-éå†æ¡†æ¶å¦‚ä¸‹">å¤šå‰æ ‘çš„ DFS éå†æ¡†æ¶å¦‚ä¸‹</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">   <span class="comment">/* å¤šå‰æ ‘éå†æ¡†æ¶ */</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">traverse</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// å‰åºä½ç½®</span></span><br><span class="line">    <span class="keyword">for</span> (TreeNode child : root.children) &#123;</span><br><span class="line">        traverse(child);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ååºä½ç½®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="å›¾çš„éå†-2">å›¾çš„éå†</h6>
<p>å›¾  ä¸ æ ‘ çš„æœ€å¤§åŒºåˆ«å°±æ˜¯  å›¾å¯èƒ½==æœ‰ç¯==</p>
<p><strong>æœ‰ç¯</strong>  æ—¶å€™å°±éœ€è¦ä¸€ä¸ª <code>visited</code> æ•°ç»„è¿›è¡Œè¾…åŠ©</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®°å½•è¢«éå†è¿‡çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="type">boolean</span>[] visited;</span><br><span class="line"><span class="comment">// è®°å½•ä»èµ·ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„</span></span><br><span class="line"><span class="type">boolean</span>[] onPath;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å›¾éå†æ¡†æ¶ */</span></span><br><span class="line"><span class="comment">//  è¿‡ç¨‹å°±æ˜¯ï¼šåˆ¤æ–­æ˜¯å¦å·²ç»éå†è¿‡ï¼Œæœ‰çš„è¯å°±è¿”å›ï¼Œæ²¡æœ‰çš„è¯å°±å°†å…¶ç½®ä¸º éå†è¿‡å¹¶åŠ åˆ° è·¯å¾„æ•°ç»„ä¸­ï¼Œå†å¾ªç¯éå†é‚»å±…èŠ‚ç‚¹ï¼Œæœ€åå†ä» è·¯å¾„èŠ‚ç‚¹ä¸­åˆ å»</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">traverse</span><span class="params">(Graph graph, <span class="type">int</span> s)</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç»è¿‡èŠ‚ç‚¹ sï¼Œæ ‡è®°ä¸ºå·²éå†</span></span><br><span class="line">    visited[s] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// åšé€‰æ‹©ï¼šæ ‡è®°èŠ‚ç‚¹ s åœ¨è·¯å¾„ä¸Š</span></span><br><span class="line">    onPath[s] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> neighbor : graph.neighbors(s)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[s])</span><br><span class="line">        traverse(graph, neighbor);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ’¤é”€é€‰æ‹©ï¼šèŠ‚ç‚¹ s ç¦»å¼€è·¯å¾„</span></span><br><span class="line">    onPath[s] = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¦‚æœè®©ä½ å¤„ç†<strong>è·¯å¾„ç›¸å…³</strong>çš„é—®é¢˜ï¼Œè¿™ä¸ª <code>onPath</code> å˜é‡æ˜¯è‚¯å®šä¼šè¢«ç”¨åˆ°çš„ï¼Œæ¯”å¦‚ <a href="https://labuladong.gitee.io/algo/di-yi-zhan-da78c/shou-ba-sh-03a72/huan-jian--e36de/">æ‹“æ‰‘æ’åº</a> ä¸­å°±æœ‰è¿ç”¨ã€‚</p>
<p>å¦å¤–ï¼Œè¿™ä¸ª <code>onPath</code> æ•°ç»„çš„æ“ä½œå¾ˆåƒå‰æ–‡ <a href="https://labuladong.gitee.io/algo/di-ling-zh-bfe1b/hui-su-sua-c26da/">å›æº¯ç®—æ³•æ ¸å¿ƒå¥—è·¯</a> ä¸­åšã€Œåšé€‰æ‹©ã€å’Œã€Œæ’¤é”€é€‰æ‹©ã€ï¼ŒåŒºåˆ«åœ¨äºä½ç½®ï¼šå›æº¯ç®—æ³•çš„ã€Œåšé€‰æ‹©ã€å’Œã€Œæ’¤é”€é€‰æ‹©ã€åœ¨ for å¾ªç¯é‡Œé¢ï¼Œè€Œå¯¹ <code>onPath</code> æ•°ç»„çš„æ“ä½œåœ¨ for å¾ªç¯å¤–é¢ã€‚</p>
</blockquote>
<h4 id="DFS-VS-å›æº¯">DFS VS å›æº¯</h4>
<blockquote>
<p>å¯¹äºè¿™é‡Œã€Œå›¾ã€çš„éå†ï¼Œæˆ‘ä»¬åº”è¯¥ç”¨ DFS ç®—æ³•ï¼Œå³æŠŠ <code>onPath</code> çš„æ“ä½œæ”¾åˆ° for å¾ªç¯å¤–é¢ï¼Œå¦åˆ™ä¼šæ¼æ‰è®°å½•èµ·å§‹ç‚¹çš„éå†ã€‚</p>
</blockquote>
<h6 id="ä»£ç åŒºåˆ«">ä»£ç åŒºåˆ«</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// DFS ç®—æ³•ï¼Œå…³æ³¨ç‚¹åœ¨èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">traverse</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    printf(<span class="string">&quot;è¿›å…¥èŠ‚ç‚¹ %s&quot;</span>, root);</span><br><span class="line">    <span class="keyword">for</span> (TreeNode child : root.children) &#123;</span><br><span class="line">        traverse(child);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(<span class="string">&quot;ç¦»å¼€èŠ‚ç‚¹ %s&quot;</span>, root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å›æº¯ç®—æ³•ï¼Œå…³æ³¨ç‚¹åœ¨æ ‘æ</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">backtrack</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">for</span> (TreeNode child : root.children) &#123;</span><br><span class="line">        <span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">        printf(<span class="string">&quot;ä» %s åˆ° %s&quot;</span>, root, child);</span><br><span class="line">        backtrack(child);</span><br><span class="line">        <span class="comment">// æ’¤é”€é€‰æ‹©</span></span><br><span class="line">        printf(<span class="string">&quot;ä» %s åˆ° %s&quot;</span>, child, root);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‰€ä»¥å¯¹äºã€Œå›¾ã€çš„éå†ï¼Œæˆ‘ä»¬åº”è¯¥ç”¨ DFS ç®—æ³•ï¼Œå³æŠŠ <code>onPath</code> çš„æ“ä½œæ”¾åˆ° for å¾ªç¯å¤–é¢ï¼Œå¦åˆ™ä¼šæ¼æ‰è®°å½•èµ·å§‹ç‚¹çš„éå†ã€‚</p>
<p>å†è¯´ä¸‹ <code>visited</code> æ•°ç»„ï¼Œå…¶ç›®çš„å¾ˆæ˜æ˜¾äº†ï¼Œç”±äºå›¾å¯èƒ½å«<code>æœ‰ç¯</code>ï¼Œ<code>visited</code> æ•°ç»„å°±æ˜¯é˜²æ­¢é€’å½’é‡å¤éå†åŒä¸€ä¸ªèŠ‚ç‚¹è¿›å…¥æ­»å¾ªç¯çš„ã€‚</p>
<p>è·¯å¾„ç›¸å…³çš„é—®é¢˜ï¼Œè¿™ä¸ª <code>onPath</code> å˜é‡æ˜¯è‚¯å®šä¼šè¢«ç”¨åˆ°çš„ï¼Œæ¯”å¦‚ <a href="https://labuladong.gitee.io/algo/di-yi-zhan-da78c/shou-ba-sh-03a72/huan-jian--e36de/">æ‹“æ‰‘æ’åº</a> ä¸­å°±æœ‰è¿ç”¨ã€‚</p>
<p>å¦‚æœé¢˜ç›®å‘Šè¯‰ä½ å›¾ä¸­ä¸å«ç¯ï¼Œå¯ä»¥æŠŠ <code>visited</code> æ•°ç»„éƒ½çœæ‰ï¼ŒåŸºæœ¬å°±æ˜¯å¤šå‰æ ‘çš„éå†ã€‚</p>
</blockquote>
<h4 id="æœ‰å‘æ— ç¯å›¾çš„éå†">æœ‰å‘æ— ç¯å›¾çš„éå†</h4>
<blockquote>
<p>==æ€è·¯1ã€åŒºåˆ«äºå›æº¯çš„å†™æ³•==</p>
<p>1ã€å®šä¹‰ç»“æœé›†</p>
<p>2ã€å®šä¹‰è·¯å¾„é›†  -&gt; dfs -&gt; return</p>
<p>3ã€dfs: åšé€‰æ‹©   â€“&gt; å¾ªç¯ç»“æŸæ¡ä»¶  -&gt;  éå†ç›¸é‚»èŠ‚ç‚¹ -&gt; æ’¤é”€é€‰æ‹©</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ¥æ”¶ç»“æœé›†</span></span><br><span class="line">   List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">allPathsSourceTarget</span><span class="params">(<span class="type">int</span>[][] graph)</span> &#123;</span><br><span class="line">       LinkedList&lt;Integer&gt; path =  <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">       traverse(graph,<span class="number">0</span>,path);</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">void</span>  <span class="title function_">traverse</span> <span class="params">(<span class="type">int</span>[][] graph,<span class="type">int</span> s,LinkedList&lt;Integer&gt; path)</span> &#123;</span><br><span class="line">       <span class="comment">//åŠ åˆ°è·¯å¾„ä¸­    åšé€‰æ‹©</span></span><br><span class="line">       path.add(s);</span><br><span class="line"></span><br><span class="line">       <span class="comment">//å¾ªç¯ç»“æŸæ¡ä»¶</span></span><br><span class="line">       <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> graph.length;</span><br><span class="line">       <span class="keyword">if</span>(s== n-<span class="number">1</span>)  result.add(<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(path));</span><br><span class="line">      </span><br><span class="line">       <span class="comment">//dfs</span></span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> i: graph[s])&#123;</span><br><span class="line">           traverse(graph,i,path);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// æ’¤é”€é€‰æ‹©</span></span><br><span class="line">       path.removeLast();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‹“å±•å†…å®¹</p>
<p>BFS</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">&gt;<span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">allPathsSourceTarget</span><span class="params">(<span class="type">int</span>[][] graph)</span> &#123;</span><br><span class="line">  bfs(graph,<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">bfs</span><span class="params">(<span class="type">int</span>[][] graph, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">  Queue&lt;List&lt;Integer&gt;&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">  queue.offer(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;()&#123;</span><br><span class="line">      &#123;</span><br><span class="line">          add(i);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">      List&lt;Integer&gt; out = queue.poll();</span><br><span class="line">      <span class="type">int</span> <span class="variable">curNode</span> <span class="operator">=</span> out.get(out.size() - <span class="number">1</span>);</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j : graph[curNode]) &#123;</span><br><span class="line">          out.add(j);</span><br><span class="line">          <span class="keyword">if</span>(i == graph.length - <span class="number">1</span>) &#123;</span><br><span class="line">              res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(out));</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">              queue.offer(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(out));</span><br><span class="line">          &#125;</span><br><span class="line">          out.remove(out.size()-<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<h6 id="ç•¥">ç•¥&gt;</h6>
<p>==æ€è·¯äºŒï¼šç±»ä¼¼äºå›æº¯çš„å†™æ³•==</p>
<p>1ã€ å®šä¹‰ç»“æœé›† å’Œ è·¯å¾„å˜é‡</p>
<p>2ã€ä¸ºé¿å…  æ¼æ‰è®°å½•èµ·å§‹ç‚¹çš„éå†   æ‰€ä»¥è¦å…ˆå°† 0 åŠ åˆ°path ä¸­</p>
<p>3ã€<strong>dfs&lt;æ­¤å¤„æ˜¯å’Œå›æº¯ä¸€æ ·çš„&gt;</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">&gt;LinkedList&lt;Integer&gt; path =  <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">allPathsSourceTarget</span><span class="params">(<span class="type">int</span>[][] graph)</span> &#123;</span><br><span class="line">  path.add(<span class="number">0</span>);</span><br><span class="line">  dfs(graph,<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">void</span>  <span class="title function_">dfs</span> <span class="params">(<span class="type">int</span>[][] graph,<span class="type">int</span> s)</span> &#123;</span><br><span class="line">  <span class="comment">//è¿”å›æ¡ä»¶</span></span><br><span class="line">  <span class="keyword">if</span>(s== graph.length-<span class="number">1</span>)  result.add(<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(path));</span><br><span class="line">  <span class="comment">//dfs</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;graph[s].length;i++)&#123;</span><br><span class="line">      <span class="comment">// åšé€‰æ‹©</span></span><br><span class="line">      path.add(graph[s][i]);</span><br><span class="line">      dfs(graph,graph[s][i]);</span><br><span class="line">       <span class="comment">// æ’¤é”€é€‰æ‹©</span></span><br><span class="line">      path.removeLast();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>==æ³¨==</p>
<p>==ä»€ä¹ˆæ—¶å€™å»ºå›¾ï¼š  å¦‚æœä¸èƒ½é€šè¿‡ä¸‹æ ‡æ‰¾åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±å¾—å»ºå›¾==</p>
<p><strong>å°±æ˜¯è¯´  ä¸€æ—¦å­˜çš„æ˜¯è¾¹ å°±è¦å»ºå›¾ç”¨é‚»æ¥è¡¨å­˜å‚¨   å¦åˆ™å°±ä¸è¦å»ºå›¾</strong></p>
</blockquote>
<h4 id="å›¾çš„DFS">å›¾çš„DFS</h4>
<h5 id="æœ‰å‘å›¾æ˜¯å¦æ— ç¯">æœ‰å‘å›¾æ˜¯å¦æ— ç¯</h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ— ç¯åˆ¤æ–­=æ”¶é›†æœ€ç»ˆç»“æœé›† + traverse + æ„å»ºä¾èµ–å…³ç³»	</span></span><br><span class="line">	<span class="type">boolean</span> visited[];</span><br><span class="line">    <span class="type">boolean</span> path[];</span><br><span class="line"><span class="comment">//visited è®°å½•å“ªäº›èŠ‚ç‚¹è¢«éå†è¿‡ï¼Œè€Œ onPath è®°å½•å½“å‰é€’å½’å †æ ˆä¸­æœ‰å“ªäº›èŠ‚ç‚¹ï¼Œå®ƒä»¬çš„ä½œç”¨ä¸åŒï¼Œæ‰€ä»¥å¹¶ä¸é‡å¤ã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœæœ‰å‘å›¾ä¸­å­˜åœ¨ç¯ï¼Œé‚£å°±è¯´æ˜è¯¾ç¨‹ä¹‹é—´å­˜åœ¨å¾ªç¯ä¾èµ–ï¼Œè‚¯å®šæ²¡åŠæ³•å…¨éƒ¨ä¸Šå®Œï¼›åä¹‹ï¼Œå¦‚æœæ²¡æœ‰ç¯ï¼Œé‚£ä¹ˆè‚¯å®šèƒ½ä¸Šå®Œå…¨éƒ¨è¯¾ç¨‹ã€‚</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">hasCycle</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">canFinish</span><span class="params">(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites)</span> &#123;</span><br><span class="line">        <span class="comment">// æ ¹æ®ç°æœ‰å·¦è¾¹å»ºç«‹æ ‘</span></span><br><span class="line">        List&lt;Integer&gt;[] graph = buildGraph(numCourses, prerequisites);</span><br><span class="line">		<span class="comment">// åˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line">        visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[numCourses];</span><br><span class="line">        path = <span class="keyword">new</span> <span class="title class_">boolean</span>[numCourses];</span><br><span class="line">		<span class="comment">// é¿å…ç”±äº ä¸è¿é€šåˆ†é‡å¯¼è‡´çš„é”™è¯¯ï¼Œæ‰€ä»¥å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹ éƒ½è¦è¿›è¡Œä¸€æ¬¡ dfs</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span>  <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++)&#123;</span><br><span class="line">            dfs(graph, i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ”¶é›†ç»“æœ</span></span><br><span class="line">        <span class="keyword">return</span> !hasCycle;  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h5 id="æ‹“æ‰‘æ’åº-æ˜¯é€†ååº">æ‹“æ‰‘æ’åº&lt;æ˜¯é€†ååº &gt;</h5>
<blockquote>
<p>==&lt;æ˜¯é€†ååº != å…ˆåº&gt;==</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="comment">// æ‹“æ‰‘ = æˆç¯åˆ¤æ–­ +æ”¶é›†æœ€ç»ˆç»“æœé›† + traverse + æ„å»ºä¾èµ–å…³ç³»</span></span><br><span class="line">    <span class="type">boolean</span> visited[];</span><br><span class="line">    <span class="type">boolean</span> path[];</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">hasCycle</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"> <span class="comment">//æ‹“æ‰‘æ’åºçš„åŒºåˆ«ä¸€</span></span><br><span class="line">List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">public</span> <span class="type">int</span>[] findOrder(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites) &#123;</span><br><span class="line">            List&lt;Integer&gt;[] graph = buildGraph(numCourses, prerequisites);</span><br><span class="line">            visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[numCourses];</span><br><span class="line">            path = <span class="keyword">new</span> <span class="title class_">boolean</span>[numCourses];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt; numCourses;i++) &#123;</span><br><span class="line">                dfs(graph, i);</span><br><span class="line">        	&#125;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‹“æ‰‘æ’åºçš„åŒºåˆ«äºŒ</span></span><br><span class="line"><span class="keyword">if</span>(hasCycle)&#123;</span><br><span class="line"><span class="comment">//ä¸€ä¸ªç©ºçš„æ•´å‹æ•°ç»„</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line">            </span><br><span class="line"><span class="comment">//æ‹“æ‰‘æ’åºçš„åŒºåˆ«ä¸‰    </span></span><br><span class="line">        <span class="comment">// åè½¬ ï¼›è¾¾æˆé€†ååºç»“æœ</span></span><br><span class="line">Collections.reverse(res);</span><br><span class="line"><span class="type">int</span> result[] = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;numCourses; i++) &#123;</span><br><span class="line">   result[i] = res.get(i);</span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">return</span>  result;</span><br><span class="line">		</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="å¤ç”¨çš„ä»£ç ">å¤ç”¨çš„ä»£ç </h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span> <span class="params">(List&lt;Integer&gt;[] graph, <span class="type">int</span> s)</span> &#123;</span><br><span class="line">       <span class="comment">//  path[s] == true  è¡¨ç¤ºå·²ç»èµ°è¿‡äº†ï¼Œæ‰€ä»¥æ˜¯ç¯</span></span><br><span class="line">       <span class="keyword">if</span>(path[s])  hasCycle= <span class="literal">true</span>;</span><br><span class="line">       <span class="keyword">if</span>(visited[s] || hasCycle)   <span class="keyword">return</span>;</span><br><span class="line">    	visited[s] = <span class="literal">true</span>;</span><br><span class="line">       path[s] = <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> i : graph[s])&#123;</span><br><span class="line">           dfs(graph, i);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// ååºä½ç½®        //ç¯æ£€æµ‹ä¸éœ€è¦è¿™ä¸€æ®µä»£ç </span></span><br><span class="line">       <span class="comment">//  res.add(s);---- æ‹“æ‰‘æ’åºéœ€è¦è¿›è¡Œä¸€ä¸ªç»“æœæ”¶é›†æ‰€ä»¥éœ€è¦åŠ ä¸Šè¿™ä¸€æ®µä»£ç 						</span></span><br><span class="line">       path[s] = <span class="literal">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// numCourses: è¯¾ç¨‹æ•° å³  prerequisites[][] çš„ ä¸åŒçš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">   <span class="comment">//æ ¹æ®é‚»æ¥è¡¨å»åˆ›å»ºä¸€ä¸ªå›¾  å°† è¾“å…¥çš„  prerequisites[][]   è½¬åŒ–ä¸ºé‚»æ¥è¡¨å½¢å¼</span></span><br><span class="line">   List&lt;Integer&gt;[] buildGraph(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites) &#123;</span><br><span class="line">       <span class="comment">//  å°† prerequisites[][] å­˜å‚¨çš„è¾¹ è½¬ä¸ºç”¨é‚»æ¥è¡¨çš„å½¢å¼è¿›è¡Œå­˜å‚¨</span></span><br><span class="line">       LinkedList&lt;Integer&gt;[] graph = <span class="keyword">new</span> <span class="title class_">LinkedList</span>[numCourses];</span><br><span class="line">       <span class="comment">// è½¬æ¢æ•°æ®ç±»å‹   graph[i] ä» LinkedListï¼ˆnullï¼‰  è½¬åŒ–ä¸º  [] æ•°ç»„ç±»å‹</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">           graph[i] = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// å°†æ¯ä¸€ä¸ªè¾¹ å­˜åˆ°é‚»æ¥è¡¨ä¸­graph</span></span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span>[] edge:prerequisites) &#123;</span><br><span class="line">           <span class="comment">//å®šä¹‰æ­£å¸¸çš„ä¾èµ–å…³ç³»</span></span><br><span class="line">           <span class="type">int</span> <span class="variable">from</span> <span class="operator">=</span> edge[<span class="number">1</span>];</span><br><span class="line">           <span class="type">int</span> <span class="variable">to</span> <span class="operator">=</span> edge[<span class="number">0</span>];</span><br><span class="line">           <span class="comment">// æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹</span></span><br><span class="line">           <span class="comment">// è¾¹çš„æ–¹å‘æ˜¯ã€Œè¢«ä¾èµ–ã€å…³ç³»ï¼Œå³ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to</span></span><br><span class="line">           graph[from].add(to);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> graph;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h4 id="BFS-2">BFS</h4>
<blockquote>
<p>æœ‰å‘å›¾ çš„ BFS ä¸­  é€šè¿‡ <code>indegree</code> æ•°ç»„å®ç°çš„ <code>visited</code> æ•°ç»„çš„ä½œç”¨ï¼Œåªæœ‰å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹æ‰èƒ½å…¥é˜Ÿï¼Œä»è€Œä¿è¯ä¸ä¼šå‡ºç°æ­»å¾ªç¯ã€‚</p>
</blockquote>
<h5 id="æœ‰å‘å›¾æ˜¯å¦æ— ç¯ã€æ‹“æ‰‘æ’åº">æœ‰å‘å›¾æ˜¯å¦æ— ç¯ã€æ‹“æ‰‘æ’åº</h5>
<blockquote>
<p>è§£è€¦å†™æ³•</p>
<ul>
<li>æœ‰æ— ç¯</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> []indegree;     <span class="comment">// å–ä»£ visited</span></span><br><span class="line">   Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">  <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canFinish</span><span class="params">(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites)</span> &#123;</span><br><span class="line">      indegree = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">      List&lt;Integer&gt; [] graph = build(numCourses, prerequisites);</span><br><span class="line">&gt;<span class="comment">//å…¥åº¦</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> edge[]: prerequisites) &#123;</span><br><span class="line">          <span class="type">int</span> <span class="variable">to</span> <span class="operator">=</span> edge[<span class="number">0</span>];</span><br><span class="line">          indegree[to]++;</span><br><span class="line">      &#125;</span><br><span class="line">&gt;<span class="comment">//å…¥é˜Ÿ</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">          <span class="keyword">if</span>(indegree[i] == <span class="number">0</span> )&#123;</span><br><span class="line">             queue.offer(i);</span><br><span class="line">            <span class="comment">// count++;  //å…¥é˜Ÿçš„æ—¶å€™ ++ </span></span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&gt;<span class="comment">//bfs</span></span><br><span class="line">      bfs(graph);</span><br><span class="line">      <span class="keyword">return</span> count == numCourses;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">bfs</span><span class="params">(List&lt;Integer&gt;[] graph)</span> &#123;</span><br><span class="line">      <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">          <span class="type">Integer</span> <span class="variable">poll</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">           count++;  <span class="comment">//å‡ºé˜Ÿçš„æ—¶å€™ ++ </span></span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> j : graph[poll]) &#123;</span><br><span class="line">              indegree[j]--;</span><br><span class="line">              <span class="keyword">if</span>(indegree[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                  queue.offer(j);</span><br><span class="line">                 <span class="comment">// count++;  //å…¥é˜Ÿçš„æ—¶å€™ ++ </span></span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//å»ºå›¾</span></span><br><span class="line">  <span class="keyword">private</span> List&lt;Integer&gt;[] build(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites) &#123;</span><br><span class="line">      List&lt;Integer&gt; []graph = <span class="keyword">new</span> <span class="title class_">LinkedList</span>[numCourses];</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">          graph[i] = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> []edge : prerequisites) &#123;</span><br><span class="line">          <span class="type">int</span> <span class="variable">from</span>  <span class="operator">=</span> edge[<span class="number">1</span>];</span><br><span class="line">          <span class="type">int</span> <span class="variable">to</span> <span class="operator">=</span> edge[<span class="number">0</span>];</span><br><span class="line">          graph[from].add(to);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> graph;</span><br><span class="line">  &#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ‹“æ‰‘æ’åº</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">  Queue&lt;Integer&gt; queue= <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">  <span class="type">int</span>[] res ;</span><br><span class="line">  <span class="type">int</span> indegree[] ;</span><br><span class="line">  <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span>[] findOrder(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites) &#123;</span><br><span class="line">      List&lt;Integer&gt; []graph = build(numCourses, prerequisites);</span><br><span class="line">      indegree = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> []edge : prerequisites)&#123;</span><br><span class="line">          <span class="type">int</span> <span class="variable">to</span> <span class="operator">=</span> edge[<span class="number">0</span>];</span><br><span class="line">          indegree[to]++;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">          <span class="keyword">if</span>(indegree[i] == <span class="number">0</span>)&#123;</span><br><span class="line">              queue.offer(i); </span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      res = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">      bfs(graph);</span><br><span class="line">      <span class="keyword">if</span>(count != numCourses)&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;&#125;;</span><br><span class="line">      &#125;  </span><br><span class="line">      <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">bfs</span><span class="params">(List&lt;Integer&gt;[] graph)</span> &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">         <span class="type">Integer</span> <span class="variable">poll</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">         res[count]=poll;</span><br><span class="line">           count++;   <span class="comment">//å‡ºé˜Ÿçš„æ—¶å€™åŠ åˆ°ç»“æœé›†   å¹¶ä¸”è¿›è¡Œ++ </span></span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i : graph[poll]) &#123;</span><br><span class="line">              indegree[i]--;</span><br><span class="line">              <span class="keyword">if</span>(indegree[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                  queue.offer(i);</span><br><span class="line"></span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&gt;<span class="comment">//å»ºå›¾</span></span><br><span class="line">  <span class="keyword">private</span> List&lt;Integer&gt;[] build(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites) &#123;</span><br><span class="line">      List&lt;Integer&gt; []graph = <span class="keyword">new</span> <span class="title class_">LinkedList</span>[numCourses];</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">          graph[i] = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> []edge : prerequisites) &#123;</span><br><span class="line">          <span class="type">int</span> <span class="variable">from</span>  <span class="operator">=</span> edge[<span class="number">1</span>];</span><br><span class="line">          <span class="type">int</span> <span class="variable">to</span> <span class="operator">=</span> edge[<span class="number">0</span>];</span><br><span class="line">          graph[from].add(to);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> graph;</span><br><span class="line">  &#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">// 1ã€å»ºå›¾ï¼Œæœ‰å‘è¾¹ä»£è¡¨ã€Œè¢«ä¾èµ–ã€å…³ç³»</span></span><br><span class="line">        List&lt;Integer&gt;[] graph = buildGraph(numCourses, prerequisites);</span><br><span class="line">        <span class="comment">// 2ã€å»ºç«‹å…¥åº¦æ•°ç»„</span></span><br><span class="line">        <span class="type">int</span>[] degree = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">		<span class="comment">// æ ¹æ® é¢˜ç›®ä¸­çš„è¾¹çš„å…³ç³» å¯¹  å…¥åº¦æ•°ç»„  è¿›è¡Œ  èµ‹å€¼æ“ä½œ	</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> []edge :prerequisites)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">from</span> <span class="operator">=</span> edge[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">to</span> <span class="operator">=</span> edge[<span class="number">0</span>];  <span class="comment">//ä»å…¶ä»–å¤„ æ¥çš„</span></span><br><span class="line">            degree[to]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3ã€å»ºç«‹é˜Ÿåˆ—</span></span><br><span class="line">        Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//4ã€åˆ¤æ–­å…¥åº¦æ•°ç›®ï¼Œå°†å¯èƒ½ çš„èµ·ç‚¹ åŠ åˆ°é˜Ÿåˆ—ä¸­</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(degree[i] == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="comment">//åªè¦èŠ‚ç‚¹ i æ²¡æœ‰å…¥åº¦ï¼Œå³æ²¡æœ‰ä¾èµ–çš„èŠ‚ç‚¹,å°±æŠŠä»–ä½œä¸ºæ‹“æ‰‘æ’åºçš„èµ·ç‚¹ï¼ŒåŠ å…¥é˜Ÿåˆ—</span></span><br><span class="line">                queue.offer(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">        <span class="comment">//5ã€ å–å‡ºå¯¹å¤´å…ƒç´ ï¼Œæ¯æ¬¡ å–åˆ°ä¸€ä¸ª å°±è®© count ++</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//int res[] = new int[numCourses]; //BFS åŒºåˆ«ä¸€</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">         <span class="type">int</span> <span class="variable">current</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            </span><br><span class="line"><span class="comment">//res[count] = current;  // å¼¹å‡ºçš„é˜Ÿåˆ—å…ƒç´ çš„é¡ºåºå°±æ˜¯æ‹“æ‰‘æ’åºçš„ç»“æœ //BFS åŒºåˆ«äºŒ</span></span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">            count++;</span><br><span class="line">        <span class="comment">//6ã€ å°†é‚»å±…èŠ‚ç‚¹çš„å…¥åº¦ -1</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> next:graph[current])&#123;</span><br><span class="line">                degree[next]--;</span><br><span class="line">        <span class="comment">//7ã€é‚»å±…èŠ‚ç‚¹çš„ä¸ªæ•°ä¸º 0 ä¹ŸåŠ åˆ°é˜Ÿåˆ—ä¸­</span></span><br><span class="line">                <span class="keyword">if</span>(degree[next] == <span class="number">0</span>)&#123;</span><br><span class="line">                    queue.offer(next);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//8ã€ å¦‚æœæ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«éå†è¿‡ï¼Œè¯´æ˜ä¸æˆç¯</span></span><br><span class="line"><span class="comment">//ä¹Ÿå°±æ˜¯è¯´  åªè¦æœ‰ç¯  å°±å¿…ç„¶ä¼šè‡³å°‘æœ‰1ä¸ªèŠ‚ç‚¹çš„å…¥åº¦ä¸ªæ•°&gt;0 å°±ä¼šä½¿å¾—countï¼=numCourses,å°±ä¼šæœ‰ç¯----false</span></span><br><span class="line">            <span class="keyword">return</span> count == numCourses;      -------<span class="literal">true</span>  æ— ç¯</span><br><span class="line"></span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line"><span class="comment">// æ‹“æ‰‘æ’åº</span></span><br><span class="line"><span class="comment">//if(count != numCourses)&#123;   //BFS åŒºåˆ«ä¸‰</span></span><br><span class="line"><span class="comment">//   return new int[]&#123;&#125;;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//return res;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>==å…¶å®æ¯”åˆ¤å®šç¯çš„ä»£ç å°±å¤šäº†å‡ è¡Œï¼Œæ·»åŠ åˆ°æŒ‡å®šé›†åˆä¸­ï¼Œä»è€Œè·å–æ‹“æ‰‘æ’åº==</p>
<p><strong>æµç¨‹</strong></p>
<p>â€‹	 	1ã€å»ºå›¾ï¼Œæœ‰å‘è¾¹ä»£è¡¨ã€Œè¢«ä¾èµ–ã€å…³ç³»<br>
â€‹        2ã€å»ºç«‹å…¥åº¦æ•°ç»„<br>
â€‹        3ã€å»ºç«‹é˜Ÿåˆ—<br>
â€‹        4ã€åˆ¤æ–­å…¥åº¦æ•°ç›®ï¼Œå°†æ‰€æœ‰å¯èƒ½ çš„èµ·ç‚¹(å…¥åº¦ä¸º  0  ) åŠ åˆ°é˜Ÿåˆ—ä¸­<br>
â€‹                åªè¦èŠ‚ç‚¹ i æ²¡æœ‰å…¥åº¦ï¼Œå³æ²¡æœ‰ä¾èµ–çš„èŠ‚ç‚¹,å°±æŠŠä»–ä½œä¸ºæ‹“æ‰‘æ’åºçš„èµ·ç‚¹ï¼ŒåŠ å…¥é˜Ÿåˆ—<br>
â€‹        5ã€ å–å‡ºé˜Ÿå¤´å…ƒç´ ï¼Œæ¯æ¬¡ å–åˆ°ä¸€ä¸ª å°±è®© count ++<br>
â€‹        6ã€ å°†é‚»å±…èŠ‚ç‚¹çš„å…¥åº¦ -1<br>
â€‹        7ã€é‚»å±…èŠ‚ç‚¹çš„ä¸ªæ•°ä¸º 0 ä¹ŸåŠ åˆ°é˜Ÿåˆ—ä¸­<br>
â€‹        8ã€ å¦‚æœæ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«éå†è¿‡ï¼Œè¯´æ˜ä¸æˆç¯</p>
</blockquote>
<h5 id="å¤ç”¨çš„ä»£ç -2">å¤ç”¨çš„ä»£ç </h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ ¹æ®é‚»æ¥è¡¨å»åˆ›å»ºä¸€ä¸ªå›¾  å°† è¾“å…¥çš„  prerequisites[][]   è½¬åŒ–ä¸ºé‚»æ¥è¡¨å½¢å¼</span></span><br><span class="line">    List&lt;Integer&gt;[] buildGraph(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites) &#123;</span><br><span class="line">        LinkedList&lt;Integer&gt;[] graph = <span class="keyword">new</span> <span class="title class_">LinkedList</span>[numCourses];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">            graph[i] = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>[] edge:prerequisites) &#123;</span><br><span class="line">            <span class="comment">//å®šä¹‰æ­£å¸¸çš„ä¾èµ–å…³ç³»</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">from</span> <span class="operator">=</span> edge[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">to</span> <span class="operator">=</span> edge[<span class="number">0</span>];</span><br><span class="line">            <span class="comment">// æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹</span></span><br><span class="line">            <span class="comment">// è¾¹çš„æ–¹å‘æ˜¯ã€Œè¢«ä¾èµ–ã€å…³ç³»ï¼Œå³ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to</span></span><br><span class="line">            graph[from].add(to);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> graph;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="äºŒåˆ†å›¾">äºŒåˆ†å›¾</h4>
<blockquote>
<p>&lt; å›¾ä¸­  å„ä¸ªèŠ‚ç‚¹  çš„çŠ¶æ€ åªæœ‰ä¸¤ä¸ª å¯è¿›è¡Œé€‰å– &gt;</p>
</blockquote>
<h5 id="äºŒåˆ†å›¾åˆ¤å®šæ€è·¯">äºŒåˆ†å›¾åˆ¤å®šæ€è·¯</h5>
<blockquote>
<p><strong>äºŒåˆ†å›¾æ€ä¹ˆåˆ¤æ–­ï¼Œå…¶å®å°±æ˜¯è®© <code>dfs</code> å‡½æ•°ä¸€è¾¹éå†èŠ‚ç‚¹ï¼Œä¸€è¾¹ç»™èŠ‚ç‚¹æŸ“è‰²ï¼Œå°è¯•è®©æ¯å¯¹ç›¸é‚»èŠ‚ç‚¹çš„é¢œè‰²éƒ½ä¸ä¸€æ ·</strong>ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* äºŒåˆ†å›¾éå†æ¡†æ¶ */</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(Graph graph, <span class="type">boolean</span>[] visited, <span class="type">int</span> v)</span> &#123;</span><br><span class="line">    visited[v] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// éå†èŠ‚ç‚¹ v çš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹ neighbor</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> neighbor : graph.neighbors(v)) &#123;</span><br><span class="line">         <span class="comment">// ç›¸é‚»èŠ‚ç‚¹ neighbor æ²¡æœ‰è¢«è®¿é—®è¿‡</span></span><br><span class="line">        <span class="keyword">if</span> (!visited[neighbor]) &#123;</span><br><span class="line">           </span><br><span class="line">            <span class="comment">// é‚£ä¹ˆåº”è¯¥ç»™èŠ‚ç‚¹ neighbor æ¶‚ä¸Šå’ŒèŠ‚ç‚¹ v ä¸åŒçš„é¢œè‰²</span></span><br><span class="line">            </span><br><span class="line">           dfs(graph, visited, neighbor);</span><br><span class="line">            </span><br><span class="line">        <span class="comment">// ç›¸é‚»èŠ‚ç‚¹ neighbor å·²ç»è¢«è®¿é—®è¿‡</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// é‚£ä¹ˆåº”è¯¥æ¯”è¾ƒèŠ‚ç‚¹ neighbor å’ŒèŠ‚ç‚¹ v çš„é¢œè‰²</span></span><br><span class="line">            <span class="comment">// è‹¥ç›¸åŒï¼Œåˆ™æ­¤å›¾ä¸æ˜¯äºŒåˆ†å›¾</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="åˆ¤å®š">åˆ¤å®š</h5>
<blockquote>
<p>å·²çŸ¥é‚»æ¥è¡¨  æˆ–è€…é‚»æ¥çŸ©é˜µ  ä¸è¦å»ºå›¾   æ‰€è°“çš„ <code>graph[][]</code> çš„å½¢å‚å°±æ˜¯  é‚»æ¥è¡¨/ é‚»æ¥çŸ©é˜µçš„è¡¨ç¤ºæ–¹æ³•</p>
</blockquote>
<h6 id="BFS-3">BFS</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">            <span class="type">boolean</span> color[];</span><br><span class="line">            <span class="type">boolean</span> visited[];</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">isbipartiteGraph</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBipartite</span><span class="params">(<span class="type">int</span>[][] graph)</span> &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span>graph.length;</span><br><span class="line">                color = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">                visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">                <span class="comment">//åº”å¯¹ å¤šä¸ª ä¸è¿é€š çš„ å­å›¾çš„æ—¶å€™</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(!visited[i]) &#123;</span><br><span class="line">bfs(graph, i);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> isbipartiteGraph;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">             <span class="keyword">void</span> <span class="title function_">bfs</span><span class="params">(<span class="type">int</span>[][] graph, <span class="type">int</span> start)</span> &#123;</span><br><span class="line">                 <span class="keyword">if</span>(!isbipartiteGraph)  <span class="keyword">return</span> ;</span><br><span class="line">Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">visited[start] = <span class="literal">true</span>;</span><br><span class="line">queue.offer(start);</span><br><span class="line">                 <span class="keyword">while</span> (!queue.isEmpty())&#123;</span><br><span class="line">                     <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                     <span class="comment">// é‚»å±…èŠ‚ç‚¹</span></span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> j:graph[i]) &#123;</span><br><span class="line">                        <span class="keyword">if</span>(!visited[j])&#123;</span><br><span class="line">                            color[j] = !color[i];</span><br><span class="line">visited[j] =<span class="literal">true</span>;</span><br><span class="line"><span class="comment">// é‚»å±…èŠ‚ç‚¹è¿›é˜Ÿ</span></span><br><span class="line">queue.offer(j);</span><br><span class="line">                        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(color[j] == color[i])&#123;</span><br><span class="line">                                isbipartiteGraph = <span class="literal">false</span>;</span><br><span class="line">                                <span class="keyword">return</span> ;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br></pre></td></tr></table></figure>
<h6 id="DFS-2">DFS</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">        <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="type">boolean</span> color[];</span><br><span class="line">            <span class="type">boolean</span> visited[];</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">isbipartiteGraph</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBipartite</span><span class="params">(<span class="type">int</span>[][] graph)</span> &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> graph.length;</span><br><span class="line">                color =<span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">                visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">                <span class="comment">// åº”å¯¹å‡ºç°  ä¸è”é€šå­å›¾çš„ æƒ…å†µ</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(!visited[i])  </span><br><span class="line"><span class="comment">//å’Œ BFS çš„åŒºåˆ« ä¸€</span></span><br><span class="line">dfs(graph,i);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span>  isbipartiteGraph;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å’Œ BFS çš„åŒºåˆ«äºŒ</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] graph, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">               <span class="keyword">if</span>(!isbipartiteGraph) <span class="keyword">return</span>;</span><br><span class="line">visited[i] = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j: graph[i]) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!visited[j]) &#123;</span><br><span class="line">                        <span class="comment">//ä¸Š ä¸åŒçš„è‰²</span></span><br><span class="line">                        color[j] = !color[i];</span><br><span class="line"><span class="comment">//ç»§ç»­é€’å½’</span></span><br><span class="line">dfs(graph, j);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">//åˆ¤æ–­é¢œè‰²ä¸€ä¸ä¸€æ ·</span></span><br><span class="line">                        <span class="keyword">if</span> (color[j] == color[i]) &#123;</span><br><span class="line">                            isbipartiteGraph = <span class="literal">false</span>;</span><br><span class="line">                            <span class="keyword">return</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">             &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="å¯èƒ½çš„äºŒåˆ†å›¾-DFSã€BFS">å¯èƒ½çš„äºŒåˆ†å›¾&lt;DFSã€BFS&gt;</h4>
<blockquote>
<p>åªç»™å‡ºäº†å„ä¸ªèŠ‚ç‚¹ å’Œä»€ä¹ˆèŠ‚ç‚¹ç›¸è¿  å°±è¦å»ºå›¾</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> 	<span class="type">boolean</span> color[];</span><br><span class="line">    <span class="type">boolean</span> visited[];</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">bipartiteGraph</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">possibleBipartition</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[][] dislikes)</span> &#123;</span><br><span class="line">        <span class="comment">//ç´¢å¼• åç§»</span></span><br><span class="line">       color = <span class="keyword">new</span> <span class="title class_">boolean</span>[n+<span class="number">1</span>];</span><br><span class="line">         <span class="comment">//ç´¢å¼• åç§»</span></span><br><span class="line">       visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[n+<span class="number">1</span>];</span><br><span class="line">       List&lt;Integer&gt;[] graph =  buildGraph(n,dislikes);</span><br><span class="line">         <span class="comment">//ç´¢å¼• åç§»</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">         <span class="comment">//   if(!visited[i])</span></span><br><span class="line">            dfs(graph,i);   <span class="comment">//bfs(graph, i); </span></span><br><span class="line">       <span class="comment">// &#125;</span></span><br><span class="line">        <span class="keyword">return</span> bipartiteGraph;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//dfs</span></span><br><span class="line">     <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(List&lt;Integer&gt;[] graph, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(!bipartiteGraph)  <span class="keyword">return</span>;</span><br><span class="line">        visited[i] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j:graph[i]) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!visited[j])&#123;</span><br><span class="line">                color[j] = !color[i];</span><br><span class="line">                dfs(graph,j);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(color[j] == color[i])&#123;</span><br><span class="line">                    bipartiteGraph = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">return</span> ;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//bfs</span></span><br><span class="line">     <span class="keyword">void</span> <span class="title function_">bfs</span><span class="params">(List&lt;Integer&gt;[] graph, <span class="type">int</span> start)</span> &#123;</span><br><span class="line">         <span class="keyword">if</span>(!bipartiteGraph) <span class="keyword">return</span> ;</span><br><span class="line">         Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">         visited[start]=<span class="literal">true</span>;</span><br><span class="line">         queue.offer(start);</span><br><span class="line">         <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">            <span class="comment">//éå† æ¯ä¸€ä¸ªå¼¹å‡ºé˜Ÿåˆ—çš„é‚»æ¥èŠ‚ç‚¹ï¼ˆé‚»å±…ï¼‰</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j:graph[i])&#123;</span><br><span class="line">                <span class="keyword">if</span>(!visited[j])&#123;</span><br><span class="line">                    color[j] = !color[i];</span><br><span class="line">                    visited[j]=<span class="literal">true</span>;</span><br><span class="line">                    queue.offer(j);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">if</span>(color[j]==color[i])&#123;</span><br><span class="line">                        bipartiteGraph = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">return</span> ;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>
<h5 id="å»ºæ— å‘å›¾">å»ºæ— å‘å›¾</h5>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="comment">// å»ºå›¾çš„ é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ³•</span></span><br><span class="line">List&lt;Integer&gt;[] buildGraph(<span class="type">int</span> n,<span class="type">int</span>[][] dislikes)&#123;</span><br><span class="line">    <span class="comment">// ä¸‹æ ‡ ä»ä¸€ å¼€å§‹  æ‰€ä»¥ä¼šæœ‰ç´¢å¼• åç§»</span></span><br><span class="line">    List&lt;Integer&gt;[]graph = <span class="keyword">new</span> <span class="title class_">LinkedList</span>[n+<span class="number">1</span>];</span><br><span class="line">      <span class="comment">//ç´¢å¼• åç§»  åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;=n; i++) &#123;</span><br><span class="line">        graph[i] = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span>[]edge:dislikes) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">from</span> <span class="operator">=</span> edge[<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">to</span> <span class="operator">=</span> edge[<span class="number">0</span>];</span><br><span class="line">        graph[from].add(to);</span><br><span class="line">        graph[to].add(from);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> graph;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸Šé¢ä¸¤é¢˜çš„bfs dfs æ˜¯ä¸€æ¨¡ä¸€æ ·ï¼Œ  åªæœ‰ä¸»å‡½æ•°æœ‰äº›åŒºåˆ«ï¼Œä¸€æ–¹é¢æ˜¯ï¼šå¤šäº†ä¸ª <strong>å»ºå›¾</strong>   å¦ä¸€æ–¹é¢æ˜¯ç”±äºé¢˜ç›®é—®é¢˜å¯¼è‡´çš„<strong>ç´¢å¼•åç§»</strong></p>
</blockquote>
<h4 id="Union-Find-å¹¶æŸ¥é›†">Union Find  å¹¶æŸ¥é›†</h4>
<h6 id="ä¸»è¦éœ€è¦å®ç°è¿™ä¸¤ä¸ª-APIï¼š">ä¸»è¦éœ€è¦å®ç°è¿™ä¸¤ä¸ª APIï¼š</h6>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UF</span> &#123;</span><br><span class="line">    <span class="comment">/* å°† p å’Œ q è¿æ¥ */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span>;</span><br><span class="line">    <span class="comment">/* åˆ¤æ–­ p å’Œ q æ˜¯å¦è¿é€š */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">connected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span>;</span><br><span class="line">    <span class="comment">/* è¿”å›å›¾ä¸­æœ‰å¤šå°‘ä¸ªè¿é€šåˆ†é‡ */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">count</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œæ‰€è¯´çš„ã€Œè¿é€šã€æ˜¯ä¸€ç§ç­‰ä»·å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´å…·æœ‰å¦‚ä¸‹ä¸‰ä¸ªæ€§è´¨ï¼š</p>
<p>1ã€è‡ªåæ€§ï¼šèŠ‚ç‚¹ <code>p</code> å’Œ <code>p</code> æ˜¯è¿é€šçš„ã€‚</p>
<p>2ã€å¯¹ç§°æ€§ï¼šå¦‚æœèŠ‚ç‚¹ <code>p</code> å’Œ <code>q</code> è¿é€šï¼Œé‚£ä¹ˆ <code>q</code> å’Œ <code>p</code> ä¹Ÿè¿é€šã€‚</p>
<p>3ã€ä¼ é€’æ€§ï¼šå¦‚æœèŠ‚ç‚¹ <code>p</code> å’Œ <code>q</code> è¿é€šï¼Œ<code>q</code> å’Œ <code>r</code> è¿é€šï¼Œé‚£ä¹ˆ <code>p</code> å’Œ <code>r</code> ä¹Ÿè¿é€šã€‚</p>
</blockquote>
<blockquote>
<p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨æ£®æ—ï¼ˆè‹¥å¹²æ£µæ ‘ï¼‰æ¥è¡¨ç¤ºå›¾çš„åŠ¨æ€è¿é€šæ€§ï¼Œç”¨æ•°ç»„æ¥å…·ä½“å®ç°è¿™ä¸ªæ£®æ—ã€‚</p>
</blockquote>
<blockquote>
<p>æ€ä¹ˆç”¨æ£®æ—æ¥è¡¨ç¤ºè¿é€šæ€§å‘¢ï¼Ÿæˆ‘ä»¬è®¾å®šæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶çˆ¶èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯æ ¹èŠ‚ç‚¹çš„è¯ï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘è‡ªå·±ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UF</span> &#123;</span><br><span class="line">    <span class="comment">// è®°å½•è¿é€šåˆ†é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;</span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹ x çš„çˆ¶èŠ‚ç‚¹æ˜¯ parent[x]</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] parent;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* æ„é€ å‡½æ•°ï¼Œn ä¸ºå›¾çš„èŠ‚ç‚¹æ€»æ•° */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UF</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">// ä¸€å¼€å§‹äº’ä¸è¿é€š</span></span><br><span class="line">        <span class="built_in">this</span>.count = n;</span><br><span class="line">        <span class="comment">// çˆ¶èŠ‚ç‚¹æŒ‡é’ˆåˆå§‹æŒ‡å‘è‡ªå·±</span></span><br><span class="line">        parent = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            parent[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* å…¶ä»–å‡½æ•° */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>å¦‚æœæŸä¸¤ä¸ªèŠ‚ç‚¹è¢«è¿é€šï¼Œåˆ™è®©å…¶ä¸­çš„ï¼ˆä»»æ„ï¼‰ä¸€ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹æ¥åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ä¸Š</strong>;</p>
<p><strong>è¿™æ ·ï¼Œå¦‚æœèŠ‚ç‚¹ <code>p</code> å’Œ <code>q</code> è¿é€šçš„è¯ï¼Œå®ƒä»¬ä¸€å®šæ‹¥æœ‰ç›¸åŒçš„æ ¹èŠ‚ç‚¹</strong>;</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UF</span> &#123;</span><br><span class="line">    <span class="comment">// è¿é€šåˆ†é‡ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;</span><br><span class="line">    <span class="comment">// å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] parent;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// n ä¸ºå›¾ä¸­èŠ‚ç‚¹çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UF</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.count = n;</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å°†èŠ‚ç‚¹ p å’ŒèŠ‚ç‚¹ q è¿é€š</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rootP</span> <span class="operator">=</span> find(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rootQ</span> <span class="operator">=</span> find(q);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (rootP == rootQ)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        </span><br><span class="line">        parent[rootQ] = rootP;</span><br><span class="line">        <span class="comment">// ä¸¤ä¸ªè¿é€šåˆ†é‡åˆå¹¶æˆä¸€ä¸ªè¿é€šåˆ†é‡</span></span><br><span class="line">        count--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­èŠ‚ç‚¹ p å’ŒèŠ‚ç‚¹ q æ˜¯å¦è¿é€š</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">connected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rootP</span> <span class="operator">=</span> find(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rootQ</span> <span class="operator">=</span> find(q);</span><br><span class="line">        <span class="keyword">return</span> rootP == rootQ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (parent[x] != x) &#123;</span><br><span class="line">            parent[x] = find(parent[x]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> parent[x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å›¾ä¸­çš„è¿é€šåˆ†é‡ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">count</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ€»ç»“ä¸€ä¸‹æˆ‘ä»¬ä¼˜åŒ–ç®—æ³•çš„è¿‡ç¨‹ï¼š</p>
<p>1ã€ç”¨ <code>parent</code> æ•°ç»„è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œç›¸å½“äºæŒ‡å‘çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œæ‰€ä»¥ <code>parent</code> æ•°ç»„å†…å®é™…å­˜å‚¨ç€ä¸€ä¸ªæ£®æ—ï¼ˆè‹¥å¹²æ£µå¤šå‰æ ‘ï¼‰ã€‚</p>
<p>2ã€ç”¨ <code>size</code> æ•°ç»„è®°å½•ç€æ¯æ£µæ ‘çš„é‡é‡ï¼Œç›®çš„æ˜¯è®© <code>union</code> åæ ‘ä¾ç„¶æ‹¥æœ‰å¹³è¡¡æ€§ï¼Œä¿è¯å„ä¸ª API æ—¶é—´å¤æ‚åº¦ä¸º O(logN)ï¼Œè€Œä¸ä¼šé€€åŒ–æˆé“¾è¡¨å½±å“æ“ä½œæ•ˆç‡ã€‚</p>
<p>3ã€åœ¨ <code>find</code> å‡½æ•°ä¸­è¿›è¡Œè·¯å¾„å‹ç¼©ï¼Œä¿è¯ä»»æ„æ ‘çš„é«˜åº¦ä¿æŒåœ¨å¸¸æ•°ï¼Œä½¿å¾—å„ä¸ª API æ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚ä½¿ç”¨äº†è·¯å¾„å‹ç¼©ä¹‹åï¼Œå¯ä»¥ä¸ä½¿ç”¨ <code>size</code> æ•°ç»„çš„å¹³è¡¡ä¼˜åŒ–ã€‚</p>
</blockquote>
<blockquote>
<p>==æ³¨== äºŒç»´åæ ‡ <code>(x,y)</code> å¯ä»¥è½¬æ¢æˆ <code>x * n + y</code> è¿™ä¸ªæ•°ï¼ˆ<code>m</code> æ˜¯æ£‹ç›˜çš„è¡Œæ•°ï¼Œ<code>n</code> æ˜¯æ£‹ç›˜çš„åˆ—æ•°ï¼‰ï¼Œ<strong>æ•²é»‘æ¿ï¼Œè¿™æ˜¯å°†äºŒç»´åæ ‡æ˜ å°„åˆ°ä¸€ç»´çš„å¸¸ç”¨æŠ€å·§</strong>ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equationsPossible</span><span class="params">(String[] equations)</span> &#123;</span><br><span class="line">        <span class="type">Union_Find</span> <span class="variable">union_find</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Union_Find</span>(<span class="number">26</span>);</span><br><span class="line">        <span class="keyword">for</span>(String eq:equations) &#123;</span><br><span class="line">            <span class="comment">// å…ˆè®©ç›¸ç­‰çš„å­—æ¯å½¢æˆ è¿é€šåˆ†é‡</span></span><br><span class="line">            <span class="keyword">if</span> (eq.charAt(<span class="number">1</span>) == <span class="string">&#x27;=&#x27;</span>) &#123;</span><br><span class="line">                <span class="type">char</span> <span class="variable">x</span> <span class="operator">=</span> eq.charAt(<span class="number">0</span>);</span><br><span class="line">                <span class="type">char</span> <span class="variable">y</span> <span class="operator">=</span> eq.charAt(<span class="number">3</span>);</span><br><span class="line">                <span class="comment">//è½¬ä¸ºæ•°å­—</span></span><br><span class="line">                union_find.union(x - <span class="string">&#x27;a&#x27;</span>, y - <span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¦æ˜¯æœ‰ä¸ç­‰çš„å°±åˆ¤æ–­ä¸ç­‰çš„æ˜¯ä¸æ˜¯ ç›¸è¿é€šçš„ </span></span><br><span class="line">        <span class="keyword">for</span>(String eq:equations)&#123;</span><br><span class="line">            <span class="keyword">if</span>(eq.charAt(<span class="number">1</span>) == <span class="string">&#x27;!&#x27;</span>)&#123;</span><br><span class="line">                <span class="type">char</span> x= eq.charAt(<span class="number">0</span>);</span><br><span class="line">                <span class="type">char</span> <span class="variable">y</span> <span class="operator">=</span> eq.charAt(<span class="number">3</span>);</span><br><span class="line">                <span class="comment">//è½¬ä¸ºæ•°å­—   != è¿˜è¿é€šäº†é‚£è‚¯å®šå°±æ˜¯é”™äº†</span></span><br><span class="line">               <span class="keyword">if</span>(union_find.connection(x-<span class="string">&#x27;a&#x27;</span>,y-<span class="string">&#x27;a&#x27;</span>)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// å¹¶å°†ä¸Šè¿°çš„unionFind ä»£ç æ¡†æ¶è¿›è¡Œå¤å†™</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
</search>
