{"type":"getPostByPath","data":{"title":"动态规划","date":"2023-09-06T15:50:54.000Z","description":"算法章节之DP","categories":[{"name":"算法","_id":"clo9tj5vw0059l10p0dv00gx5"}],"tags":[{"name":"算法","_id":"clo9tj5w5007ql10pgayd9b2n"}],"content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n<h1 id=\"DP\"><a href=\"#DP\" class=\"headerlink\" title=\"DP\"></a>DP</h1><h3 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h3><h4 id=\"子问题：\"><a href=\"#子问题：\" class=\"headerlink\" title=\"子问题：\"></a>子问题：</h4><ul>\n<li>最优子结构：子问题之间相互独立</li>\n</ul>\n<h4 id=\"状态转移方程：\"><a href=\"#状态转移方程：\" class=\"headerlink\" title=\"状态转移方程：\"></a>状态转移方程：</h4><ul>\n<li>状态： 原问题 和 子问题之间  变化的变量</li>\n<li>选择：状态产生变化的行为，变量的选择范围</li>\n</ul>\n<h4 id=\"解法思路：核心思想—数学归纳法\"><a href=\"#解法思路：核心思想—数学归纳法\" class=\"headerlink\" title=\"解法思路：核心思想—数学归纳法\"></a>解法思路：核心思想—数学归纳法</h4><ul>\n<li>假设 <code>dp[0...i-1]</code> 都已经被算出来了，然后问自己：怎么通过这些结果算出 <code>dp[i]</code></li>\n<li>将 <code>dp</code> 数组的大小设置为 <code>n + 1</code> 而不是 <code>n</code></li>\n</ul>\n<h4 id=\"遍历顺序抓住两点：\"><a href=\"#遍历顺序抓住两点：\" class=\"headerlink\" title=\"遍历顺序抓住两点：\"></a>遍历顺序抓住两点：</h4><ul>\n<li>遍历的过程中，所需的状态必须是已经计算出来的</li>\n<li>遍历结束后，存储结果的那个位置必须已经被计算出来</li>\n</ul>\n<h4 id=\"五步走\"><a href=\"#五步走\" class=\"headerlink\" title=\"五步走\"></a>五步走</h4><ul>\n<li>确定dp函数的定义</li>\n<li>确定递推公式</li>\n<li>dp数组如何初始化</li>\n<li>确定遍历顺序</li>\n<li>打印dp数组</li>\n</ul>\n<h3 id=\"入门习题\"><a href=\"#入门习题\" class=\"headerlink\" title=\"入门习题\"></a>入门习题</h3><h4 id=\"爬楼梯\"><a href=\"#爬楼梯\" class=\"headerlink\" title=\"爬楼梯\"></a>爬楼梯</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">climbStairs</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> dp[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">2</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">        dp[i] = dp[i - <span class=\"number\">1</span>] + dp[i - <span class=\"number\">2</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[n];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"使用最小花费爬楼梯\"><a href=\"#使用最小花费爬楼梯\" class=\"headerlink\" title=\"使用最小花费爬楼梯\"></a>使用最小花费爬楼梯</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">minCostClimbingStairs</span><span class=\"params\">(<span class=\"type\">int</span>[] cost)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[cost.length + <span class=\"number\">1</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    dp[<span class=\"number\">1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">2</span>; i &lt; dp.length; i++) &#123;</span><br><span class=\"line\">        dp[i] = Math.min(dp[i - <span class=\"number\">1</span>] + cost[i - <span class=\"number\">1</span>], dp[i - <span class=\"number\">2</span>] + cost[i - <span class=\"number\">2</span>]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[cost.length];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"不同的-二叉搜索树\"><a href=\"#不同的-二叉搜索树\" class=\"headerlink\" title=\"不同的 二叉搜索树\"></a>不同的 二叉搜索树</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">numTrees</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    dp[<span class=\"number\">1</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">2</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= i; j++) &#123;</span><br><span class=\"line\">            dp[i] += dp[j - <span class=\"number\">1</span>] * dp[i - j];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[n];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"整数拆分\"><a href=\"#整数拆分\" class=\"headerlink\" title=\"整数拆分\"></a>整数拆分</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">integerBreak</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//得到的最大的乘积 就是dp[i]</span></span><br><span class=\"line\">    <span class=\"type\">int</span> dp[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    dp[<span class=\"number\">1</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    dp[<span class=\"number\">2</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">3</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt;= i / <span class=\"number\">2</span>; j++) &#123;</span><br><span class=\"line\">            dp[i] = max(j * (i - j), j * dp[i - j], dp[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[n];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"title function_\">max</span><span class=\"params\">(<span class=\"type\">int</span> a, <span class=\"type\">int</span> b, <span class=\"type\">int</span> c)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">max</span> <span class=\"operator\">=</span> a &gt; b ? a : b;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max &gt; c ? max : c;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"路径问题\"><a href=\"#路径问题\" class=\"headerlink\" title=\"路径问题\"></a>路径问题</h3><blockquote>\n<p>路径问题都是<code>return  dp[m - 1][n - 1];</code></p>\n</blockquote>\n<h4 id=\"不同路径\"><a href=\"#不同路径\" class=\"headerlink\" title=\"不同路径\"></a>不同路径</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">uniquePaths</span><span class=\"params\">(<span class=\"type\">int</span> m, <span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">     <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">         dp[i][<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">         dp[<span class=\"number\">0</span>][i] = <span class=\"number\">1</span>;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">         <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">             dp[i][j] = dp[i - <span class=\"number\">1</span>][j] + dp[i][j - <span class=\"number\">1</span>];</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> dp[m - <span class=\"number\">1</span>][n - <span class=\"number\">1</span>];</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"不同路径II\"><a href=\"#不同路径II\" class=\"headerlink\" title=\"不同路径II\"></a>不同路径II</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 不同路径II</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> obstacleGrid</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">uniquePathsWithObstacles</span><span class=\"params\">(<span class=\"type\">int</span>[][] obstacleGrid)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> obstacleGrid.length;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> obstacleGrid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">    <span class=\"comment\">//定义dp数组</span></span><br><span class=\"line\">    <span class=\"type\">int</span> dp[][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"comment\">//初始化</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m &amp;&amp; obstacleGrid[i][<span class=\"number\">0</span>] == <span class=\"number\">0</span>; i++) &#123;</span><br><span class=\"line\">        dp[i][<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n &amp;&amp; obstacleGrid[<span class=\"number\">0</span>][i] == <span class=\"number\">0</span>; i++) &#123;</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][i] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//遍历顺序</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// dp 表达式</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (obstacleGrid[i][j] == <span class=\"number\">1</span>) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            dp[i][j] = dp[i - <span class=\"number\">1</span>][j] + dp[i][j - <span class=\"number\">1</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[m - <span class=\"number\">1</span>][n - <span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"最小路径和\"><a href=\"#最小路径和\" class=\"headerlink\" title=\"最小路径和\"></a>最小路径和</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">minPathSum</span><span class=\"params\">(<span class=\"type\">int</span>[][] grid)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> grid.length;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> grid[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = grid[<span class=\"number\">0</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">        dp[i][<span class=\"number\">0</span>] = dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>] + grid[i][<span class=\"number\">0</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][i] = dp[<span class=\"number\">0</span>][i - <span class=\"number\">1</span>] + grid[<span class=\"number\">0</span>][i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">            dp[i][j] = Math.min(dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]) + grid[i][j];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[m - <span class=\"number\">1</span>][n - <span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"背包问题\"><a href=\"#背包问题\" class=\"headerlink\" title=\"背包问题\"></a>背包问题</h3><h4 id=\"01背包问题\"><a href=\"#01背包问题\" class=\"headerlink\" title=\"01背包问题\"></a>01背包问题</h4><h5 id=\"二维数组五步走\"><a href=\"#二维数组五步走\" class=\"headerlink\" title=\"二维数组五步走\"></a>二维数组五步走</h5><ol>\n<li><h6 id=\"二维数组-dp-的数组的-含义\"><a href=\"#二维数组-dp-的数组的-含义\" class=\"headerlink\" title=\"二维数组 dp 的数组的==含义==\"></a>二维数组 dp 的数组的==含义==</h6></li>\n</ol>\n<blockquote>\n<p><code>dp[i][j]</code> 表⽰从下标为[0-i]的物品⾥任意取，放进容量为j的背包，价值总和最⼤是多少</p>\n</blockquote>\n<ol>\n<li><h6 id=\"递推公式\"><a href=\"#递推公式\" class=\"headerlink\" title=\"递推公式\"></a>递推公式</h6></li>\n</ol>\n<blockquote>\n<p><code>dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]);</code></p>\n<p>​                            不放的时候                    放的时候</p>\n</blockquote>\n<ol>\n<li><h6 id=\"数组初始化\"><a href=\"#数组初始化\" class=\"headerlink\" title=\"数组初始化\"></a>数组初始化</h6></li>\n<li><h6 id=\"遍历顺序\"><a href=\"#遍历顺序\" class=\"headerlink\" title=\"遍历顺序\"></a>遍历顺序</h6></li>\n</ol>\n<ul>\n<li>先物品，后背包 或者 先背包，后物品</li>\n</ul>\n<p><code>dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]);</code>  都是从<code>dp[i][j]</code>的左上⾓⽅向开始的</p>\n<ol>\n<li><h6 id=\"自己推导-和-程序打印\"><a href=\"#自己推导-和-程序打印\" class=\"headerlink\" title=\"自己推导 和 程序打印\"></a>自己推导 和 程序打印</h6></li>\n</ol>\n<h5 id=\"一维数组\"><a href=\"#一维数组\" class=\"headerlink\" title=\"一维数组\"></a>一维数组</h5><ul>\n<li>递推公式</li>\n</ul>\n<blockquote>\n<p><code>dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);</code></p>\n</blockquote>\n<ul>\n<li><code>dp[j - weight[i]]</code>表⽰容量为<code>j-weight[i]</code>的背包所背的<code>最⼤价值</code></li>\n<li><code>dp[j - weight[i]] + value[i]</code> 表⽰ 容量为 <code>j - 物品i重量</code> 的背包 + <code>物品i的价值</code></li>\n</ul>\n<h4 id=\"01背包的模版总结\"><a href=\"#01背包的模版总结\" class=\"headerlink\" title=\"01背包的模版总结\"></a>01背包的模版总结</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp 含义：<span class=\"comment\">//dp[j]  表示   总容量为 j的  背包  最大值为  dp[j];</span></span><br><span class=\"line\"></span><br><span class=\"line\">  </span><br><span class=\"line\">递推公式</span><br><span class=\"line\"><span class=\"comment\">//dp[j] = Math.max(dp[j],dp[j-i的重量]+i的价值);</span></span><br><span class=\"line\"><span class=\"comment\">//或者</span></span><br><span class=\"line\"><span class=\"comment\">//dp[j] += dp[j-i的重量];</span></span><br><span class=\"line\">  </span><br><span class=\"line\">初始化</span><br><span class=\"line\"><span class=\"comment\">//dp[0] = 0; ----dp[j] = Math.max(dp[j],dp[j-nums[i]]+nums[i]); </span></span><br><span class=\"line\"><span class=\"comment\">//dp[0] = 1; ----dp[j] += dp[j-nums[i]];</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\">遍历顺序</span><br><span class=\"line\"><span class=\"comment\">//for(int i = 0 ;i &lt; nums.length;i++ )&#123; //物品  顺序</span></span><br><span class=\"line\"><span class=\"comment\">//     for(int j（j表示当前背包剩余重量）= 背包容量;j&gt;= i的重量;j-- )&#123;  // 背包     倒序  保证物品只遍历一次    </span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;</span></span><br><span class=\"line\"><span class=\"comment\">//&#125;</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"type\">int</span> dp[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"comment\">/** 根据题意来设 */</span>];</span><br><span class=\"line\">dp[<span class=\"number\">0</span>]=  <span class=\"number\">0</span>（max）  (或者是)  <span class=\"number\">1</span>（+=）;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;stones.length;i++)&#123;\t\t\t\t\t<span class=\"comment\">// 物品取值</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> target ;j&gt;=stones[i];j--)&#123;       <span class=\"comment\">//背包容量</span></span><br><span class=\"line\">      dp[背包容量] = Math.max(dp[背包容量],dp[当前背包容量-物品[i]重量] + 物品[i]价值);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//或者</span></span><br><span class=\"line\">\t\t\tdp[背包容量] += dp[背包容量-物品[i]重量];</span><br><span class=\"line\">     <span class=\"comment\">//dp[j] = Math.max (dp[j],dp[j-stones[i]]+stones[i]);</span></span><br><span class=\"line\">     <span class=\"comment\">//或者</span></span><br><span class=\"line\">     <span class=\"comment\">//dp[j] += dp[j-nums[i]];</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> dp[target]  /sum-<span class=\"number\">2</span>*dp[target]/......</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//剩下的就是根据 题目 进行 数据预处理 返回值变化等 的填充</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"例题\"><a href=\"#例题\" class=\"headerlink\" title=\"例题\"></a>例题</h4><blockquote>\n<p>这三题都是 一个数组 分成两个 数组<code>一分为二</code></p>\n</blockquote>\n<h5 id=\"分割等和子集\"><a href=\"#分割等和子集\" class=\"headerlink\" title=\"分割等和子集\"></a>分割等和子集</h5><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">canPartition</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">200</span> * <span class=\"number\">100</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        sum += nums[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">target</span> <span class=\"operator\">=</span> sum / <span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (sum % <span class=\"number\">2</span> != <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> target; j &gt;= nums[i]; j--) &#123;</span><br><span class=\"line\">            dp[j] = Math.max(dp[j - nums[i]] + nums[i], dp[j]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[target] == target;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"最后一块石头的重量-II\"><a href=\"#最后一块石头的重量-II\" class=\"headerlink\" title=\"最后一块石头的重量 II\"></a>最后一块石头的重量 II</h5><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">lastStoneWeightII</span><span class=\"params\">(<span class=\"type\">int</span>[] stones)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span>[] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">30</span> * <span class=\"number\">100</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; stones.length; i++) &#123;</span><br><span class=\"line\">        sum += stones[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">target</span> <span class=\"operator\">=</span> sum / <span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; stones.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> target; j &gt;= stones[i]; j--) &#123;</span><br><span class=\"line\">            dp[j] = Math.max(dp[j], dp[j - stones[i]] + stones[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum - dp[target] * <span class=\"number\">2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"目标和\"><a href=\"#目标和\" class=\"headerlink\" title=\"目标和\"></a>目标和</h5><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">findTargetSumWays</span><span class=\"params\">(<span class=\"type\">int</span>[] nums, <span class=\"type\">int</span> target)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//分为两个集合 l+r=sum  l-r =target ==&gt;l =(sum+target)/2;</span></span><br><span class=\"line\">        <span class=\"type\">int</span>[] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">1001</span>];</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">sum</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">            sum += nums[i];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">need</span> <span class=\"operator\">=</span> (sum + target) / <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">num</span> <span class=\"operator\">=</span> (sum + target) % <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (Math.abs(target) &gt; Math.abs(sum) || num != <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> need; j &gt;= nums[i]; j--) &#123;</span><br><span class=\"line\">                dp[j] += dp[j - nums[i]];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[need];</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"完全背包\"><a href=\"#完全背包\" class=\"headerlink\" title=\"完全背包\"></a>完全背包</h4><ul>\n<li><code>排列</code>：     先背包   后物品    1,2    2,1   <code>各算一种</code></li>\n<li><code>组合</code>：     先物品   后背包    1,2     2,1   <code>只算一种</code></li>\n<li>求最少个数   两种遍历方式  都可以</li>\n</ul>\n<h5 id=\"五步走-1\"><a href=\"#五步走-1\" class=\"headerlink\" title=\"五步走\"></a>五步走</h5><p>1、确定dp数组（dp table）以及下标的含义</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i]: 凑成⽬标正整数为i的排列个数为dp[i]</span><br><span class=\"line\">dp[j]: 凑⾜总额为j所需钱币的最少个数为dp[j]</span><br><span class=\"line\">dp[i]: 字符串长度为i的话，dp[i]为<span class=\"literal\">true</span>，表⽰可以拆分为⼀个或多个在字典中出现的单词。</span><br><span class=\"line\">    ...</span><br><span class=\"line\">一般就是题目问什么你设什么  类比数学归纳法</span><br></pre></td></tr></table></figure>\n<p>2、确定递推公式【其在前的原因： ⼀些情况是递推公式决定了dp数组要如何初始化】</p>\n<blockquote>\n<p>==注：这里和01背包问题是一样的==</p>\n</blockquote>\n<figure class=\"highlight tex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">绝大多数是：</span><br><span class=\"line\">dp[j] = Math.min (dp[j],dp[j-nums[i]]+nums[i]);  min</span><br><span class=\"line\">或者</span><br><span class=\"line\">dp[j] += dp[j-nums[i]];</span><br><span class=\"line\"></span><br><span class=\"line\">本质：</span><br><span class=\"line\">dp[背包容量] = Math.min(dp[背包容量],dp[背包容量-物品[]] + 价值[])（求min 的时候价值很可能为1的）;  min </span><br><span class=\"line\">dp[背包容量] += dp[背包容量-物品[]];</span><br></pre></td></tr></table></figure>\n<p>3、dp数组如何初始化</p>\n<blockquote>\n<p>==注：这里和01背包问题是不太一样的==</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//求   min   </span></span><br><span class=\"line\">先需要给其他值置初值：   Arrays.fill(dp,amount+<span class=\"number\">1</span>); </span><br><span class=\"line\">后  对dp[<span class=\"number\">0</span>]赋值   dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;\t----dp[j] = Math.min  (dp[j],dp[j-nums[i]]+nums[i]);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//求 个数和   </span></span><br><span class=\"line\">不需要给其他值置初值</span><br><span class=\"line\">dp[<span class=\"number\">0</span>] = <span class=\"number\">1</span>; ----dp[j] += dp[j-nums[i]];</span><br></pre></td></tr></table></figure>\n<p>4、确定遍历顺序</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">《组合》</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;coins.length;i++)&#123;    <span class=\"comment\">//物品</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=coins[i] ; j &lt;= amount;j++)&#123;      <span class=\"comment\">//背包    正序，物品可重复</span></span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">或者  《排列》</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= <span class=\"number\">0</span>;i&lt;dp.length;i++ )&#123;\t\t\t\t\t\t<span class=\"comment\">//背包</span></span><br><span class=\"line\">     <span class=\"keyword\">for</span>(<span class=\"type\">int</span>  j=<span class=\"number\">0</span>;j &lt; nums.length;j++)&#123;             <span class=\"comment\">//物品</span></span><br><span class=\"line\">             <span class=\"keyword\">if</span>(i&gt;=nums[j])&#123; <span class=\"comment\">//等于 不能丢          //此时要多一个条件  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  原因在于：j-nums[i]&gt;0</span></span><br><span class=\"line\">             </span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>5、举例推导dp数组</p>\n<h5 id=\"模版总结\"><a href=\"#模版总结\" class=\"headerlink\" title=\"模版总结\"></a>模版总结</h5><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> dp[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"comment\">/** 根据题意来设 */</span>];</span><br><span class=\"line\"> dp[<span class=\"number\">0</span>]=  <span class=\"number\">0</span>  (或者是)  <span class=\"number\">1</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;coins.length;i++)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=coins[i] ; j &lt;= amount;j++)&#123;</span><br><span class=\"line\">          dp[j] += dp[j-coins[i]];</span><br><span class=\"line\">          <span class=\"comment\">// 或者</span></span><br><span class=\"line\">       dp[j] = Math.min(dp[j],dp[j-coins[i]]+<span class=\"number\">1</span>);<span class=\"comment\">// 求最小值哪种遍历顺序都可以</span></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">或者</span><br><span class=\"line\">    \t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= <span class=\"number\">0</span>;i&lt;dp.length;i++ )&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span> ;j &lt; nums.length;j++)&#123;  </span><br><span class=\"line\"> <span class=\"comment\">//（也可能  for(int j = 1 ;j &lt;= 2;j++)&#123;//步数要从 1 开始）--当物品时值不是数组的时候</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i&gt;=nums[j])&#123;  <span class=\"comment\">//等于 不能丢</span></span><br><span class=\"line\">                    dp[i] += dp[i-nums[j]];</span><br><span class=\"line\">                    <span class=\"comment\">// 或者</span></span><br><span class=\"line\">         \t dp[j] = Math.min(dp[j],dp[j-coins[i]]+<span class=\"number\">1</span>);<span class=\"comment\">// 求最小值哪种遍历顺序都可以</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> dp[amount]   / <span class=\"keyword\">return</span>  dp[amount]== amount+<span class=\"number\">1</span> ? -<span class=\"number\">1</span>  :dp[amount]; ...</span><br><span class=\"line\">\t剩下的就是根据 题目 进行 数据预处理 返回值变化等 的填充</span><br><span class=\"line\">   </span><br></pre></td></tr></table></figure>\n<h4 id=\"例题-1\"><a href=\"#例题-1\" class=\"headerlink\" title=\"例题\"></a>例题</h4><h5 id=\"零钱兑换-II\"><a href=\"#零钱兑换-II\" class=\"headerlink\" title=\"零钱兑换 II\"></a>零钱兑换 II</h5><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">change</span><span class=\"params\">(<span class=\"type\">int</span> amount, <span class=\"type\">int</span>[] coins)</span> &#123;</span><br><span class=\"line\">       <span class=\"type\">int</span> dp[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[amount + <span class=\"number\">1</span>];</span><br><span class=\"line\">       dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">       Arrays.fill(dp, amount + <span class=\"number\">1</span>);</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; coins.length; i++) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> coins[i]; j &lt;= amount; j++) &#123;</span><br><span class=\"line\">               dp[i] += dp[j - coins[i]];</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> dp[amount];</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"零钱兑换\"><a href=\"#零钱兑换\" class=\"headerlink\" title=\"零钱兑换\"></a>零钱兑换</h5><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">coinChange</span><span class=\"params\">(<span class=\"type\">int</span>[] coins, <span class=\"type\">int</span> amount)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> dp[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[amount + <span class=\"number\">1</span>];</span><br><span class=\"line\">        Arrays.fill(dp, amount + <span class=\"number\">1</span>);</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"comment\">//        for (int i = 0; i &lt; coins.length; i++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//            for (int j = coins[i]; j &lt;= amount ; j++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//                dp[j] = Math.min(dp[j],dp[j-coins[i]]+1);</span></span><br><span class=\"line\"><span class=\"comment\">//            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">//        &#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; dp.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; coins.length; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (i &gt;= coins[j]) &#123;</span><br><span class=\"line\">                    dp[i] = Math.min(dp[i], dp[i - coins[j]] + <span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[amount] == amount + <span class=\"number\">1</span> ? -<span class=\"number\">1</span> : dp[amount];</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"单词拆分\"><a href=\"#单词拆分\" class=\"headerlink\" title=\"单词拆分\"></a>单词拆分</h5><blockquote>\n<p>wordDict 中的单词 排列 （S有序的）成S即可</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">wordBreak</span><span class=\"params\">(String s, List&lt;String&gt; wordDict)</span> &#123;</span><br><span class=\"line\">     <span class=\"comment\">//dp[i] : 字符串长度为i的话，dp[i]为true，表⽰可以拆分为⼀个或多个在字典中出现的单词。</span></span><br><span class=\"line\">     <span class=\"comment\">//s 是有 顺序的 所以就只能 先背包再物品  --- 排列</span></span><br><span class=\"line\">     <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">     <span class=\"type\">boolean</span> dp[] = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[n + <span class=\"number\">1</span>];</span><br><span class=\"line\">     dp[<span class=\"number\">0</span>] = <span class=\"literal\">true</span>;<span class=\"comment\">//其实无意义</span></span><br><span class=\"line\">     <span class=\"comment\">// i = 1 原因是字符串 是 非空的</span></span><br><span class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= n; i++) &#123;   <span class=\"comment\">//背包</span></span><br><span class=\"line\">         <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; i; j++) &#123;  <span class=\"comment\">//其是在字符串里面截取的，所以要小于i</span></span><br><span class=\"line\">             <span class=\"comment\">//只要确定dp[j]是true,dp[j]前面j段距离是true</span></span><br><span class=\"line\">             <span class=\"comment\">//并且[j, i]这个区间的子串出现在字典里，那么dp[i]一定是true</span></span><br><span class=\"line\">             <span class=\"comment\">//每次构造字符串是到不了i的，因此dp[j]看成是到j-1的字符,所以写成s.substring(j,i)&lt;表示截取字符串j-i段&gt;,而不是s.substring(j+1,i)</span></span><br><span class=\"line\">             <span class=\"comment\">// 0              j      i</span></span><br><span class=\"line\">             <span class=\"comment\">// ----------------------------</span></span><br><span class=\"line\">             <span class=\"keyword\">if</span> (wordDict.contains(s.substring(j, i)) &amp;&amp; dp[j]) &#123;</span><br><span class=\"line\">                 dp[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> dp[n];</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"子序列问题\"><a href=\"#子序列问题\" class=\"headerlink\" title=\"子序列问题\"></a>子序列问题</h3><h4 id=\"dp含义\"><a href=\"#dp含义\" class=\"headerlink\" title=\"dp含义\"></a><code>dp</code>含义</h4><blockquote>\n<p>dp[i] 是以 nums[i] 为结尾的最大子数组和  /  最长递增子序列</p>\n</blockquote>\n<h4 id=\"一维DP\"><a href=\"#一维DP\" class=\"headerlink\" title=\"一维DP\"></a>一维DP</h4><h5 id=\"子序列（1-Arrays）\"><a href=\"#子序列（1-Arrays）\" class=\"headerlink\" title=\"子序列（1*Arrays）\"></a>子序列（1*Arrays）</h5><ul>\n<li>dp含义</li>\n</ul>\n<blockquote>\n<p>一个字符串：dp[i] 是一个以  Arrays[i] 为结尾的最长递增子序列的长度（符合归纳法）</p>\n<ul>\n<li><strong>dp[i]</strong>：表⽰以下标<strong>i</strong>为结尾的数组的  最长上升子序列长度为dp[i]  （问的是长度）</li>\n<li><strong>dp[i]</strong>：表⽰以下标<strong>i</strong>为结尾的数组的  连续递增的⼦序列长度为<strong>dp[i]</strong> （问的是长度）</li>\n<li><strong>dp[i]</strong>：表⽰以下标<strong>i</strong>为结尾的数组的   最⼤连续⼦序列和为<strong>dp[i]</strong>（问的是和）</li>\n</ul>\n<p>==问什么设什么== 但是 大多数情况之下要判断比较取dp[] 中的最大值</p>\n</blockquote>\n<ul>\n<li>状态转移方程</li>\n</ul>\n<blockquote>\n<p>连续子序列：和前一个元素的状态相关</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i] = max(dp[i - <span class=\"number\">1</span>] + nums[i], nums[i]);   <span class=\"comment\">//与前一个元素  i-1 相关  最大子数组和</span></span><br><span class=\"line\"><span class=\"comment\">//或者</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(nums[i-<span class=\"number\">1</span>] &lt; nums[i])&#123;    <span class=\"comment\">//与前一个元素  i-1 相关    最长递增子数组</span></span><br><span class=\"line\">  dp[i]= dp[i-<span class=\"number\">1</span>]+<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;  </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>不连续的子序列：和前面<code>0~i-1</code> 的状态相关</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (nums[i] &gt; nums[j]) &#123;</span><br><span class=\"line\">\tdp[i] = max(dp[i], dp[j] + <span class=\"number\">1</span>);   <span class=\"comment\">// 最长递增子序列</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<ul>\n<li>初始值</li>\n</ul>\n<blockquote>\n<p><code>Arrays.fill(dp,1);</code>     //递增序列</p>\n<p><code>dp[0]= nums[0]</code>  //子数组和</p>\n</blockquote>\n<ul>\n<li>遍历顺序</li>\n</ul>\n<blockquote>\n<p>连续</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 和前一个元素有关，所以要考虑i的起始坐标</span></span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n<p>不连续</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">   <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; i; j++) &#123;<span class=\"comment\">//因为和前 i-1 个元素的状态相关,</span></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<ul>\n<li>打印dp数组</li>\n</ul>\n<h6 id=\"最大子数组和-连续\"><a href=\"#最大子数组和-连续\" class=\"headerlink\" title=\"最大子数组和(连续)\"></a>最大子数组和(连续)</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxSubArray</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> dp[] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums.length + <span class=\"number\">1</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> Integer.MIN_VALUE;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        dp[i] = Math.max(dp[i - <span class=\"number\">1</span>] + nums[i], nums[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//求最大值，所以就不一定是最后一个值是最大的</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        res = Math.max(res, dp[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"最长递增子序列-不连续\"><a href=\"#最长递增子序列-不连续\" class=\"headerlink\" title=\"最长递增子序列(不连续)\"></a>最长递增子序列(不连续)</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">lengthOfLIS</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums.length + <span class=\"number\">1</span>];</span><br><span class=\"line\">    Arrays.fill(dp, <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//0~i  依次比较</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; i; j++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//和前面的所有 元素  进行比较</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[i] &gt; nums[j]) &#123;</span><br><span class=\"line\">                dp[i] = Math.max(dp[i], dp[j] + <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        res = Math.max(dp[i], res);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"最长递增子序列-连续\"><a href=\"#最长递增子序列-连续\" class=\"headerlink\" title=\"最长递增子序列(连续)\"></a>最长递增子序列(连续)</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">findLengthOfLCIS</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[nums.length + <span class=\"number\">1</span>];</span><br><span class=\"line\">    Arrays.fill(dp, <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//只和前一位比较</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nums[i] &gt; nums[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">            dp[i] = Math.max(dp[i], dp[i - <span class=\"number\">1</span>] + <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        res = Math.max(dp[i], res);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"二维DP\"><a href=\"#二维DP\" class=\"headerlink\" title=\"二维DP\"></a>二维DP</h4><h5 id=\"公共子序列-2-String-Array\"><a href=\"#公共子序列-2-String-Array\" class=\"headerlink\" title=\"公共子序列(2* String/Array)\"></a>公共子序列(2* String/Array)</h5><blockquote>\n<p>两个字符串：</p>\n<ul>\n<li>数组arr1 []  数组arr2[] 中需求的子序列(最值 子序列 )  的长度dp[i][j]  —  涉及两个子序列</li>\n<li>数组arr1 [] 需求的子序列(最值 子序列 ) 的长度dp[i][j]                           — 涉及一个子序列</li>\n</ul>\n</blockquote>\n<ul>\n<li>dp含义</li>\n</ul>\n<blockquote>\n<p>公共子序列问题中的<code>dp[i][j]</code>定义都是：<code>以长度为[0, i - 1]的 字符串A/ 数组A ，和长度为[0, j - 1]的 字符串B/数组B 的公共子序列长度为dp[i][j]</code></p>\n</blockquote>\n<ul>\n<li>状态转移方程</li>\n</ul>\n<blockquote>\n<p>==数组和字符串在不连续的时候是一样的==</p>\n<p>连续</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//只讨论当数组值相等的时候</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(nums1[i-<span class=\"number\">1</span>] == nums2[j-<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">  dp[i][j] = dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>]+<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>不连续</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//数组值相等和不等的时候都要讨论</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(text1.charAt(i-<span class=\"number\">1</span>) == text2.charAt(j-<span class=\"number\">1</span>))/ <span class=\"keyword\">if</span>(nums1[i-<span class=\"number\">1</span>] == nums2[j-<span class=\"number\">1</span>])</span><br><span class=\"line\">dp[i][j] =  dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>] +<span class=\"number\">1</span>;  <span class=\"comment\">//数组值相等</span></span><br><span class=\"line\"><span class=\"keyword\">else</span> </span><br><span class=\"line\">dp[i][j] = Math.max(dp[i-<span class=\"number\">1</span>][j],dp[i][j-<span class=\"number\">1</span>]);<span class=\"comment\">////数组值不相等</span></span><br></pre></td></tr></table></figure>\n</blockquote>\n<ul>\n<li>初始值</li>\n</ul>\n<blockquote>\n<p>dp表都是空的，维度是<code>i+1，j+1</code>，</p>\n<p><code>第一列 和 第一行 都是全 0的</code>，然后行列都是从 1  开始 判断 填写</p>\n</blockquote>\n<ul>\n<li>遍历顺序</li>\n</ul>\n<blockquote>\n<p>无论是数组还是字符串都是==一样的==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= <span class=\"number\">1</span>; i&lt;=nums1.length;i++) &#123;</span><br><span class=\"line\">   <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span> ;j&lt;= nums2.length;j++)&#123;</span><br><span class=\"line\">          ...</span><br><span class=\"line\">        System.out.print(dp[i][j]);  <span class=\"comment\">//打印dp数组</span></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<ul>\n<li>打印dp数组</li>\n</ul>\n<h6 id=\"最长公共子序列-不连续\"><a href=\"#最长公共子序列-不连续\" class=\"headerlink\" title=\"最长公共子序列(不连续)\"></a>最长公共子序列(不连续)</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">longestCommonSubsequence</span><span class=\"params\">(String text1, String text2)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> text1.length();</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> text2.length();</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">        dp[i][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (text1.charAt(i - <span class=\"number\">1</span>) == text2.charAt(j - <span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">                dp[i][j] = dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                dp[i][j] = Math.max(dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[m][n];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"判断子序列\"><a href=\"#判断子序列\" class=\"headerlink\" title=\"判断子序列\"></a>判断子序列</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">boolean</span> <span class=\"title function_\">isSubsequence</span><span class=\"params\">(String s, String t)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> t.length();</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"comment\">//默认就是初始化为0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (s.charAt(i - <span class=\"number\">1</span>) == t.charAt(j - <span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">                dp[i][j] = dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                dp[i][j] = Math.max(dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s.length() == dp[s.length()][t.length()] ? <span class=\"literal\">true</span> : <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"最长重复子数组-连续\"><a href=\"#最长重复子数组-连续\" class=\"headerlink\" title=\"最长重复子数组(连续)\"></a>最长重复子数组(连续)</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">findLength</span><span class=\"params\">(<span class=\"type\">int</span>[] nums1, <span class=\"type\">int</span>[] nums2)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> nums1.length;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> nums2.length;</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums1[i - <span class=\"number\">1</span>] == nums2[j - <span class=\"number\">1</span>])</span><br><span class=\"line\">                dp[i][j] = dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">1</span>;</span><br><span class=\"line\">            res = Math.max(dp[i][j], res);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"不相交的线-最长重复子数组-不连续-最长公共子序列\"><a href=\"#不相交的线-最长重复子数组-不连续-最长公共子序列\" class=\"headerlink\" title=\"不相交的线[最长重复子数组(不连续)/最长公共子序列]\"></a>不相交的线[最长重复子数组(不连续)/最长公共子序列]</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxUncrossedLines</span><span class=\"params\">(<span class=\"type\">int</span>[] nums1, <span class=\"type\">int</span>[] nums2)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> nums1.length;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> nums2.length;</span><br><span class=\"line\">    <span class=\"type\">int</span> [][]dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m+<span class=\"number\">1</span>][n+<span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums1[i-<span class=\"number\">1</span>] == nums2[j-<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">                dp[i][j] = dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>]+<span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                dp[i][j] = Math.max(dp[i - <span class=\"number\">1</span>][j],dp[i][j - <span class=\"number\">1</span>]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[m][n];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"子序列操作-2-String\"><a href=\"#子序列操作-2-String\" class=\"headerlink\" title=\"子序列操作(2*String)\"></a>子序列操作(2*String)</h5><ul>\n<li>dp含义</li>\n</ul>\n<blockquote>\n<p><code>dp[i][j] 表⽰以下标i-1为结尾的字符串s，和以下标j-1为结尾的字符串t，相同⼦序列的长度 为dp[i][j]</code></p>\n<p><code>dp[i][j]表⽰以下标i-1为结尾的字符串word1，和以下标j-1为结尾的字符串word2，最近编辑距离为dp[i][j]</code></p>\n</blockquote>\n<ul>\n<li>状态转移方程</li>\n</ul>\n<blockquote>\n<p>==相等== <code>if(s.charAt(i-1) == t.charAt(j-1))&#123;...&#125;</code></p>\n<p><strong>只允许操作（删除、 增加）一个字符串时 </strong>   ==求个数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>] +<span class=\"number\">1</span>;  ---判断是否是子序列    求子序列个数</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;dp[i][j] = dp[i-<span class=\"number\">1</span>][j]+dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>]; --- s 的子序列中 t 出现的个数</span><br></pre></td></tr></table></figure>\n<p><strong>操作（删除、 增加）两个字符串时  </strong>    ==求操作次数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>];  -- 最小操作个数不要加 <span class=\"number\">1</span> </span><br></pre></td></tr></table></figure>\n<p><strong>操作两个字符串（增、删、替换）</strong>==求操作次数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>];  -- 最小操作个数不要加 <span class=\"number\">1</span> </span><br></pre></td></tr></table></figure>\n<p>==不相等== <code>else</code></p>\n<p><strong>只允许操作（删除、添加）一个字符串时</strong>      ==求个数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = Math.max(dp[i][j-<span class=\"number\">1</span>],dp[i-<span class=\"number\">1</span>][j]);      --- 判断是否是子序列   求子序列个数</span><br><span class=\"line\"></span><br><span class=\"line\">&gt;dp[i][j]=dp[i-<span class=\"number\">1</span>][j];       --- s 的子序列中 t 出现的个数</span><br></pre></td></tr></table></figure>\n<p><strong>操作（删除、 增加）两个字符串时</strong>       ==求操作次数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = min(dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">2</span>, min(dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]) + <span class=\"number\">1</span>)</span><br><span class=\"line\">&gt;&lt;=&gt;  dp[i][j] = Math.min(dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>])+ <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p><strong>操作两个字符串（增、删、替换）</strong>         ==求操作次数==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = min(dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">1</span>, min(dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]) + <span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">//区别： 1、这里替换 是 +1 两个都不一样的时候，替换操作 +1;但是 删除 +2； 所以选择替换才是最少的操作次数</span></span><br><span class=\"line\">&gt;&lt;=&gt;  dp[i][j] = Math.min(dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>],dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]) + <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"comment\">//2、这里不能简化   而且因为 java 原因还要 写 一个 min（） 方法；</span></span><br></pre></td></tr></table></figure>\n</blockquote>\n<ul>\n<li>初始化</li>\n</ul>\n<blockquote>\n<p>要是问 操作距离</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;i&lt;=s1.length/s1.length();i++)&#123;</span><br><span class=\"line\">\tdp[i][<span class=\"number\">0</span>] = i;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;j&lt;= s2.length/s2.length();j++)&#123;</span><br><span class=\"line\">\tdp[<span class=\"number\">0</span>][j] = j;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">或者</span><br><span class=\"line\">dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br></pre></td></tr></table></figure>\n<p>要是问 有包含多少子序列</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;=s1.length();i++)&#123;    <span class=\"comment\">//子序列所在的列/行  一行全为 1</span></span><br><span class=\"line\">dp[i][<span class=\"number\">0</span>]=<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;    <span class=\"comment\">//因为空集是所有字符串子集, 所以我们第一行都是 1</span></span><br></pre></td></tr></table></figure>\n<p>否则一般还是设为 全0</p>\n</blockquote>\n<ul>\n<li>遍历顺序</li>\n</ul>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=s1.length /s1.length() ;i++)&#123;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=s2.length / s2.length();j++)&#123;</span><br><span class=\"line\">  &#125;          </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<ul>\n<li>打印数组</li>\n</ul>\n<blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i&lt;=s1.length /s1.length(); i++) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i&lt;=s2.length /s2.length(); j++) &#123;</span><br><span class=\"line\">      System.out.print(dp[i][j]);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   System.out.println();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h6 id=\"两个字符串的删除操作\"><a href=\"#两个字符串的删除操作\" class=\"headerlink\" title=\"两个字符串的删除操作\"></a>两个字符串的删除操作</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 思路一：和上面的类似，简介求两个的 最长公共子序，然后作差就可以了</span></span><br><span class=\"line\"><span class=\"comment\">     * 思路二：直接求</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">minDistance_1</span><span class=\"params\">(String word1, String word2)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> word1.length();</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> word2.length();</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"comment\">//默认就是初始化为0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (word1.charAt(i - <span class=\"number\">1</span>) == word2.charAt(j - <span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">                dp[i][j] = dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                dp[i][j] = Math.max(dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> m + n - <span class=\"number\">2</span> * dp[m][n];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">minDistance</span><span class=\"params\">(String word1, String word2)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> word1.length();</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> word2.length();</span><br><span class=\"line\">        <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">            dp[i][<span class=\"number\">0</span>] = i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][i] = i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//默认就是初始化为0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (word1.charAt(i - <span class=\"number\">1</span>) == word2.charAt(j - <span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">                    dp[i][j] = dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>];</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    dp[i][j] = Math.min(dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]) + <span class=\"number\">1</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[m][n];</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"编辑距离\"><a href=\"#编辑距离\" class=\"headerlink\" title=\"编辑距离\"></a>编辑距离</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">minDistance2</span><span class=\"params\">(String word1, String word2)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> word1.length();</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> word2.length();</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">        dp[i][<span class=\"number\">0</span>] = i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][i] = i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//默认就是初始化为0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (word1.charAt(i - <span class=\"number\">1</span>) == word2.charAt(j - <span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">                dp[i][j] = dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>];</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                dp[i][j] = min(dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>], dp[i - <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]) + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[m][n];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"title function_\">min</span><span class=\"params\">(<span class=\"type\">int</span> a, <span class=\"type\">int</span> b, <span class=\"type\">int</span> c)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (a &lt; b ? a : b) &lt; c ? (a &lt; b ? a : b) : c;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"不同的子序列\"><a href=\"#不同的子序列\" class=\"headerlink\" title=\"==不同的子序列==\"></a>==不同的子序列==</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">numDistinct</span><span class=\"params\">(String s, String t)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">m</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> t.length();</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[m + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">        dp[i][<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (s.charAt(i - <span class=\"number\">1</span>) == t.charAt(j - <span class=\"number\">1</span>))</span><br><span class=\"line\">                dp[i][j] = dp[i - <span class=\"number\">1</span>][j] + dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>];</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">                dp[i][j] = dp[i - <span class=\"number\">1</span>][j];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[m][n];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"回文串-1-String\"><a href=\"#回文串-1-String\" class=\"headerlink\" title=\"回文串(1 * String)\"></a>回文串(1 * String)</h5><ul>\n<li>dp[][]数组的定义</li>\n</ul>\n<blockquote>\n<p><code>dp[i][j]：字符串s在[i, j]范围内最长的回⽂⼦序列的长度为dp[i][j]</code></p>\n<p>此时的区间是<code>i，j</code> 不再是两个字符串时候的<code>i-1  j-1</code>了</p>\n</blockquote>\n<ul>\n<li>选择:状态转移方程</li>\n</ul>\n<blockquote>\n<p>==相等==<code>if(s.charAt(i) == s.charAt(j))</code>        ==此处是 i 和 j 了 ，不再是  i-1，j-1  了==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] = dp[i+<span class=\"number\">1</span>][j-<span class=\"number\">1</span>]+<span class=\"number\">2</span>;</span><br></pre></td></tr></table></figure>\n<p>==不相等==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;dp[i][j] =Math.max(dp[i+<span class=\"number\">1</span>][j],dp[i][j-<span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n</blockquote>\n<ul>\n<li>初始化</li>\n</ul>\n<blockquote>\n<p>看题目，不过一般来说回文串的<code>对角线都是  1</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">j</span> <span class=\"operator\">=</span><span class=\"number\">0</span> ;j&lt;n;j++)&#123;</span><br><span class=\"line\"> \tdp[j][j] =<span class=\"number\">1</span>;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<ul>\n<li>遍历顺序</li>\n</ul>\n<blockquote>\n<p>一般为： 自下向上    自左向右</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=s.length()-<span class=\"number\">2</span>;i&gt;= <span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\"> <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j= i+<span class=\"number\">1</span> ;j&lt;n;j++)&#123;</span><br><span class=\"line\">    ......        </span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&gt;&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<ul>\n<li>打印dp数组</li>\n</ul>\n<h6 id=\"最长回文子序列\"><a href=\"#最长回文子序列\" class=\"headerlink\" title=\"最长回文子序列\"></a>最长回文子序列</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">longestPalindromeSubseq</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">        dp[i][i] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> n - <span class=\"number\">2</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> i + <span class=\"number\">1</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (s.charAt(i) == s.charAt(j)) &#123;</span><br><span class=\"line\">                dp[i][j] = dp[i + <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">2</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                dp[i][j] = Math.max(dp[i + <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">0</span>][n - <span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"让字符串成为回文串的最少插入次数\"><a href=\"#让字符串成为回文串的最少插入次数\" class=\"headerlink\" title=\"让字符串成为回文串的最少插入次数:\"></a>让字符串成为回文串的最少插入次数:</h6><blockquote>\n<p>总长度-最长回文串的长度</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">minInsertions</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">       <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">       <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">           dp[i][i] = <span class=\"number\">1</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> n - <span class=\"number\">2</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> i + <span class=\"number\">1</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">if</span> (s.charAt(i) == s.charAt(j)) &#123;</span><br><span class=\"line\">                   dp[i][j] = dp[i + <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">2</span>;</span><br><span class=\"line\">               &#125; <span class=\"keyword\">else</span></span><br><span class=\"line\">                   dp[i][j] = Math.max(dp[i + <span class=\"number\">1</span>][j], dp[i][j - <span class=\"number\">1</span>]);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> n - dp[<span class=\"number\">0</span>][n - <span class=\"number\">1</span>];</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h6 id=\"回文子串\"><a href=\"#回文子串\" class=\"headerlink\" title=\"==回文子串==\"></a>==回文子串==</h6><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">countSubstrings</span><span class=\"params\">(String s)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> s.length();</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">res</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">boolean</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">boolean</span>[n + <span class=\"number\">1</span>][n + <span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">            dp[i][i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> n - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> i; j &lt; n; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (s.charAt(i) == s.charAt(j) &amp;&amp; ((j - i) &lt; <span class=\"number\">2</span> || dp[i + <span class=\"number\">1</span>][j - <span class=\"number\">1</span>])) &#123;</span><br><span class=\"line\">                    res++;</span><br><span class=\"line\">                    dp[i][j] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"打劫问题\"><a href=\"#打劫问题\" class=\"headerlink\" title=\"打劫问题\"></a>打劫问题</h3><h4 id=\"数组型\"><a href=\"#数组型\" class=\"headerlink\" title=\"数组型\"></a>数组型</h4><ul>\n<li><p>dp数组定义：<code>考虑下标i(包括i)以内的房屋，最多可以偷窃的⾦额为dp[i]</code></p>\n</li>\n<li><p>选择：状态转移方程      <code>偷 VS.不偷</code></p>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i] = max(dp[i - <span class=\"number\">2</span>] + nums[i], dp[i - <span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>初始值</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[<span class=\"number\">0</span>] = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\"><span class=\"keyword\">if</span>(nums.length &gt;<span class=\"number\">1</span>)    dp[<span class=\"number\">1</span>]=Math.max(nums[<span class=\"number\">0</span>],nums[<span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>遍历顺序</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span>  <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">2</span> ;i &lt; nums.length ;i++)&#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>打印dp数组</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">rob1</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">    <span class=\"type\">int</span>[] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n + <span class=\"number\">1</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (n &gt; <span class=\"number\">1</span>) dp[<span class=\"number\">1</span>] = Math.max(nums[<span class=\"number\">0</span>], nums[<span class=\"number\">1</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">2</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">        dp[i] = Math.max(dp[i - <span class=\"number\">1</span>], dp[i - <span class=\"number\">2</span>] + nums[i]); <span class=\"comment\">//dp[i-1]表示 i-1 偷了，那么dp[i] 就不能偷了，就不加了nums[i] 了</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[n - <span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"环形\"><a href=\"#环形\" class=\"headerlink\" title=\"环形\"></a>环形</h4><p>==将  环  拆开==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> [] rob1 = Arrays.copyOfRange(nums, <span class=\"number\">0</span>, nums.length - <span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"type\">int</span> [] rob2 = Arrays.copyOfRange(nums, <span class=\"number\">1</span>, nums.length);</span><br><span class=\"line\"><span class=\"comment\">// 将0 ~ nums.length-1 的 你们是数组的值赋值给 rob     -- 将环拆开的方法</span></span><br></pre></td></tr></table></figure>\n<p>还有就是在主函数中调用I中函数之前要 排除特例</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(nums.length == <span class=\"number\">1</span>)  <span class=\"keyword\">return</span> nums[<span class=\"number\">0</span>];</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">rob2</span><span class=\"params\">(<span class=\"type\">int</span>[] nums)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> nums.length;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (n == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"type\">int</span>[] rob0 = Arrays.copyOfRange(nums, <span class=\"number\">0</span>, n - <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span>[] rob1 = Arrays.copyOfRange(nums, <span class=\"number\">1</span>, n);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> Math.max(rob1(rob0), rob1(rob1));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"树形\"><a href=\"#树形\" class=\"headerlink\" title=\"树形\"></a>树形</h4><blockquote>\n<p> 对于树的话，⾸先就要想到遍历⽅式，前中后序（深度优先搜索）还是层序遍历（⼴度优先搜索）</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 打家劫舍III  树型</span></span><br><span class=\"line\"><span class=\"comment\"> * 约定俗成的是 1 是不偷  0 是偷</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> root</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">rob3</span><span class=\"params\">(TreeNode root)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> dp[] = rootdp(root);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> Math.max(dp[<span class=\"number\">0</span>], dp[<span class=\"number\">1</span>]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"type\">int</span>[] rootdp(TreeNode root) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (root == <span class=\"literal\">null</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">    <span class=\"type\">int</span> left[] = rootdp(root.left);</span><br><span class=\"line\">    <span class=\"type\">int</span> right[] = rootdp(root.right);</span><br><span class=\"line\">    <span class=\"comment\">//子树不偷</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">val1</span> <span class=\"operator\">=</span> root.val + left[<span class=\"number\">1</span>] + right[<span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"comment\">//子树偷</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">val2</span> <span class=\"operator\">=</span> Math.max(left[<span class=\"number\">0</span>], left[<span class=\"number\">1</span>]) + Math.max(right[<span class=\"number\">0</span>], right[<span class=\"number\">1</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[]&#123;val1, val2&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"股票问题\"><a href=\"#股票问题\" class=\"headerlink\" title=\"股票问题\"></a>股票问题</h3><ul>\n<li>选择： 买入、卖出、无操作</li>\n<li><p>状态：第一个是<code>天数</code>(i/n)，第二个是<code>允许交易的最大次数</code>(k)，第三个是<code>当前的持有状态</code>（用 1 表示持有，0 表示没有持有）</p>\n</li>\n<li><p>dp含义</p>\n</li>\n</ul>\n<ul>\n<li>状态转移方程</li>\n</ul>\n<blockquote>\n<p> i 为天数， k 为交易数的上限，0 和 1 代表是否持有股票。</p>\n<p><code>dp[i][k][0] = max(dp[i-1][k][0]      ,     dp[i-1][k][1] + prices[i])</code></p>\n<p>​        一直保持<code>没有</code>持有股票的状态，买的次数还是k       今天刚刚<code>卖掉</code>，但是<code>前一天</code>还是<code>持有</code>股票的状态,但是买的次数还是k</p>\n<p><code>dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])</code></p>\n<p>​        一直保持持<code>有</code>股票的状态，买的次数还是k          今天刚刚<code>买</code>了，但是<code>之前一直没有</code>持有股票的状态,买的次数是k-1</p>\n<p>==状态 <code>k</code> 的定义并不是「已进行的交易次数」，而是「最大购买交易的上限」==</p>\n<p>==I: 选择 <strong>某一天</strong> 买入这只股票，并选择在 <strong>未来的某一个不同的日子</strong> 卖出该股票==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i], dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>]);</span><br><span class=\"line\">dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>], -prices[i]);</span><br></pre></td></tr></table></figure>\n<p>==II: 你在任何时候 <strong>最多</strong> 只能持有 <strong>一股</strong> 股票。你也可以先购买，然后在 <strong>同一天</strong> 出售。==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>] - prices[i], dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n<p>==III:你可以先购买，然后在 <strong>同一天</strong> 出售。不能同时参与多笔交易（你必须在再次购买前出售掉之前的股票）;你最多可以完成 <strong>两笔</strong> 交易。 <code>K 有限制</code>==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i][<span class=\"number\">0</span>] = dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>]; <span class=\"comment\">//没的</span></span><br><span class=\"line\">dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>] - prices[i]);<span class=\"comment\">//有的</span></span><br><span class=\"line\">dp[i][<span class=\"number\">2</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">2</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i]);<span class=\"comment\">//没的</span></span><br><span class=\"line\">dp[i][<span class=\"number\">3</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">3</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">2</span>] - prices[i]);<span class=\"comment\">//有的</span></span><br><span class=\"line\">dp[i][<span class=\"number\">4</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">4</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">3</span>] + prices[i]);</span><br></pre></td></tr></table></figure>\n<p>==IV:你最多可以完成 <code>k</code> 笔交易。也就是说，你最多可以买 <code>k</code> 次，卖 <code>k</code> 次    <code>K 无限制</code>==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i][j][<span class=\"number\">0</span>] =Math.max(dp[i-<span class=\"number\">1</span>][j][<span class=\"number\">0</span>],dp[i-<span class=\"number\">1</span>][j][<span class=\"number\">1</span>]+prices[i]);</span><br><span class=\"line\">dp[i][j][<span class=\"number\">1</span>] =Math.max(dp[i-<span class=\"number\">1</span>][j][<span class=\"number\">1</span>],dp[i-<span class=\"number\">1</span>][j-<span class=\"number\">1</span>][<span class=\"number\">0</span>]-prices[i]);<span class=\"comment\">//j-1 表示已经操作过一次了</span></span><br></pre></td></tr></table></figure>\n<p>==fee: 可以无限次地完成交易，但是你每笔交易你只需要为支付一次手续费。==</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>] - prices[i] - fee);</span><br></pre></td></tr></table></figure>\n<p>==freeze:卖出股票后，你无法在第二天买入股票 (即冷冻期为 1 天)==</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] + prices[i]);</span><br><span class=\"line\">dp[i][1] = Math.max(dp[i - 1][1], dp[i - 2][0] - prices[i]);</span><br></pre></td></tr></table></figure>\n</blockquote>\n<ul>\n<li>初始化</li>\n</ul>\n<blockquote>\n<p><code>dp[-1][...][0] = dp[...][0][0] = 0</code>       没有股票  所以价值肯定是 0</p>\n<p><code>dp[-1][...][1] = dp[...][0][1] = -infinity</code>      购买次数 为 0  或者天数为 &lt;0  此时还有票 显然非法</p>\n<ul>\n<li><p>只要K是指定的值 或者 无穷大，都可以不考虑，直接忽略</p>\n</li>\n<li><p>k最多（固定值/非固定值）  是要考虑的；</p>\n</li>\n</ul>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 买卖股票的最佳时机 I</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> prices</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit1</span><span class=\"params\">(<span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[prices.length + <span class=\"number\">1</span>][<span class=\"number\">2</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">        dp[i][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i], dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>]);</span><br><span class=\"line\">        dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>], -prices[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[prices.length - <span class=\"number\">1</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 买卖股票的最佳时机 II</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> prices</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit2</span><span class=\"params\">(<span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[prices.length + <span class=\"number\">1</span>][<span class=\"number\">2</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">        dp[i][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">        dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>] - prices[i], dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[prices.length - <span class=\"number\">1</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 买卖股票的最佳时机 III</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> prices</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit3</span><span class=\"params\">(<span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[prices.length + <span class=\"number\">1</span>][<span class=\"number\">5</span>];</span><br><span class=\"line\">    <span class=\"comment\">//不买</span></span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>; <span class=\"comment\">//没的</span></span><br><span class=\"line\">    <span class=\"comment\">//第一次买</span></span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>]; <span class=\"comment\">//有的</span></span><br><span class=\"line\">    <span class=\"comment\">//第一次买+卖</span></span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">2</span>] = <span class=\"number\">0</span>;<span class=\"comment\">//没的</span></span><br><span class=\"line\">    <span class=\"comment\">//第二次买</span></span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">3</span>] = -prices[<span class=\"number\">0</span>];<span class=\"comment\">//有的</span></span><br><span class=\"line\">    <span class=\"comment\">//第二次买+卖</span></span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">4</span>] = <span class=\"number\">0</span>;<span class=\"comment\">//没的</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">        dp[i][<span class=\"number\">0</span>] = dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>]; <span class=\"comment\">//没的</span></span><br><span class=\"line\">        dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>] - prices[i]);<span class=\"comment\">//有的</span></span><br><span class=\"line\">        dp[i][<span class=\"number\">2</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">2</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i]);<span class=\"comment\">//没的</span></span><br><span class=\"line\">        dp[i][<span class=\"number\">3</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">3</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">2</span>] - prices[i]);<span class=\"comment\">//有的</span></span><br><span class=\"line\">        dp[i][<span class=\"number\">4</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">4</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">3</span>] + prices[i]);</span><br><span class=\"line\">        ;<span class=\"comment\">//没的</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[prices.length - <span class=\"number\">1</span>][<span class=\"number\">4</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit3_1</span><span class=\"params\">(<span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[][][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[prices.length + <span class=\"number\">1</span>][<span class=\"number\">3</span>][<span class=\"number\">2</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;= <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][i][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">2</span>; j &gt; <span class=\"number\">0</span>; j--) &#123;</span><br><span class=\"line\">            dp[i][j][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][j][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][j][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">            dp[i][j][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][j][<span class=\"number\">1</span>], dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>][<span class=\"number\">0</span>] - prices[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[prices.length - <span class=\"number\">1</span>][<span class=\"number\">2</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 买卖股票的最佳时机 IV</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> k</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> prices</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit4_1</span><span class=\"params\">(<span class=\"type\">int</span> k, <span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[prices.length + <span class=\"number\">1</span>][<span class=\"number\">2</span> * k + <span class=\"number\">1</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; <span class=\"number\">2</span> * k + <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i % <span class=\"number\">2</span> != <span class=\"number\">0</span>) dp[<span class=\"number\">0</span>][i] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">else</span> dp[<span class=\"number\">0</span>][i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; j &lt; <span class=\"number\">2</span> * k; j += <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">            dp[i][j + <span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][j + <span class=\"number\">1</span>], dp[i - <span class=\"number\">1</span>][j] - prices[i]);</span><br><span class=\"line\">            dp[i][j + <span class=\"number\">2</span>] = Math.max(dp[i - <span class=\"number\">1</span>][j + <span class=\"number\">2</span>], dp[i - <span class=\"number\">1</span>][j + <span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[prices.length - <span class=\"number\">1</span>][<span class=\"number\">2</span> * k];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit4_2</span><span class=\"params\">(<span class=\"type\">int</span> k, <span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[][][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[prices.length][k + <span class=\"number\">1</span>][<span class=\"number\">2</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt;= k; i++) &#123;</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][i][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">j</span> <span class=\"operator\">=</span> k; j &gt; <span class=\"number\">0</span>; j--) &#123;</span><br><span class=\"line\">            dp[i][j][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][j][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][j][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">            dp[i][j][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][j][<span class=\"number\">1</span>], dp[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>][<span class=\"number\">0</span>] - prices[i]);<span class=\"comment\">//j-1 表示已经操作过一次了</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[prices.length - <span class=\"number\">1</span>][k][<span class=\"number\">0</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 买卖股票的最佳时机含手续费</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> prices</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> fee</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit</span><span class=\"params\">(<span class=\"type\">int</span>[] prices, <span class=\"type\">int</span> fee)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[prices.length + <span class=\"number\">1</span>][<span class=\"number\">2</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>] - fee;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">        dp[i][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">        dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>] - prices[i] - fee);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[prices.length - <span class=\"number\">1</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 买卖股票的最佳时机含冷冻期</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> prices</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit</span><span class=\"params\">(<span class=\"type\">int</span>[] prices)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (prices.length == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">//有冷冻期</span></span><br><span class=\"line\">    <span class=\"type\">int</span>[][] dp = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[prices.length + <span class=\"number\">1</span>][<span class=\"number\">2</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">    dp[<span class=\"number\">1</span>][<span class=\"number\">0</span>] = Math.max(dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>], dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] + prices[<span class=\"number\">1</span>]);</span><br><span class=\"line\">    dp[<span class=\"number\">1</span>][<span class=\"number\">1</span>] = Math.max(dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>], -prices[<span class=\"number\">1</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">2</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">        dp[i][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">        dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>], dp[i - <span class=\"number\">2</span>][<span class=\"number\">0</span>] - prices[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[prices.length - <span class=\"number\">1</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"一解通所有\"><a href=\"#一解通所有\" class=\"headerlink\" title=\"一解通所有\"></a>一解通所有</h4><blockquote>\n<p>全能答案&lt;不考虑时间空间复杂度&gt;</p>\n<p><strong>Q:</strong>股票价格数组 <code>prices</code>，你最多进行 <code>max_k</code> 次交易，每次交易需要额外消耗 <code>fee</code> 的手续费，而且每次交易之后需要经过 <code>cooldown</code> 天的冷冻期才能进行下一次交易，请你计算并返回可以获得的最大利润。</p>\n<p><strong>A:</strong><code>int maxProfit_all_in_one(int max_k, int[] prices, int cooldown, int fee);</code></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit_all_in_one</span><span class=\"params\">(<span class=\"type\">int</span> max_k, <span class=\"type\">int</span>[] prices, <span class=\"type\">int</span> cooldown, <span class=\"type\">int</span> fee)</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> prices.length;</span><br><span class=\"line\">   <span class=\"type\">int</span> dp[][][] = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n][max_k][<span class=\"number\">2</span>];</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(n&lt;<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"comment\">// 递归  k 为最多（非固定值）次</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span>(max_k&gt;n/<span class=\"number\">2</span>) <span class=\"keyword\">return</span> maxProfit_k_inf(prices, cooldown, fee); </span><br><span class=\"line\"><span class=\"comment\">// 递归  k 为最多（非固定值）次</span></span><br><span class=\"line\">   <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;n; i++)&#123;                  </span><br><span class=\"line\">       dp[i][<span class=\"number\">0</span>][<span class=\"number\">1</span>] = Integer.MIN_VALUE;</span><br><span class=\"line\">       dp[i][<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>; i&lt;n; i++)&#123;</span><br><span class=\"line\">       <span class=\"comment\">// 递归  k 为最多（非固定值）次</span></span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">k</span> <span class=\"operator\">=</span> max_k; k&gt;<span class=\"number\">0</span>; k--) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (i - <span class=\"number\">1</span> == -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">               dp[i][k][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">               dp[i][k][<span class=\"number\">1</span>] = -prices[i] - fee;</span><br><span class=\"line\">               <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"comment\">//存在冷冻期</span></span><br><span class=\"line\">           <span class=\"keyword\">if</span> (i - cooldown - <span class=\"number\">1</span> &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">               dp[i][k][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">               dp[i][k][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">1</span>], -prices[i] - fee);</span><br><span class=\"line\">               <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// k 为最多（非固定值）次</span></span><br><span class=\"line\">           dp[i][k][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">1</span>] + prices[i]);</span><br><span class=\"line\">           <span class=\"comment\">//存在冷冻期    含有手续费</span></span><br><span class=\"line\">           dp[i][k][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][k][<span class=\"number\">1</span>], dp[i - cooldown - <span class=\"number\">1</span>][k - <span class=\"number\">1</span>][<span class=\"number\">0</span>] - prices[i] - fee);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> dp[n-<span class=\"number\">1</span>][max_k][<span class=\"number\">0</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"title function_\">maxProfit_k_inf</span><span class=\"params\">(<span class=\"type\">int</span>[] prices, <span class=\"type\">int</span> cooldown, <span class=\"type\">int</span> fee)</span> &#123;</span><br><span class=\"line\">   <span class=\"type\">int</span> <span class=\"variable\">n</span> <span class=\"operator\">=</span> prices.length;</span><br><span class=\"line\">   <span class=\"type\">int</span> dp[][]= <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[n][<span class=\"number\">2</span>];</span><br><span class=\"line\">   <span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(i-<span class=\"number\">1</span> == -<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">           dp[i][<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">           dp[i][<span class=\"number\">1</span>] = -prices[i]-fee;</span><br><span class=\"line\">           <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">      <span class=\"comment\">//存在冷冻期    含有手续费</span></span><br><span class=\"line\">       <span class=\"keyword\">if</span>(i-<span class=\"number\">1</span>-cooldown &lt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">           dp[i][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>], dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>] + prices[i]);;</span><br><span class=\"line\">           dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>], -prices[i] - fee);</span><br><span class=\"line\">           <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       dp[i][<span class=\"number\">0</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">0</span>], dp[i-<span class=\"number\">1</span>][<span class=\"number\">1</span>]+prices[i]);</span><br><span class=\"line\">        <span class=\"comment\">//存在冷冻期    含有手续费</span></span><br><span class=\"line\">       dp[i][<span class=\"number\">1</span>] = Math.max(dp[i - <span class=\"number\">1</span>][<span class=\"number\">1</span>], dp[i-cooldown-<span class=\"number\">1</span>][<span class=\"number\">0</span>]-prices[i]-fee);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span>  dp[n-<span class=\"number\">1</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","_path":"post/a80d0031.html","_link":"http://rycan.top/post/a80d0031.html","_id":"clo9tj5vv0053l10phkde6cm6"}}